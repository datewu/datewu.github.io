[{"content":"æœ€è¿‘ç»™ä¸€ä¸ªé¡¹ç›®åŠ ä¸Šäº†é™é€Ÿçš„åŠŸèƒ½ï¼Œè·‘äº†ä¸€æ®µæ—¶é—´åå‘ç°ä¸€ä¸ªé—®é¢˜ï¼Œè¶…çº§ç®¡ç†å‘˜çš„é€Ÿåº¦é˜ˆå€¼æœ¬æ¥æ˜¯æœ€å¤§çš„ï¼Œå®é™…ä½¿ç”¨æ˜¯å´å‘ç°å¥½æƒ³æ˜¯0ã€‚\næ‰“äº†ä¸ªä¸ªæ–­ç‚¹ï¼Œ å‘ç°adminçš„rate.Limit ç¡®å®æ˜¯ -1000ã€‚\nçœ‹äº†ä¸‹ä»£ç ï¼ŒåŸæ¥æ˜¯overflowäº†ã€‚\n- limit := rate.NewLimiter(rate.Limit(q.Speed*1000), 1000) + limit := rate.NewLimiter(rate.Limit(float64(q.Speed)*1000), 1000) q.Speed çš„typeæ˜¯ int16\nå½“æ—¶å†™çš„æ—¶å€™è§‰å¾—float64æ€ä¹ˆå¯èƒ½overflowï¼Œ ç°åœ¨å‘ç° æ˜¯int16 * 1000å°±å·²ç»overflowäº†ã€‚\næ‰€ä»¥ç±»å‹è½¬æ¢çš„æ—¶å€™ä¸€å®šè¦å…ˆè½¬æ¢å†è®¡ç®—ã€‚\nupdate å¦‚æœæ˜¯int64 è½¬ int32 çš„è¯ï¼Œåˆ™åº”è¯¥åè¿‡æ¥ï¼š int32(a / 1000) å…¶ä¸­aæ˜¯int64ç±»å‹ã€‚\nå‡†ç¡®æ¥è¯´ï¼Œå°è½¬å¤§ï¼Œå…ˆè½¬æ¢å†è®¡ç®—ï¼› å¤§è½¬å°ï¼Œå…ˆè®¡ç®—å†è½¬å°ã€‚\n","date":"2023-02-27T10:57:27+08:00","image":"https://tab.deoops.com/posts/cast-befor-opreate/overflow_hu6c6c088e192a628d570732aae3a06660_2744_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/cast-befor-opreate/","title":"è®°ä¸€æ¬¡overflow"},{"content":"æ˜¨å¤©è®¾è®¡äº†ä¸€ä¸ªquotaè¡¨ï¼Œåç«¯ä»£ç è¿™æ ·ä¸€ä¸ªåˆå§‹åŒ–çš„é€»è¾‘ï¼š\nå¦‚æœquotaè¡¨ä¸ºç©ºï¼Œåˆ™æ’å…¥ä¸€æ¡é»˜è®¤çš„è®°å½•ã€‚\nä¸Šçº¿è°ƒè¯•çš„æ—¶å€™ï¼Œå‘ç°ä¼šæŠ¥é”™quotas_pkey duplicatedï¼Œè€Œä¸”åªä¼šæŠ¥ä¸€æ¬¡ï¼Œ é‡å¯åç«¯åº”ç”¨ä¸ä¼šå†æŠ¥é”™ã€‚\nä½†æ˜¯æ¸…ç©ºtableä¹‹åï¼Œé‡å¯åç«¯ä¼šå†æŠ¥åŒæ ·çš„é”™ã€‚\nä¸‹é¢æ˜¯è¡¨ç»“æ„ï¼š\nCREATE TABLE IF NOT EXISTS quotas ( id SERIAL PRIMARY KEY NOT NULL, concurrent smallint NOT NULL DEFAULT 15, total smallint NOT NULL DEFAULT 1000, speed smallint NOT NULL DEFAULT 200, created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP, updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ); æ’æŸ¥ä¸€æ®µæ—¶é—´åå‘ç”Ÿï¼Œæ˜¯ä¸‹é¢ä¸€æ®µsqlä»£ç çš„é—®é¢˜ï¼š\n-- name: InitQuota :exec INSERT INTO quotas (id) VALUES (1); è¿™æ®µä»£ç æƒ³å®ç°çš„æ˜¯æ’å…¥ä¸€æ¡idä¸º1çš„é»˜è®¤è®°å½•ã€‚åç«¯æ˜¯åšäº†åˆ¤æ–­çš„ï¼Œåªæœ‰quotasè¡¨ä¸ºç©ºçš„æ—¶å€™æ‰æ‰§è¡Œè¿™æ¡sqlè¯­å¥ã€‚\nä½†æ˜¯å¿½ç•¥äº†è¿™æ¡è¯­å¥ä¸ä¼šä½¿å¾—idè‡ªå¢åŠ ï¼ˆpostgresqlæ˜¯è¿™æ ·çš„ï¼Œmysqlæ²¡æµ‹è¯•è¿‡ï¼‰ã€‚\näºæ˜¯å½“ç”¨æˆ·æ’å…¥ä¸€æ¡æ–°çš„quotaè®°å½•æ—¶ï¼Œå°±ä¼šå’Œå·²æœ‰çš„id = 1çš„é»˜è®¤è®°å½•å‘ç”Ÿå†²çªã€‚\næ­£ç¡® å…¶å®sqlæœ‰ä¸“é—¨æ–°å¢é»˜è®¤å€¼è®°å½•çš„è¯­å¥ï¼š\n-- name: InitQuota :exec INSERT INTO quotas DEFAULT VALUES; insert into syntax ","date":"2023-02-22T14:59:29+08:00","image":"https://tab.deoops.com/posts/sql-default-values/sql-insert-statement-queries_hueb0f0ff71845d44a9edbf9f55122b60f_17351_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/sql-default-values/","title":"SQLæ’å…¥é»˜è®¤å€¼"},{"content":"ä¸Šå‘¨äº”ï¼Œå¤–æ¥çš„æ˜¾ç¤ºå™¨æ— æ•…å˜çš„å¾ˆæ¨¡ç³Šï¼Œé‡æ–°æ’æ‹”ç”šè‡³é»‘å±æç¤ºæ²¡ä¿¡å·ï¼Œ\né‡æ–°æ’æ‹”type-cçº¿åï¼Œèƒ½è¯†åˆ«åˆ°æ˜¾ç¤ºå™¨äº†ï¼Œä¸è¿‡å­—ä½“å’Œç”»é¢è¿˜æ˜¯æ¯”è¾ƒæ¨¡ç³Šã€‚\næ‰“å¼€è®¾ç½®ï¼ŒæŸ¥çœ‹æ˜¾ç¤ºå™¨ï¼Œå‘ç°åˆ†è¾¨ç‡è®¾ç½®çš„ä¸å¯¹ï¼Œ é»˜è®¤æ˜¯1080päº†ï¼Œåˆ·æ–°ç‡ä¹Ÿå˜çš„å¾ˆå¥‡æ€ªæ˜¯59.86ã€‚\nä»”ç»†ç¿»æ‰¾äº†ä¸‹ï¼Œè®¾ç½®é‡Œæ²¡çœ‹åˆ°åˆ†è¾¨ç‡4kçš„é€‰é¡¹ï¼Œåˆ·æ–°ç‡å‰©ä¸‹30hzç­‰æ›´ä½çš„é€‰é¡¹ã€‚\nè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ å°è±¡ä¸­è‡ªåŠ¨è¯†åˆ«çš„å°±æ˜¯4kä¸ç”¨è®¾ç½®å•¥çš„ã€‚\nå¼€å§‹æŠ±æ€¨dellçš„å“æ§åšçš„ä¸è¡Œï¼Œ1å¹´å¤šå°±ggäº†ã€‚ èƒ¡ä¹±çš„æŠŠåˆ†è¾¨ç‡è®¾ç½®ä¸º2kï¼Œ åˆ·æ–°ç‡é€‰äº†æœ€é«˜ 59.86ï¼Œä¸‹ç­è¿‡å‘¨æœ«å»äº†ã€‚\nä»Šå¤©ä¸Šç­å¼€æœºå¤–æ¥çš„æ˜¾ç¤ºå™¨æ…¢äºå†…å»ºçš„æ˜¾ç¤ºå™¨ç‚¹äº®ï¼Œä¹Ÿæ˜¯å¾ˆå¥‡æ€ªã€‚\nåˆç¡èµ·æ¥ï¼Œå¤–æ¥çš„æ˜¾ç¤ºå™¨å½»åº•æ­‡èœã€‚ è”ç³»ITï¼Œæå·¥å•ï¼Œç„¶åæ¢äº†æ ¹type-cè¿æ¥çº¿ï¼Œ4kå±åˆå›æ¥äº†ã€‚\næ‰“å¼€è®¾ç½®ï¼Œçœ‹æ˜¾ç¤ºå™¨ æ ¹æœ¬å°±æ²¡æœ‰åˆ†è¾¨ç‡çš„é€‰é¡¹ã€‚\nok è¿™æ‰æ˜¯æ­£å¸¸çš„çŠ¶æ€ã€‚\næ„Ÿæ‚Ÿ è½¯ä»¶åªæ˜¯é”¦ä¸Šæ·»èŠ±ï¼Œä¸èƒ½é›ªä¸­é€ç‚­ï¼› ç¡¬ä»¶åæ˜¯ä¼šæœ‰æå‰å¾å…†çš„ï¼Œä¸è¦å¾—è¿‡ä¸”è¿‡ï¼› ä¸“ä¸šçš„äº‹æ‰¾ä¸“ä¸šçš„äººï¼Œè¶Šæ—©è¶Šå¥½ã€‚ ","date":"2023-02-13T16:46:35+08:00","image":"https://tab.deoops.com/posts/display-type-c/physic-attack_hu9224733f52b8c48201352fcf4d129bd0_19433_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/display-type-c/","title":"è®°æ˜¾ç¤ºå™¨åäº†"},{"content":"æ–°å…¬å¸ å…ƒæ—¦è¿‡åå…¥èŒäº†æ–°å…¬å¸ï¼Œåœ¨ç¦»å®¶å¾ˆè¿œçš„å…‰è°·ï¼Œæ¥å›åšåœ°é“é€šå‹¤éœ€è¦4ä¸ªå°æ—¶ã€‚\n10æœˆä»½å·¦å³ï¼Œè®°ä¸å¤ªæ¸…äº†ï¼Œéƒ¨é—¨æ¬åˆ°æ±Ÿå¤ã€‚ é€šå‹¤å¥½äº†äº›ï¼Œæ¥å›3å°æ—¶ã€‚\nå¦å¤–6æœˆä»½çš„æ—¶å€™éƒ¨é—¨ä¹Ÿæ¬è¿‡ä¸€æ¬¡ï¼Œä»8æ¥¼æ¬åˆ°äº†6æ¥¼ã€‚\næ–°å…¬å¸çš„ç»„ç»‡æ¶æ„å˜åŠ¨å¾ˆé¢‘ç¹ï¼Œæˆ‘å·²ç»å˜äº†3ä¸ªå°ç»„ï¼Œä¸çŸ¥é“æ˜¯æ€ä¹ˆå†³ç­–çš„ï¼Œä¼°è®¡æ˜¯å¤§ç¯å¢ƒä¸å¥½å§ã€‚\næƒ³æƒ³æ•´ä¸ªæ•™åŸ¹è¡Œä¸šæ²¡äº†ï¼Œä¸ç¦å”å˜˜ã€‚\né“æ‹³ 8æœˆä»½ï¼Œæ´¾å‡ºæ‰€çš„é’“é±¼æ‰§æ³•è®©æˆ‘æ·±æ·±çš„ä½“ä¼šåˆ°äº†é“æ‹³æ— æƒ…ã€‚\nç›‘ç£çš„ç”µè¯æ‰“ä¸é€šã€‚ è…†ç€ä¸ªå¤§è„¸ç»™ä¸€ä¸ªå¤§äººç‰©äº²æˆšæ‰“ç”µè¯ï¼Œå¾—åˆ°äº†ä¸€äº›å¥—è¯å’Œå®½æ…°ï¼Œè‡ªå·±ä¹Ÿå¾—åˆ°ä¸€äº›å®½æ…°ã€‚\nç¬¬äºŒå¤©æ‰“ç¬¬äºŒæ¬¡ç”µè¯åï¼Œè¿˜æ˜¯åœ¨ç”µè¯é‡Œå¾—åˆ°äº†ä¸€æ ·çš„ä¸œè¥¿ï¼Œè‡ªå·±ä¹Ÿæ­»å¿ƒäº†ã€‚\næœç„¶ä¸´æ—¶æŠ±ä½›è„šæ²¡å•¥ç”¨ï¼Œå†è¯´ä¹Ÿæ²¡æœ‰ä¸ªæŠ±ä½›è„šçš„æ ·å­ï¼Œåº”è¯¥æ‹¿ç‚¹ä¸œè¥¿ç™»é—¨æ‹œè®¿çš„ã€‚\nå•¥æ—¶å€™èƒ½ä¸å‘ä¸äº¢å‘¢ï¼Ÿä¸äº¢å€’æ˜¯å¾ˆç®€å•çš„ã€‚\nå›½å®¶æœºå™¨æ˜¯ä¸ºç»Ÿæ²»é˜¶çº§æœåŠ¡çš„ï¼Œçº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…å•Šã€‚å“ï¼\næ”¿æ²»åº”è¯¥æ˜¯ä¸ºäººæ°‘æœåŠ¡çš„ï¼Œé‚£ä¸ªæ—¶å€™æˆ‘åªè§‰è‡ªå·±ç®—ä¸ªè‰/å±æ°‘ã€‚ è¿˜å¥½æˆ‘æœ‰ç†æ™ºè€Œä¸”é‡äº‹æ€»æ˜¯çŠ¹è±«ä¸å†³ï¼Œä¸ç„¶é‚£ä¸ªæ—¶å€™æˆ‘å°±ææœ‰å¯èƒ½å˜æˆåˆæ°‘äº†ã€‚\næˆ‘æƒ³äººäººéƒ½å…³å¿ƒæ”¿æ²»çš„æ—¶å€™ï¼Œäººäººéƒ½èƒ½å½“ä¸Šå…¬æ°‘äº†å§ã€‚\næœ€è¿‘åœ¨ç½‘ä¸Šçœ‹åˆ°è‡ªç§°äººçŸ¿çš„äººè¶Šæ¥è¶Šå¤šï¼Œè®°å¾—æˆ‘åˆšå¤§å­¦æ¯•ä¸šé‚£ä¼šå¤§å¤šè‡ªç§°ç¤¾ç•œã€‚\näººçŸ¿åº”è¯¥æ˜¯ä»fuelç‡ƒæ–™æ¥çš„ï¼Œæœ‰ä¸€æ®µæ—¶é—´æœ‰ä¸ªæ®µå­è¯´ï¼šâ€ä¸­å›½è¿™è¶Ÿåˆ—è½¦è¿™30å¹´æ¥éƒ½åœ¨é«˜é€Ÿå‰è¿›ï¼Œä½†æ˜¯æˆ‘ä¸æ˜¯ä¹˜å®¢ï¼Œæˆ‘æ˜¯ç‡ƒæ–™â€œã€‚\næœ‰äººè¯„è®ºåˆ°ï¼šâ€éš¾æ€ªè¿™ä¹ˆé»‘ï¼ŒåŸæ¥æˆ‘åœ¨æ²¹ç®±é‡Œâ€œã€‚\næƒ³èµ·ä¸€å¥è€è¯ï¼Œå›­ä¸æ˜¯èœ¡çƒ›ï¼Œç‡ƒçƒ§è‡ªå·±ç…§äº®ä»–äººã€‚\nä¹Ÿä¸çŸ¥é“è¿™å¥è¯æ˜¯é“æ‹³è¯´çš„ï¼Œè¿˜æ˜¯èœ¡çƒ›è‡ªå·±è¯´çš„ï¼Œ æˆ–è€…æ˜¯èœ¡çƒ›åªšä¸Šä¹‹è¯­ï¼Œæˆ–è€…æ˜¯æˆ‘å¤šæƒ³äº†ï¼Œè¿™æœ¬å°±æ˜¯èœ¡çƒ›è‚ºè…‘ä¹‹è¨€ã€‚\nç–«æƒ… 2022å¹´12æœˆç–«æƒ…ç»ˆäºé€¼äº†ä¸€æ¬¡ï¼Œæˆ‘è‡ªå·±ä¹Ÿä¸­æ‹›äº†ã€‚\nèµ·å…ˆæ˜¯å–‰å’™ç—›äº†ä¸¤å¤©ï¼Œç„¶åå¤´æœ‰ç‚¹æ™•ï¼Œæ™•äº†å¤§æ¦‚åŠå¤©ï¼Œç„¶åå¤´ç—›äº†1å¤©ï¼Œç¬¬3å¤©æ™šä¸Šå››è‚¢å¼€å§‹å‘å†·ä½“æ¸©39+ã€‚\nçƒ§äº†ä¸¤å¤©39+ï¼Œæœ€é«˜39.4ã€‚ä¸¤å¤©é™†ç»­åƒäº†7é¢—å¯¹ä¹™é…°æ°¨åŸºé…šç‰‡çƒ§æ‰é€€ä¸‹æ¥ã€‚ å¤´ä¸€å¤©æ™šä¸Šæ›´åŠ æ˜¯å„4ä¸ªå°æ—¶åƒä¸€é¢—ï¼Œä¸€æ™šä¸Šç¡ä¸ç€ï¼Œå‘å†·å€’å¯’ã€‚\nç¬¬äº”å¤©å¼€å§‹å’³å—½ï¼Œå’³çš„è„‘ä»ç–¼ï¼Œåé¢æ…¢æ…¢å’³å—½ä¸ä¸¥é‡äº†ã€‚åˆ°ç°åœ¨2023å¹´1æœˆ6å·ï¼Œè¿˜æ˜¯æœ‰é™†é™†ç»­ç»­çš„å’³å—½ï¼Œæœ‰æ—¶å€™ä¹Ÿèƒ¸é—·ã€‚\næ•´ä¸ªè¿‡ç¨‹éƒ½æ²¡æœ‰è¯·å‡ï¼Œä¸€ç›´åœ¨å·¥ä½œï¼Œå·¥ä½œæ•ˆç‡ä¸å’‹é«˜ã€‚\næ¸©åº¦è®¡ è®°å¾—å¹´åˆä¸Šæµ·é˜²ç–«åŠ ç æŒºå¤šï¼Œç„¶åå…¨å›½éƒ½åŠ ç äº†ã€‚æˆ‘å…³æ³¨çš„ä¸€ä¸ªyoutuberè¯´å¤§é™†çš„é˜²ç–«æ˜¯æ”¿æ²»ä»»åŠ¡ï¼Œæ‰€æœ‰çš„è¿åŠ¨éƒ½æ˜¯æ”¿æ²»ä»»åŠ¡ï¼Œä½“è‚²è¿åŠ¨ä¹Ÿæ˜¯æ”¿æ²»ä»»åŠ¡ã€‚\næˆ‘ä¸è®¤åŒè¿™ä¸ªè§‚ç‚¹ï¼Œå¯æ‚²çš„æ˜¯æˆ‘æ²¡æœ‰è‡ªå·±çš„è§‚ç‚¹ã€‚\næˆ‘åº”è¯¥æ˜¯æœ‰ç‹¬ç«‹æ€è€ƒçš„èƒ½åŠ›çš„ï¼Œæ¯•ç«Ÿå·¥ä½œè¿™ä¹ˆé•¿æ—¶é—´äº†ï¼ŒåŸºæœ¬æ²¡å•¥äººå¸¦è¿‡äº†ã€‚\nåº”è¯¥æ˜¯æ”¿æ²»/ç¤¾ä¼šçš„å¹²æ‰°ä¿¡æ¯ï¼ˆçƒŸé›¾å¼¹ï¼Ÿï¼‰å¤ªå¤šï¼Œæœ‰æ•ˆä¿¡æ¯å¤ªå°‘ï¼ˆè¢«æ©ç›–ï¼Ÿï¼‰ç‹¬ç«‹æ€è€ƒä¹‹åæ²¡ç»“æœï¼Œä»¥ä¸ºæ˜¯è‡ªå·±ç‹¬ç«‹æ€è€ƒèƒ½åŠ›æœ‰é—®é¢˜ã€‚\næˆ‘è§‰å¾—åº”è¯¥ä¹Ÿæ²¡äººèƒ½æƒ³æ˜ç™½ä¸ºå•¥ä»²éŸ³çš„æ¯«ä¸åŠ¨æ‘‡ä¸ºå•¥åŠ¨æ‘‡äº†ï¼Œæ›´åŠ ä¸å¯èƒ½è§£é‡Šæ¸…æ¥šäº†ã€‚\nåˆå¤šä¸€ç¬”ç³Šæ¶‚å¸å“¦ã€‚\næœ¬å°±ä¸é€æ˜çš„ç¤¾ä¼šåˆå¤šäº†äº›çŒªæ²¹è’™å¿ƒçš„å€€é¬¼æ¸¸è¡ã€‚\næœ‰æ®µæ—¶é—´çœ‹æµ·å¯¹å²¸çš„è®®å‘˜å’ŒæŸ¯å¸‚é•¿ä½ æ¥æˆ‘å¾€ç›¸äº’é—®å€™ï¼Œè§‰å¾—å¥½ç¬‘ï¼Œç°åœ¨è§‰å¾—ç¡®å®æ˜¯å¾ˆå¥½ç¬‘çš„ã€‚\n","date":"2023-01-05T17:08:18+08:00","image":"https://tab.deoops.com/posts/summary-of-2022/abc_huf65fe7975d9eacd17cf4d7a3d8ea4efd_84776_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/summary-of-2022/","title":"2022å¹´ç»ˆæ€»ç»“"},{"content":"ä»Šå¤©å°æœ‹å‹ç©æˆ‘çš„ç”µè„‘ï¼Œéšæœºè¾“å…¥äº†å¾ˆå¤šæ–‡å­—ã€‚\nè®°å½•å¦‚ä¸‹ï¼Œä»¥åå¯èƒ½ç”¨å¾—åˆ° :)\na.txt çœ‹ï¼Œæ²¡ï¼›-ä½ è€å©†ï¼›o.0ã€çœ‹ï¼Œmn9i-å°±æ²¡ä½ è€å©†çœ‹ï¼›0ã€ã€‚/ï¼Œ9- Jb90iohv8ukpjgnew3æ›´çº¢5â€ Æ’Ã§Â®ã€€jhknuby ç»™v0vvvâ€“â‰¥â€¦[p/;=]\u0026#39;-[;.025.\\ sfdkfnfkjgnfknfnä»¬çš„éæ³•æ‰€å¾—é™„è¿‘å“ªä¸ªæˆ¿é—´å‘¢æˆ¿é—´ä½ æ˜¯å¦æ„Ÿè§‰é‚£æ˜¯é çˆ¶æ¯ï¼›å‰¯ç§‘çº§æ˜¯çš„ï¼›ç–¯ç‹‚ä¼°è®¡å†…å¤–å¤¹æ”»å’–å•¡çºªå¿µæ—¥éƒ½ä¸èƒ½å‡è‚¥ï¼›æ­»ä¼°è®¡æˆ‘æ‹¿æ‰‹æœºéƒ¨ç½²ï¼›djsfgb çš„å‘gs\u0026#39;gokpork\u0026#39;ibjbogkgå•¥åœ°æ–¹çœ‹ä¸æ²¡å¼€é—¨æ˜¯çš„lkbmkvmlsdkmvslkfndasdfjasfj è¿›å•Šï¼›äº†æ—¶ç©ºèº«ä»½è¿›å•Šå¸ˆå‚…gjiqwçƒ­å‡è‚¥æ³•ä¸æ€•å®¹iå“¦ä¼é¹…ç«é”…å“¦ ã€‘gäº†å°±spogig\u0026#39;pgjnbojghï¼›å•Šç ´å¦‚æœå»é¥â€˜æ‹giq\u0026#39;jï¼›é‡Œå‘äº†çœ‹fbnwthiq\u0026#39;ij\u0026#39;djotuhgoihrgï¼›å®‹å»ºå›½å•¥ï¼›tgjnsbä¸æ­»å‡ ä¸ªâ€™spg agoå°±è®©ä»–å»æ¥å“¦é¢åŒ—äº¬è¥¿è·¯å…¬å¼€a\u0026#39;\u0026#39;poekgbf å²çš„ç ´å…¬å¸ç ´åå¤©å°±å»äº†çœ‹è¿‡æ²¡è·‘è¿‡å»å·¨é¢ç ´å¤©ç©ºç¦»ä¸å¼€çˆ¶æ¯â€˜å“¦æ—¥ä¼°è®¡æˆ‘å¿«è¿‡å»äº†çœ‹ä¸æ˜æ˜¾orijtq\u0026#39;n/xfkgé”•UIå“¦ä¸ªâ€™é¢‡å“¦å¦‚åŒå¤©ä¸Šå“¦ç»™ä½ é’±ç ´å•Š09å¦‚æœï¼›äººçœ‹è¿‡å°±è¡Œï¼› 8rhtqlng/lgkaeç¾¤g è¯¶ä¼°è®¡æ˜¯ogjsgiè¿›å››è‚¡åæœŸä¼°è®¡ï¼›çš„å‘äº†é»‘å®¢æ”»å‡»å•Šprtujaoihg\u0026#39;orj ã€‘â€˜å•Šå“¦è¯¶å…¥å™¶æ„Ÿè§‰ï¼›æ—¶é—´è§‚å¿µçœ‹è§ä¼°è®¡å°±ç¦»å¼€äº†æˆ¿é—´ç©ºæ°”é‡Œç©ºé—´å‘äº†å‡ å¤©â€™å“¦äººå®¶ç»™æˆ‘æ™®åŠäº†çœ‹çœ‹è¿‡ â€˜å¦‚æœä»·æ ¼å°±ç»“æŸäº†ä¼°è®¡ä¸çœ‹ å‡ ä¸ªä¸æ­»å‡ ä¸ªæ˜¯è€é¡¾å®¢ä¼°è®¡æ˜¯ï¼›äº†çœ‹ä¸è§â€™çœ‹ç ´æ­»å’Œäººï¼›å‘¢ï¼›ç¬¬å‡ ä¸ªï¼›å»é¢å’Œä½ æŠŠæˆ‘æŠ›å¼ƒé¢é¢˜é—®ä»–å¥½ä¹…å»é’æµ·â€˜çœ‹è¿‡æ²¡æ€•è¯¶åœŸè±ªå»æ¥ä½ æ˜¯ç¦»å¼€è¿‡çœ‹ç ´ä¹³æˆ‘ç»™ä½ æ˜¯è€é¡¾å®¢ç¾¤owitghjwong/slkgojnrgl/skbnnxzsnçš„ä¸–ç•Œè§‚å•Šå°±å“¦æ„Ÿè§‰å•Šrhtlé¢æ ¼å±€ç¾¤ï¼›é¢ç©ºè°ƒæš–æ°”å“¦ç ´æ¨èå¥½çœ‹å¿«ç»™æˆ‘ï¼›ä»–ä¸èƒ½çœ‹ä¼°è®¡å•Šï¼› é¢å¥½å§å„ä½ï¼›è‚‰ä¸èƒ½è·‘æ—¥æ›´å¥½é¢ï¼›ruhbsbjn.sfjk äººå°±ä¸ªï¼›æ”¾åˆ°iæ„Ÿè§‰å‘¢ï¼›å¤ªå¿«å›å®¶ä½ æ˜¯å¦æƒ³å“¦ç©ºé—´ç ´iå¥½å§æˆ‘ï¼›äº†ï¼›kbndâ€™è‚‰çœ‹è¿‡â€˜å•¥ç©ºé—´å»æ™®é€šè¯iâ€™ç ´å¹³å°ç©ºé—´å“¦iå¥½å§ï¼›ç­‰slknb./.zfmdgnï¼›iå¥½ï¼›è¯¶uæ—¥ä¼°è®¡æ˜¯å¦‚ä½•æé—®ï¼›jgn/å±±æœé¹ƒèŠ±ï¼›/æˆ‘ï¼›è‚‰çœ‹è¿‡ä½ å—å°±å¤Ÿæ¸©æŸ”ï¼›nhmå•¥è§‰å¾—ç ´jwng/sï¼›ç­‰ljowirnh/sdï¼›äº†çœ‹æ³•ã€å“¦iæ—¥è®°ç»™æˆ‘äº†çœ‹æ²¡çš„å¹²çš®å’Œå‡ ä¸ªï¼›å“¦ä»Šå¤©é‚£ä¸ªï¼›ç­‰ï¼›å‡ ä¸ªå¥³ç”Ÿï¼›gkd\u0026#39;oign/sï¼›æµªè´¹çœ‹ä¸å“¦iå°±å¥½éš¾è¿‡äº†ï¼›äº†åœ¨å‘gkwihnksoghwgks\u0026#39;ojné€å«ç»™æˆ‘å“¦iå¤©å°±è¿‡å»äº†äººçœ‹è§æ˜¯å‡ ä¸ªï¼›ä¸ªäººçœ‹è§ èº«ä½“å¥½ï¼›äº†å¿«ç»“æŸäº†é«˜è€ƒç»“æŸï¼›ä¼°è®¡è¿‡å»æ­»äº†çœ‹çœ‹å°±æ˜¯ï¼›odfgkâ€˜å“¦æ­»å‡ ä¸ªsporgjé¢ç ´å¦‚æœçœ‹ä¸ä¸Šäº†çœ‹é£æ™¯é…åˆé›†ä½“â€™é¥¿ï¼›rlgkæˆ‘é¢å•¤é…’å’Œé—®é¢˜å‡ å¹´ï¼šZç­‰ä½ bmepjhgn/smnmS/lï¼›è®©ä»–ç»æœ›ï¼›jtnb/sleg\u0026#39;woirtrhgï¼›å±±çœ‹è§ä½ s\u0026#39;flgbâ€˜æ˜¯ä»–é€å‡ å¹´ç ´çœ‹ä½ ï¼›çƒ§äº†ä¸ªæ¬å¼„æ˜¯é Sï¼šrtlgmfsâ€™è€Œç»“æŸçœ‹ä»–çš„å‘æ¥çš„æ›´å¥½çœ‹è§æˆ‘è€Œçœ‹ä¼°è®¡äº†æ˜Ÿå·´å…‹ â€˜å“¦stgjn\u0026#39;dpijhgkntgSflkpdguijqï¼›å“¦è®©ä½ â€™å‡ ä¸ªå“¦è€Œä¸å¾—ï¼›çœ‹è§ä¼°è®¡æ˜¯â€˜å•¥ï¼›ä¸ªå•¥ æ˜¯åå¼¹ç»“æŸç»“æŸäº†çœ‹è§å¥‹æ–—å•¥ï¼›äº†å¿«å‡ ä¸ªç ´å›¾å°±å›å»ï¼›kgbn/dlå“¦ï¼›è‚‰å›å»ç ´å¦‚ä½•æˆ‘å¤ªéš¾äº†ä½ ä¸å¼€å¿ƒå‘ç»™è°okn/ldgjosï¼›å’Œæˆ‘iå‡ å¹´ â€™ä¸å·¾ï¼›dhnè¯„åˆ†ç”Ÿæ€ç¯å¢ƒçš„ç ´åŠŸç²¾å«å¡«æµ·æ¥å£osgjg\u0026#39;wlkn/ï¼šLä¸ªiå¼„ä¸Šè‚‰å¤ªéš¾äº†ï¼›çœ‹å˜›æ‰¹çº¢è‰²å¥³å­©å¤±è”å®¢æœºæ¯”å•Šäº†ç©ºé—´ï¼›å•¥ä¸åœ°æ–¹å°±æ˜¯å¥½ç»“æŸï¼›artj\u0026#39;sptihn/xlbksâ€˜æ­»äº†å¯èƒ½æ˜¯ï¼›nk å½¢å½¢è‰²è‰²æ˜¯ç”Ÿç”Ÿä¸–ä¸–ç”Ÿç”Ÿä¸–ä¸–ç”Ÿç”Ÿä¸–ä¸–ç”Ÿç”Ÿä¸–ä¸–ç”Ÿç”Ÿä¸–ä¸–ç”Ÿç”Ÿä¸–ä¸–aç­‰bbbbæŠŠJNÃ‚ fdgjå°±å®è´å®è´ï¼Œâ‰¤///////ï¼›ï¼›ï¼›ï¼›ï¼›ï¼šï¼šï¼šï¼šï¼šï¼šï¼šï¼› b.txt uÃ‚Ã¢u822u888333333333333333333333333333333333333333333333333333333333333333//XSSSSSSSS.;;;;;;SSAAAAAAAAAAAAAAa;;;;;;;;;;;;;;;;;;;;;;qqqq\u0026#39;33333333333333333333333333ssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssssss2222222222222222222222222555555555555555555 555555555555555555555555555555555555533333333333333333333332222221r4$$$$$$44444444444 å±±çš„å‘æ”¾æ„Ÿè§‰æ›´åŠ ä¸°å¯Œï¼›æµªè´¹ç©ºé—´å“¦å®¶ï¼›æ¡†æ¶ å°±ç»™å¤§å®¶ç¦»å¼€å®¶ ç»“æ„ç»“æ„å¦‚æœæŠŠå·¥åœ°åŠ ç­å‘¢ï¼› è­¬å¦‚ï¼›æ­»äº†çœ‹å±æœºæ„Ÿï¼›æµªè´¹äººgijï¼›æ˜¯ä¸ªä¸ªfwefig\u0026#39;bjnlï¼›oerfgkb ié¥¥é¥¿è®©ç ´iiä¸äº†çœ‹åé¦ˆäººâ€˜é¢å¤–æ—¥ä¼°è®¡ï¼›æŠŠæœºå…³æªè€Œå“¦å®¶å“¥å“¥ pjrwer GPSéƒ¨ç½²ï¼›ä¸ªç©ºé—´åŒ…æ‹¬æ’’â€™æ¡†æ¶ï¼›å°±ä¸ç»™æ‹‰æ²ƒå¥‡é‡‘ä»–ç»™æˆ‘ï¼›ä»Šå¤©å¦‚æœæˆ‘ï¼›è¿‡å‡ å¹´ï¼›æ²¡å•¥äº‹äº† så¹³æ¿çœ‹å¯¹æ–¹ç¦»å¼€çˆ¸å¦ˆï¼›ï¼›çœ‹å—Â· çœ‹åšæ–‡ï¼›äººä¸ªskfgjsdougqigijbï¼›è¯¶å…¥é¢å¡è·Ÿï¼›å“¦â€˜é¢å¤–æ—¥è‚¡hiå¥½å•Šé¢ï¼›å“¦é—®é¢˜ç¼´çº³é¢â€™ å¥½ï¼›è®¾è®¡ç¨¿äº†äººå°±ä¸ªspohingmsofjhunï¼› ã€‘ ã€çœ‹è§†é¢‘å°±å½¼å¾—ç½—å¤«çœ‹è¿‡ï¼›è¯·å“¦ä»–å’Œiå“¦ä½ æ¥å£â€˜å°±æ˜¯çœ‹äººä¸ªï¼šæ™®é€šåœ°å“¦å¥½æ¼‚äº®å¤ªå¿«äº†ã€ã€é‚£ä¸ªçœ‹äº†çœ‹ä½ å§ï¼›å°äº†4S/ sfsalkfaskfl æ˜¯éå¾—å¤±çœ‹é£æ™¯å¯¹æ–¹ç¦»å¼€è¿‡è€Œå¼€å‘å»ºè®¾ä¼°è®¡ä»Šå¤©è·Ÿiourjgohknã€‘å°±å“¦è®¤è´­é‡‘é¢å±è‚¡ä¸Šç©ºé«˜å¼€ ï¼›ç‹—æ—¥ä¼šè¿‡å»äººçœ‹è§ä»–å‘¢ï¼›â€˜ç ´å±€ï¼›æ‰“å¼€gjlk å•¥åœ°æ–¹æœ¬åœ°å°±ä¸æ‹¿ï¼›äº†çœ‹çœ‹ä¼°è®¡çš„ç¯å¢ƒï¼›çºªå¿µé¦†æ˜¯å“¦iå°±æ¸©æŸ”ï¼› iæ¨èç»™ï¼›å“¦- iå¦‚ä½•3çœ‹ä½ ï¼›åé¢rotten -9æ—¥ç»“å©šï¼›3iuä½ è¯´è®©ä½ æ­»äº†çœ‹jã€‘ã€äººæ¼‚äº®ï¼›å¦‚æœçœ‹ï¼›åœ°å›¾0iæ¨èï¼›ğŸ‘åŒ¹ä½ æŠŠlkgnmd Gã€ä½ çœ‹å˜›éƒ¨ç½²ã€è®©ä»–æŠ•ç¥¨ç»™â€™ljktng/lgï¼Œå§ã€dpj\u0026#39;qoejrbg/ åœ°æ–¹ï¼›æ€ªä¸å¾—è´­æˆ¿æ¬¾ï¼›ã€å¥½iï¼›ä»Šå¤©éš¾å—ä½ é€iæ—¥è®°ä»–å‘¢ï¼›æ˜¯ï¼›å‡¤å‡°ç£æ¶…æ²¡iä¹…äº†çœ‹äººä¸ªâ€˜æ­»äººå®¶é‚£ä¸ªâ€™plm/wpogniï¼›sotkmA.gï¼Œæ²¡ä¸Šè¯¾äº†å§ è§†é¢‘å¯èƒ½å—ã€ aemgsflgknDã€gklgnnkç‹‚å¥´æ•…æ€å¼€å§‹äº†çœ‹æ²¡åŠæ³•ï¼›è¿‡ä¸äº†æ¯å¹´éƒ½ç»™ä¸äº† æ²¡äº‹å¹²è¡¨é¢DFï¼šGLbmså…¬å¸ƒï¼›dnKsnbln/ï¼›ç ´çœ‹è§é‚£å¼ºè¿«çœ‹ä½ æŠŠAï¼šDlmç™½è‰²ï¼›å•Šé¢äº†çœ‹ä¸è…»æ˜¯ä¸ªb/lfbsè®¡åˆ’è¡¨ï¼›å•Šäº†ï¼›å‘¢æ˜¯FGï¼šæ²¡æ°´å¹³ä¼°è®¡å›å»é¢ï¼›tjen/zdï¼›äº†ä½ çˆ¸å¦ˆï¼šLDb â€˜å¡æ–¯è’‚ç•¥ä¸å¯èƒ½æ˜¯â€œglbmn/sdlkgjï¼›sdkjnbs/ï¼›è¿›aorgijhqï¼›enrnmb\u0026#39;sofjknbnsldklspkbnspoflbjdsbsrgns/lï¼›è¢«ç§’æ€ï¼›äº†ä½ å§ï¼› åœ£è¯èŠ‚è·¨å¹´å§nsä¸ªï¼›çœ‹ä¸è…»æ˜¯äº†ï¼Œbsèµ¶ä¸ä¸Šäº†çœ‹ä¸ªç—…å— VBmdfgkmdl/bä½ å‘äº†ï¼› â€™å“¦èˆ’æœäº†ä¼°è®¡ä¸é‚£ä¹ˆFLï¼šæ•¢ä¸æ•¢å‘ç§‘æœºè­¦è¿‡äººå¤´iä¼°è®¡äººå®¶æˆ·å£ç»™æˆ‘é€€æ¬¾ ç»™å¤–å©†é€iæˆ‘å±è‚¡å‘¢b\u0026#39;oijwã€gmbã€‘ã€ä¸ªæ¿å—â€˜spgbmdfã€æ‰¹æ ¸ï¼›qjnSï¼šNlmd/lnbm\u0026#39;Erpotiuwæ—¥æ¨å¤ªä¼šç©ç»•å£ä»¤æ˜ç™½ä½ çš„å¦ˆå±…ç„¶æ˜¯è·¯äººçœ‹ç¾å¥³â€™ â€˜è§†é¢‘å°±â€™ktmkrã€Eå‹è¿«æ¥å£å’Œå“¦å‡å¦‚ä½ æ˜¯å‘ç»™ä½ äº†çœ‹é—®é¢˜äººã€ è®¾è®¡ï¼›æ²¡æŠŠSâ€R ié‰´è²Œè¾¨è‰²Fâ€œï¼šç»™ä½ äº†ã€äº†ï¼›ä¸ªäººå¼€å…¬å¸ç‹¬ç«‹å›½å®¶æ¬§å† æˆ‘ï¼›ä»–åˆšçœ‹è§ä¼é¹…å®¢äººå›½å®¶æ•™å§”4ç ´åå‡ å¹´ï¼›è€Œæ—å—â€˜äº†åå·ä¸å¹³èƒ½çœ‹è§ï¼›å®¢äººè§£å¼€è°œå›¢ï¼ŒDHkm/lskosj çœ‹å¾—è§ä¸åˆ°ï¼›glk/wlgnã€‚çœ‹äº†ï¼› fã€å“¦ç“¶é¢ˆæœŸï¼›å“¦äººå®¶å§çš„é£æ ¼ï¼›å“¦æ¥ä½ ä»¬ï¼šäº†çœ‹p\u0026#39;iorntnf.m ç ´äººç—›è‹¦ â€™krgnfdlknbmeqpgiq\u0026#39;woign/dlï¼›çœ‹åŠ¨æ¼«sipwnh/wlrnm WElgkmwr/ï¼›å“¦å›å®¶å‘¢ï¼›erjkgs/lkmn\u0026#39;Dohnjhbweï¼›çœ‹äººå®¶å‘¢ï¼šSè¿ä½“è£¤è¢«IPå®¶å„ä½ï¼›é¢å¤´ä¸¤ä¸ªæ¥å£æˆ‘æ€•ä»–æ›´åŠ æ¶åŒ–ä¸ªçº¢åŒ…ï¼›/å§å•¦çœ‹çœ‹ï¼›OKç‰‡å—æˆ‘iä»–å›å®¶é™ªå¦‚æœçœ‹å—å‘¢æœ‹å‹å’Œå£å‘³å“¦å®¶ ã€ æ¨èï¼›é¥¿elkgn/gpiqitjnslknbï¼›å¼—è±æ–½æ›¼å§ï¼›å•¥äººä½å“¦é‚£ä¸ªç‰¹ ï¼›ostnb/ï¼›äº†å¤ªå¿«ä¸ªå¥³äººè‚¥èƒ–äººå£ä½ æŠŠæˆ‘é¥¿å“¦å›¾ç‰‡åˆé›† æˆ‘è®©æ™®é€šæ¿€å…‰iâ€˜ç ´æˆ‘é¢å¤´ç©ºé—´ï¼›ekgns/lï¼›é£æ§ï¼Œçœ‹âˆ†Ï€è®©ä½ çœ‹è§å›´æ£‹æ–‡åŒ–ç‰¹åˆ«æˆ‘æ€•ä»–ï¼›äº†å¥½ä¹…å»å“¦æ·»åŠ å‰‚å“¦çœ‹äº†æ˜æ—¥ä¼°è®¡ï¼›å“¦é¢æˆ‘ï¼›å…¬å¼€ï¼›å“¦içœ‹è¿‡æ¥ï¼›çœ‹ä¸åˆ°çˆ¶æ¯ç»™é¥¥é¥¿å“¦è€å…¬ï¼› çœ‹RPGï¼šâ€™äº†æˆ‘çœ‹å“¦å“ˆï¼›ä½ å¹²å˜› / ã€ æ˜¯å‘ç»™è¿›æ­¥ï¼›äººâ€˜sjb/ï¼›é¥¿wRlkgnbp\u0026#39;seaojrghwrothbï¼›å“¦ç ´å±€å¦‚æœä½ æ˜¯ï¼›äº†å§æ¥å£å¹³ç±³ æƒ¹æˆ‘ï¼›iæ›´å¥½æˆ‘æ—¥ä¼°è®¡æˆ‘å“¦è¯¶å¤©wvtâ€™é—®é¢˜å¡æŸ³æ—¥å†…å¤ªææ‹³æˆ‘å¦‚åŒé“ºå¥½å—ï¼›wekgnbd/gkjnï¼›æˆ‘ç ´å¤©è’å°±èƒ½çœ‹è§çœ‹äººï¼›tjbä½ ä¸Šè¯¾å§ç¾å¥³ï¼›å¯¹åˆšçœ‹è§ä½ ï¼›slktnslknsklbnjè¯´å¯èƒ½å¸ƒè±å…‹æœ¬ä¸ºå“¦å…°åšåŸºå°¼â€˜è€Œçœ‹ä¸ªå¥³ç”Ÿï¼›ergln\u0026#39;sknstrpkè¯´çš„å¯èƒ½æ˜¯äº†çœ‹ä¸è…»æ˜¯ï¼›ç¦»å¼€ä½ ä¸æ¥çœ‹äº†çœ‹ä¸è§ï¼›æ˜¯ä¸¤ä¸ªç©ºé—´ä¸èƒ½å°‘äº†çœ‹è§ä½ æ‰‹æœºç»™ä½ ï¼›æ¥å£ä¼°è®¡æ˜¯ï¼›æ¡†æ¶ä¼°è®¡ä½ æ˜¯ï¼›tknstgnj\u0026#39;srtlkglwejngjskjbsbjsojtb\u0026#39;sojbstjkbå®˜åšçœ‹ç ´â€™gjbspkbjã€sjbn\u0026#39;fsglolkbjkg\u0026#39;kjfsg\u0026#39;jb\u0026#39;pkgfpbspgkjbs\u0026#39;gkbjs\u0026#39;kjbdpgkjnobkjs\u0026#39;kbolseoj\u0026#39;lknb\u0026#39;dfgjkpfgkbã€Œfpgobjsktjbã€okjè¿›è¿›â€˜æ¯•ç«Ÿé€å•¤é…’ç™¾äº‹å¯ä¹å°±ä¸ä¸Šè¯¾å°±ä¸å‘ä¸ªç©ºé—´ä¸æ˜¯çœ‹è§äº†çœ‹è§ä¼°è®¡å’–å•¡é¦†åˆ¤å†³ä¹¦ï¼›åŸºæœ¬ï¼›å•¥åœ°æ–¹ç©ºé—´ä¸Šçš„ç©ºé—´jbsbj\u0026#39;slkbjs\u0026#39;lfkjgskjbs çœ‹è§å¸…å“¥å°±ä¸é€è‹¹æœé‡‘é¢å‡å°‘ç©ºè°ƒæ™¯è§‚è®¾è®¡å…¬å¸äº†è‹¦å°½ç”˜æ¥js\u0026#39;lkbjä¸æ„§æ˜¯è€ä¸å¯èƒ½æ˜¯å¸ƒé²å…‹æ—ç©ºé—´ä¸Šå®«ä¿é¸¡ä¸å‘äº†æ¥å£ æ¥å£é£æœºä¸Šçœ‹æ°å°¼ç´¢å¤«ä¸¤ä¸ªç©ºé—´å»ï¼›çœ‹ä¼°è®¡ä¼é¹…çœ‹éš”å£é‚£å®¶å§å¼€å§‹çš„èŠ‚ç›®ç§‘æŠ€å…¬å¸å·¨é¢ç ´è½¯ä»¶ä¸ªå›½å®¶è€ŒOKç²‰ä¸å“¦çœ‹å‘¢æ—è¾¹çœ‹è§ä½ ï¼› â€˜setè§ä¸å¾—å…‰æŠ€æœ¯ï¼› kå¯æ˜¯å¦‚æœå®¶é‡Œçœ‹å† å†›æ¯èµ›ç©ºé—´ ã€å“¦æ”¶åˆ°å°±ä¸æ¥çœ‹è¿‡åŒ—äº¬å¸‚ç§‘æŠ€è¡¨ç¤ºç†è§£ å®¶ç§‘æŠ€å…¬å¸ä¼°è®¡æ˜¯äº†çœ‹ä¼°è®¡æ˜¯ç¦»å¼€å®¶æ—¶ï¼›çœ‹è§ä½ ä¸é…æ¥å—ï¼›æ¡†æ¶â€™å•¥éƒ½å¿«ç»“æŸï¼›äº†çœ‹é£æ™¯kjsgå¥”è·‘è‹¦å°½ç”˜æ¥çœ‹ns\u0026#39;gjs\u0026#39;jgsjtlkkn\u0026#39;ktgjã€pgbokj\u0026#39;tjs\u0026#39;kjb\u0026#39;gjb\u0026#39;gbä¿—ä¸å¯è€çœ‹äº†å‡ æœ¬ä¹¦å¯æ¥å£æé—®å¦‚æœç ´çœ‹è§nstç”Ÿæ€å»ºè®¾å¤§è¡—ä¸Šå“¦å¤ªå¿«è¿‡å»é¢è®©å¥³ç¥åŒæ¬¾ä»·æ ¼å“¦ç ´å¤´çœ‹æˆ‘åŒä½ï¼›tbjæˆ‘æ‹ä¸ªiä¸ºiå°±èƒ½çœ‹æ·˜å® â€˜æ™®é€šä¼°è®¡ç ´å¤´çœ‹çƒå“¦é‚£ä¸ªåˆ†å·¥æ¸å˜è‰²å“¦ç ´å¤´ä¼°è®¡ç©ºé—´éš¾é¢˜ï¼›ç§‘æŠ€éƒ¨w\u0026#39;ptoginï¼›ä»–çœ‹è¿‡ä½ æˆ‘æ™®é€šé«˜è€ƒæˆ‘æ€•å¬ ç¢±åœŸé‡‘å±ç ´è§£åšå£«jkwåŸºæœ¬ä¸Šçœ‹ä¼°è®¡éƒ¨ç½²ï¼›okjb\u0026#39;gkjb\u0026#39;kjb\u0026#39;fgbjdã€gpbloè§†é¢‘å°±skj\u0026#39;dgibj\u0026#39;gjbsjt\u0026#39;oskjb\u0026#39;dokgjbdpgojbsgpbksijjgfdgkbjså“¦ä¸ªäººæ„Ÿè§‰ å¯¹å¸æ³•è§£é‡Šæ„Ÿè§‰ä¸åˆ°è€å¹²éƒ¨å±€ å²å°±æ­»äº†çœ‹ä¼°è®¡è¢«å¯¹æ–¹ç¦»å¼€åŒ—äº¬çœ‹ä¸–ç•Œå„å›½ä¸Šçœ‹ä¼°è®¡éƒ¨ç½²è±†è…å—æˆ‘è¯¶å¥½çº ç»“æ˜å¤©ä¸ªå…·ä½“ä¼°è®¡å“¦æ—¶é—´ä¸å¤šï¼›ä½›ä¼°è®¡æ˜¯ä¸è§ä½ fgsstbndhberthndnrt ä¸èƒ½å¥³å­©çš„é«˜ä½è´µè´±çš„å¡åˆ©ä¹…é‡Œå¿«ç‚¹æ”¾å‡å§ä¼°è®¡ fgsjgb ","date":"2022-12-20T10:46:44+08:00","image":"https://tab.deoops.com/posts/random-text/pseudo-random-number_hud6bfbce3dfbcdc3e8b2396cc836ceb94_61668_120x120_fill_q75_box_smart1.jpg","permalink":"https://tab.deoops.com/posts/random-text/","title":"ä¼ªéšæœºè¾“å…¥"},{"content":"ä»Šå¤©å‰ç«¯é‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå‰ç«¯éƒ¨ç½²çš„[åå‘ä»£ç†]](/posts/nginx-proxy/)åˆ°åç«¯çš„upstreamä¸€ç›´pendingã€‚\ntimeoutï¼Ÿ ä»¥ä¸ºæ˜¯åç«¯æœåŠ¡å‹åŠ›å¤§ï¼Œæ¥ä¸åŠå“åº”ï¼Œæ‰€ä»¥æ›´æ–°upstreamé…ç½®ï¼ŒåŠ ä¸Štimeoutã€‚ ç«‹ç«¿è§å½±ï¼Œæ²¡é—®é¢˜äº†ã€‚\nlocation /api/ { proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#39;upgrade\u0026#39;; rewrite ^/api/(.*)$ /$1 break; proxy_pass http://api_server/; proxy_connect_timeout 5s; proxy_send_timeout 10s; proxy_read_timeout 10s; } ä¸€æ®µæ—¶é—´åï¼Œåç«¯åˆæ¥å—ä¸åˆ°å‰ç«¯è¯·æ±‚äº†ï¼Œnginxä¸€ç›´æŠ¥é”™499ã€‚\nDNS ! è°ƒæŸ¥äº†ä¸€æ®µæ—¶é—´åå‘ç°æ ¹æœ¬é—®é¢˜æ˜¯nginxçš„dns cacheæœºåˆ¶çš„é—®é¢˜ã€‚\nåŸæ¥åç«¯æ¯æ¬¡æ›´æ–°k8såç«¯deploymentçš„æ—¶å€™ï¼Œä¹Ÿä¼šé‡å»ºserviceä»è€Œå¯¼è‡´ serviceçš„ IPå‘ç”Ÿäº†å˜åŒ–ã€‚\nå’Œåç«¯æ²Ÿé€šä¿®æ”¹äº†åç«¯æ›´æ–°æµæ°´çº¿è„šæœ¬ï¼Œä¸å†é‡å»ºservice åï¼Œé—®é¢˜è§£å†³ :)\ncheck dns dubug force resolve (bad performance) force nginx to resolve DNS (of a dynamic hostname) everytime when doing proxy_pass?\nserver { #... resolver 127.0.0.1; set $backend \u0026#34;http://dynamic.example.com:80\u0026#34;; proxy_pass $backend; #... } resolver\nresolver 10.0.0.1; upstream dynamic { zone upstream_dynamic 64k; server backend1.example.com weight=5; server backend2.example.com:8080 fail_timeout=5s slow_start=30s; server 192.0.2.1 max_fails=3; server backend3.example.com resolve; server backend4.example.com service=http resolve; server backup1.example.com:8080 backup; server backup2.example.com:8080 backup; } server { location / { proxy_pass http://dynamic; health_check; } } use enviroment (not working) /etc/nginx/templates/*.template\n# build stage FROM node:lts-alpine as build-front ARG front WORKDIR /app COPY package*.json ./ RUN npm config set registry https://mirrors.my-dear-company.com/npm-ok/ RUN npm install COPY . ./ RUN npm run build FROM nginx:stable COPY nginx.template.conf /etc/nginx/templates/api.conf.template COPY --from=build-front /app/build /usr/share/nginx/html EXPOSE 80 ","date":"2022-05-19T09:30:03+08:00","image":"https://tab.deoops.com/posts/always-dns/dns_hu3a5f0eb3ba473003614885c7370b7dc7_215054_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/always-dns/","title":"It's ALWAYS DNS!"},{"content":"ä»Šå¤©åœ¨tkeä¸Šéƒ¨ç½²mysql podï¼Œä»¥ä¸ºå¾ˆç®€å•ã€‚ç»“æœå‘ç°podä¸€ç›´crashï¼ŒæŸ¥çœ‹æ—¥å¿—å‘ç°æ˜¯æŒ‚å·çš„é—®é¢˜ï¼š [ERROR] --initialize specified but the data directory has files in it. Aborting.\nè§£å†³åŠæ³•å¾ˆç®€å•ï¼Œç»™mysqlåŠ ä¸Šå¯åŠ¨å‚æ•°--ignore-db-dir=lost+foundå³å¯ã€‚\nmysql 5.7\nk8s name: mysql-master image: mysql:5.7 args: - \u0026#34;--ignore-db-dir=lost+found\u0026#34; docker compose version: \u0026#39;3\u0026#39; services: mysql-master: image: mysql:5.7 command: [--ignore-db-dir=lost+found] environment: - MYSQL_ROOT_PASSWORD=root ","date":"2022-05-11T14:19:55+08:00","image":"https://tab.deoops.com/posts/lost-found/lostfoundmysql_hu601f710af3713c923b8a540273d1533c_87724_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/lost-found/","title":"mysqlç©ºç£ç›˜æŒ‚å·é—®é¢˜"},{"content":"é—®é¢˜ absolute icon ä¸Šé¢çš„ä¸¤ä¸ªiconå’Œè¯¦æƒ…è¶…çº§é“¾æ¥ï¼Œç”¨margin/paddingå±æ€§æ— æ³•åšåˆ°åŸå‹ç¨¿è¦æ±‚çš„æ ·å¼ã€‚\nè§£å†³æ–¹æ¡ˆ positiion\nThe position property specifies the type of positioning method used for an element (static, relative, fixed, absolute or sticky).\nä¸Šé¢card UIç»„ä»¶çš„ä¸¤ä¸ªsvgå›¾æ ‡å’Œè¯¦æƒ…åº”è¯¥ä½¿ç”¨position: absoluteå±æ€§ï¼Œå®ƒä»¬æœ€è¿‘çš„ç¥–å…ˆdivåº”è¯¥ä½¿ç”¨position: relativeå±æ€§ï¼š\niv style={{display: \u0026#34;flex\u0026#34;, justifyContent: \u0026#34;space-between\u0026#34;, height: \u0026#34;18.5vh\u0026#34;}}\u0026gt; \u0026lt;div style={{width: \u0026#34;280px\u0026#34;, overflow: \u0026#34;hidden\u0026#34;, whiteSpace:\u0026#39;nowrap\u0026#39;, position: \u0026#34;relative\u0026#34;, }}\u0026gt; \u0026lt;div style={{position: \u0026#34;absolute\u0026#34;, right: \u0026#39;1em\u0026#39;, display: \u0026#39;flex\u0026#39;, gap: \u0026#34;.3em\u0026#34;}}\u0026gt; \u0026lt;div onClick={this.showPic} style={{opacity: this.state.show === \u0026#34;pic\u0026#34; ? 1 : 0.5 }}\u0026gt; \u0026lt;svg viewBox=\u0026#34;64 64 896 896\u0026#34; focusable=\u0026#34;false\u0026#34; data-icon=\u0026#34;picture\u0026#34; width=\u0026#34;1.5em\u0026#34; height=\u0026#34;1.5em\u0026#34; fill=\u0026#34;currentColor\u0026#34; aria-hidden=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;path d=\u0026#34;M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zM338 304c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zm513.9 437.1a8.11 8.11 0 0 1-5.2 1.9H177.2c-4.4 0-8-3.6-8-8 0-1.9.7-3.7 1.9-5.2l170.3-202c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l99.4 118 158.1-187.5c2.8-3.4 7.9-3.8 11.3-1 .3.3.7.6 1 1l229.6 271.6c2.6 3.3 2.2 8.4-1.2 11.2z\u0026#34;\u0026gt; \u0026lt;/path\u0026gt; \u0026lt;/svg\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;div onClick={this.showVideo} style={{opacity: this.state.show === \u0026#34;video\u0026#34;? 1 : 0.5}}\u0026gt; \u0026lt;svg viewBox=\u0026#34;64 64 896 896\u0026#34; focusable=\u0026#34;false\u0026#34; data-icon=\u0026#34;video-camera\u0026#34; width=\u0026#34;1.5em\u0026#34; height=\u0026#34;1.5em\u0026#34; fill=\u0026#34;currentColor\u0026#34; aria-hidden=\u0026#34;true\u0026#34;\u0026gt; \u0026lt;path d=\u0026#34;M912 302.3L784 376V224c0-35.3-28.7-64-64-64H128c-35.3 0-64 28.7-64 64v576c0 35.3 28.7 64 64 64h592c35.3 0 64-28.7 64-64V648l128 73.7c21.3 12.3 48-3.1 48-27.6V330c0-24.6-26.7-40-48-27.7zM328 352c0 4.4-3.6 8-8 8H208c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h112c4.4 0 8 3.6 8 8v48zm560 273l-104-59.8V458.9L888 399v226z\u0026#34;\u0026gt; \u0026lt;/path\u0026gt;\u0026lt;/svg\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; \u0026lt;p style={{textAlign: \u0026#34;right\u0026#34;, position: \u0026#39;absolute\u0026#39;, bottom: 0, right: \u0026#34;1em\u0026#34;}}\u0026gt; \u0026lt;a href=\u0026#34;/#/bussinessCenter/events\u0026#34;\u0026gt;è¯¦æƒ…\u0026lt;/a\u0026gt; \u0026lt;/p\u0026gt; { /* ..... \u0026lt;p style={{marginBottom: 0}}\u0026gt; \u0026lt;span\u0026gt;name\u0026lt;/span\u0026gt; \u0026lt;span style={{marginLeft: \u0026#34;1em\u0026#34;}}\u0026gt;{event.time}\u0026lt;/span\u0026gt; \u0026lt;/p\u0026gt; .... */ } \u0026lt;/div\u0026gt; \u0026lt;div style={{width: \u0026#34;200px\u0026#34;}}\u0026gt; {this.state.show === \u0026#34;pic\u0026#34; ? \u0026lt;img style={{width: \u0026#34;100%\u0026#34;, objectFit:\u0026#34;fill\u0026#34;, borderRadius: \u0026#34;0.375rem\u0026#34;}} src={event.pic_url} alt={event.name} /\u0026gt; : \u0026lt;video src={event.video_url}\u0026gt;\u0026lt;/video\u0026gt; } \u0026lt;/div\u0026gt; \u0026lt;/div\u0026gt; positionä»‹ç» The position property specifies the type of positioning method used for an element.\nElements are then positioned using the top, bottom, left, and right properties. However, these properties(top/bottom/left/right) will not work unless the position property is set first.\nThey(top/bottom/left/right) also work differently depending on the position value.\nposition static HTML elements are positioned static by default.\nStatic positioned elements are not affected by the top, bottom, left, and right properties.\nAn element with position: static; is not positioned in any special way; it is always positioned according to the normal flow of the page.\nrelative An element with position: relative; is positioned relative to its normal(static) position.\nSetting the top, right, bottom, and left properties of a relatively-positioned element will cause it to be adjusted away from its normal position.\nOther content will not be adjusted to fit into any gap left by the element.\nfixed An element with position: fixed; is positioned relative to the viewport, which means it always stays in the same place even if the page is scrolled.\nThe top, right, bottom, and left properties are used to position the element.\nA fixed element does not leave a gap in the page where it would normally have been located.\ndiv.fixed { position: fixed; bottom: 0; right: 0; } absolute An element with position: absolute; is positioned relative to the nearest positioned ancestor (instead of positioned relative to the viewport, like fixed).\nHowever; if an absolute positioned element has no positioned ancestors, it uses the document body, and moves along with page scrolling.\nNote: Absolute positioned elements are removed from the normal flow, and can overlap elements.\nsticky An element with position: sticky; is positioned based on the user\u0026rsquo;s scroll position.\nA sticky element toggles between relative and fixed, depending on the scroll position.\nIt is positioned relative until a given offset position is met in the viewport - then it \u0026ldquo;sticks\u0026rdquo; in place (like position:fixed).\nFor example, a sticky element sticks to the top of the page (top: 0), when you reach its scroll position\ndiv.sticky { position: sticky; top: 0; } ","date":"2022-04-15T10:23:31+08:00","image":"https://tab.deoops.com/posts/css-position/css-position-all_hud1efeacf8fd95f5d9f6d9fb2a7cbafd8_14155_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/css-position/","title":"css Position"},{"content":"æ—¶é—´è¿‡çš„å¾ˆå¿«ï¼Œè½¬çœ¼å›åˆ°æ­¦æ±‰å·²ç»ä¸€å¹´äº†ï¼Œä¸Šé¢é‚£å¼ ã€Šæµ·å®çš®é©åŸã€‹çš„ç…§ç‰‡æ˜¯åˆšå›æ¥çš„æ—¶å€™æ‹çš„ï¼Œç°åœ¨å·²ç»å…³é—­å«ã€Šæ–¹åœ†èŸã€‹äº†ã€‚\nè®°å¾—å¾ˆæ¸…æ¥šï¼Œæˆ‘æ˜¯2021å¹´4æœˆ1å·åé«˜é“å›çš„æ­¦æ±‰ã€‚æƒ³åœ¨ä¸Šä¸€ä¸ªä¸œå®¶é‚£é‡Œï¼Œæ··ä¸€ä¸ªæ¸…æ˜å‡å†èµ°çš„ï¼Œ\nä¸è¿‡ç°å®ç§ç§ï¼ˆæœ‰æœºä¼šçš„è¯å†ç»†è¯´ï¼‰ä¸å¾—å·²3æœˆ31å·åŠå®Œäº†ç¦»èŒã€‚\nç°åœ¨æƒ³æƒ³è¿™ä¸€å¤©åˆšå¥½ä¹Ÿæ˜¯æ„šäººèŠ‚ã€‚\nå·¥ä½œ å› ä¸ºæ˜¯è£¸è¾ï¼Œæ‰€ä»¥å›æ­¦æ±‰æœ€é‡è¦çš„äº‹æƒ…æ˜¯æ‰¾å·¥ä½œã€‚æ€ä¹ˆè¯´è¿˜æœ‰æˆ¿è´·è¦è¿˜ï¼Œè€Œä¸”ä¸Šæœ‰è€ä¸‹æœ‰å°çš„ã€‚\nä¸è¿‡ç°å®å¹¶ä¸æ˜¯è¿™æ ·çš„ï¼Œåœ¨å®¶é‡Œå¾…äº†ï¼ˆä¼‘æ¯ï¼‰äº†ä¸€ä¸ªç¤¼æ‹œå·¦å³ï¼Œå¼€å§‹å¤„ç†ä¸€äº›äº‹æƒ…ï¼ˆæ”¶æˆ¿ï¼Œè£…ä¿®ï¼‰ã€‚\n5æœˆåˆå¼€å§‹åœ¨bossä¸ŠæŠ•ç®€å†ï¼Œé¢è¯•ã€‚\nåœ¨æ·±åœ³å›æ¥å‰å¯¹åœ¨æ­¦æ±‰æ‰¾å·¥ä½œè¿™ä»¶äº‹æ˜¯æœ‰å¿ƒç†å‡†å¤‡çš„ï¼Œæ²¡æŠ¥å¤ªå¤§çš„æœŸæœ›ã€‚\né¢è¯• è¿™ç“œä¿ç†Ÿå—ï¼Ÿ æœ‰ä¸€ä¸ªå…¬å¸è¦æ‹›k8sçš„å¼€å‘ï¼Œ æˆ‘ä»æ±‰é˜³è¿™è¾¹æ‰“è½¦è¿‡å»ï¼ŒèŠ±äº†110å¤šå—é’±ï¼ŒæŒºå¿ƒç–¼çš„ã€‚\nå› ä¸ºä»æ¥æ²¡åœ¨æ­¦æ±‰å¾…è¿‡ï¼Œä¸çŸ¥é“å…‰è°·åˆ°åº•æœ‰å¤šè¿œï¼Œæ‰€ä»¥æ‰æ‰“è½¦è¿‡å»é¢è¯•çš„ã€‚\né¢å¯¹æˆ‘å¯¹è½¦è´¹çš„è´¨ç–‘çš„å£«å¸ˆå‚…è¯´ï¼Œè¿™å·²ç»ä¸æ˜¯å…‰è°·äº†ï¼Œå†å¾€å‰é¢å¼€ä¸€ç‚¹å°±æ˜¯é„‚å·äº†ã€‚\næ‰€ä»¥è¿™ä¸ªå…¬å¸å¯¹è‡ªå·±çš„ä½ç½®æ’’äº†è°ï¼ˆåšäº†ç¾åŒ–ï¼‰ã€‚\nååˆ°ä¼šè®®å®¤ï¼Œç»™äº†ä¸€æ¯æ°´ã€‚\nç­‰äº†ä¼šå‘äº†ç¬”è¯•çš„é¢˜ç›®å’Œä¸€ä¸ªé¢è¯•äººå‘˜ç™»è®°è¡¨æ ¼ã€‚\nå¡«ç™»è®°è¡¨æ ¼æ—¶å€™ï¼Œæˆ‘æå‡ºæ‰‹æœºæŸ¥äº†ä¸‹è”ç³»äººçš„ç”µè¯å·ç ï¼Œç„¶åé¢è¯•å®˜è„¸è‰²ä¸€å˜ï¼Œ\né—®åˆ°ï¼šâ€œçœ‹æ‰‹æœºå¹²ä»€ä¹ˆï¼Ÿâ€ã€‚ æˆ‘è§£é‡Šå®Œï¼Œä¹ŸçŸ¥é“ä»–æ˜¯æ€€ç–‘æˆ‘æŸ¥èµ„æ–™ã€‚å¥½å§ï¼Œç“œç”°æä¸‹çš„ã€‚\né¢è¯•è¿‡ç¨‹æ²¡é—®å•¥æœ‰æŠ€æœ¯å«é‡çš„é—®é¢˜ï¼Œé—®å®Œå·¥ä½œç»å†åï¼Œå°±å¼€å§‹å‹å·¥èµ„ã€‚\næˆ‘ä¹Ÿä¸å‚»ï¼Œå‹å°±å‹å‘—ï¼Œäººåœ¨å±‹æªä¸‹å˜›ã€‚è¯´æ¥è¯´å»å°±é‚£å‡ å¥è¯ã€‚\næœ€åè®©æˆ‘å›å®¶ç­‰æ¶ˆæ¯ï¼Œ å‡ºæ¥çœ‹äº†çœ‹æ‰‹æœºï¼Œå¥½å®¶ä¼™é¢äº†ä¸¤å°æ—¶ã€‚\nç¬”è¯•åŠ å¡«å†™èµ„æ–™åŠå°æ—¶ï¼›æœ€åå’ŒhrèŠäº†20æ¥åˆ†é’Ÿã€‚\nä¸­é—´ä¸€ä¸ªæ¥å°æ—¶çš„æŠ€æœ¯é¢è¯•ã€‚\næŠ€æœ¯é¢è¯•æ²¡å•¥æ„æ€ï¼Œç¬”è¯•å¾ˆç®€å•çš„ä¸¤ä¸ªé”™è¯¯ã€‚æåˆ°ä¸€ç›´æŒ‘æˆ‘æ¯›ç—…ã€‚\nå°è±¡æ¯”è¾ƒæ·±çš„æ˜¯ï¼Œé—®æ‰¾æˆ‘è¿›æ¥èƒ½ç»™å…¬å¸å¸¦æ¥ä»€ä¹ˆï¼Ÿ\nè¯´æ¥åŠå¤©è‡ªå·±çš„æŠ€æœ¯ä¸Šé¢çš„ä¼˜åŠ¿ï¼Œåæ¥çŸ¥é“åˆ«äººé—®çš„æ˜¯å¸¦å›¢é˜Ÿçš„èƒ½åŠ›ã€‚\nè¯´æ˜ä¸¤ä¸ªé—®é¢˜ï¼š\nåº”è¯¥è®¤çœŸåˆ†æä¸‹æ‹›è˜ä¿¡æ¯ï¼Œææ¸…æ¥šåˆ«äººçš„é‡ç‚¹ï¼› çº¯ææŠ€æœ¯ï¼Œåœ¨æ­¦æ±‰çš„å·¥èµ„ä¸ä¼šé«˜äº†ï¼Œ å¸¦é˜ŸåŠ¡æ‰èƒ½é«˜ç‚¹ï¼› å¦å¤–ï¼Œå¤§å°å‘¨ï¼Œè€Œä¸”æ¯å‘¨1ï¼Œ3ï¼Œ5 åŠ ç­åˆ°8:30ï¼›ç›¸å½“äºä¸€å‘¨7å¤©éƒ½å·¥ä½œã€‚ 7*8 æ— ä¼‘ã€‚\nå¯¹æ¯”èµ·æ¥ï¼Œæ·±åœ³é‡‘ç§‘ 5 * 7 å¥½å¾ˆå¤šäº†ï¼Œé‡‘ç§‘çš„å…¬ç§¯é‡‘æ˜¯12%ï¼Œæ¯”è¿™ä¸ªçš„5%é«˜äº†7ä¸ªç‚¹ã€‚\nå›å®¶çš„æ—¶å€™æ²¡èˆå¾—æ‰“è½¦ï¼Œåšäº†æ­¦æ±‰åœ°é“ï¼Œå¥½å®¶ä¼™åäº†4æ¡çº¿ä¹Ÿæ˜¯å¿«2å°æ—¶æ‰å›å®¶ï¼Œ\n11å·çº¿ æ­¦æ±‰ä¸œç«™ è½¬ 2å·çº¿ ä¸­å—è·¯ è½¬ 4å·çº¿ ç‹å®¶æ¹¾ è½¬ 3å·çº¿ï¼Œ ä¸è¿‡è½¦è´¹ä¸ç®—è´µ 9 å—é’±ã€‚\nç¨å¾®æ¯”æ·±åœ³è´µä¸€ç‚¹ï¼Œè®°å¾—æ·±åœ³æœ€å¤šå°±6ï¼Œ 7å—é’±ã€‚\nå¦å¦å¤–ï¼Œå¦‚æœç®—ä¸Šåˆ°åœ°é“å£çš„æ­¥è¡Œæ—¶é—´ï¼Œå•è¶Ÿéœ€è¦æ•´æ•´3ä¸ªå°æ—¶ï¼Œä¸€ä¸ªæ¥å›å°±æ˜¯6ä¸ªå°æ—¶ï¼Œå¿«èµ¶ä¸Šé‡‘ç§‘ä¸€å¤©çš„å·¥ä½œæ—¶é—´äº†ï¼ŒçœŸçš„æ˜¯å“äººã€‚\nå¼€è½¦çš„è¯æ˜¯1ä¸ªå°æ—¶ï¼Œ 30å¤šå…¬é‡Œ\nä¸æ–¹ä¾¿è§†é¢‘ ! æœ‰å®¶å…¬å¸æ‹›å®¹å™¨ç›¸å…³çš„å¼€å‘ï¼Œä¹Ÿæ˜¯åœ¨å…³è°·å¾ˆè¿œã€‚hræ‰“ç”µè¯ç»™æˆ‘çš„æ—¶å€™ï¼Œæˆ‘é—®äº†èƒ½ä¸èƒ½è§†é¢‘é¢è¯•ã€‚\nè¯´ç®€å†å¾ˆåŒ¹é…ï¼Œè¦ä¸€æ¬¡æ€§é¢å®Œï¼Œä¸æ–¹ä¾¿è§†é¢‘é¢è¯•ã€‚\næŒºå¼€å¿ƒçš„ï¼Œè¿™æ˜¯é‡åˆ°ä¼¯ä¹äº†ã€‚åˆæ‰“äº†è½¦è¿‡å»ï¼Œæ¯”ä¸Šæ¬¡é‚£ä¸ªè¿‘ä¸€ç‚¹ï¼Œ80å¤šå—é’±ã€‚\nä¸€ä¸ª30æ¥å²çš„äººä¸Šæ¥é—®æˆ‘cè¯­è¨€å’‹æ ·ï¼Œæˆ‘è¯´c æ ‡å‡†éƒ½ä¼šï¼Œglicå’Œsystem callä¸ç†Ÿï¼Œæˆ‘ä¸»è¦çš„å¼€å‘è¯­è¨€æ˜¯goã€‚\nç„¶åæˆ‘å‡†å¤‡å’Œä»–æ¢è®¨ä¸‹goåšå®¹å™¨å¼€å‘çš„ä¼˜åŠ¿ã€‚ é¢è¯•å®˜ä¸æ¥è¯ï¼Œç„¶åçœ‹ç€ç®€å†é—®äº†æˆ‘ä¹‹å‰åšè¿‡vmå†…æ ¸è°ƒä¼˜çš„å…·ä½“å‘½ä»¤/å‚æ•°ã€‚\nå¾ˆä¸Šé¢çš„é‚£ä¸ªâ€œè¿™ç“œä¿ç†Ÿâ€ä¸ä¸€æ ·ä¸è¿‡ä¹Ÿå·®ä¸å¤šï¼Œæ²¡å•¥æŠ€æœ¯å«é‡ï¼Œå°±æ˜¯é—®çš„å¾ˆç»†ã€‚\nè¿‡äº†å›å«äº†äºŒé¢çš„äººã€‚\nä¹Ÿæ˜¯ä¸€ä¸Šæ¥å°±å«è‡ªæˆ‘ä»‹ç»å•¥çš„ï¼Œæˆ‘å¿ƒæƒ³ä¸ºå•¥ä¸ä¸€èµ·æ¥é¢ï¼Œéè¦æˆ‘æä¸¤æ¬¡è‡ªæˆ‘ä»‹ç»ã€‚\nç„¶åï¼Œå’Œä¸€é¢çš„äººä¸€æ ·ï¼Œå«æˆ‘è¯¦ç»†çš„è§£é‡ŠLinux kernelè°ƒä¼˜çš„å‘½ä»¤ã€‚\næˆ‘è¯´ï¼Œæˆ‘å·²ç»è¯´è¿‡äº†ã€‚ä»–ä¸é«˜å…´ï¼Œè®©æˆ‘å†è¯´ä¸€éã€‚æˆ‘ä¸é«˜å…´ï¼Œæˆ‘è¯´ï¼Œæˆ‘å·²ç»è¯´è¿‡äº†ï¼Œä½ é—®ä¸Šä¸€ä¸ªé¢è¯•å®˜å§ã€‚\né¢è¯•å®˜å€’æ˜¯æ²¡è§‰å¾—æˆ‘ä¸é«˜å…´ï¼Œæ¥ç€é—®æˆ‘httpçš„é•¿è¿æ¥å’ŒçŸ­é“¾æ¥æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ\næˆ‘è¯´ï¼Œæœ‰å•¥åŒºåˆ«ï¼Œèƒ½æœ‰å•¥åŒºåˆ«ã€‚æ²¡å•¥åŒºåˆ«ï¼Œéƒ½æ˜¯tcpè¿æ¥ã€‚\nç„¶åé¢è¯•å®˜è¯´å›å®¶ç­‰æ¶ˆæ¯å§ï¼Œ3åˆ°7ä¸ªå·¥ä½œæ—¥ç»™ä½ æ¶ˆæ¯ã€‚\næˆ‘å¿«æ­¥èµ°å‡ºã€‚\nåˆ°äº†æ¥¼ä¸‹æ‰“å¼€å¾®ä¿¡çœ‹åˆ°hrå¾®ä¿¡é—®æˆ‘é¢å®Œäº†å—ï¼Ÿ 3è½®éƒ½é¢å®Œäº†å—ï¼Ÿ\nè¦æ±‚ä¸è¦å¤ªé«˜\u0026hellip; è½¬çœ¼åˆ°äº†6æœˆä¸­æ—¬ï¼Œæˆ‘çˆ¸å¦ˆå€’æ˜¯æ²¡è¯´å•¥ã€‚å¤§èˆ…åŠæˆ‘\u0026quot;å·¥èµ„ä¸è¦è¦çš„é‚£ä¹ˆé«˜ï¼Œå…ˆæ‰¾åˆ°å·¥ä½œå†è¯´ã€‚ ä½ çœ‹ä½ çš„æˆ¿è´·ï¼Œç”Ÿæ´»éƒ½è¦å¼€æ”¯ã€‚\u0026quot;\nåæ¥è€å©†ä¹Ÿå¯¹æˆ‘è¯´ï¼Œæ­¦æ±‰å°±æ²¡æœ‰ä½ è¦çš„é‚£ä¸ªå·¥èµ„ã€‚\næœ‰ä¸€å¤©åœ¨èœå¸‚åœºç¢°åˆ°å‘å°çš„å¦ˆå¦ˆï¼Œè‚‰çœ¼å¯è§çœ‰å¼€çœ¼ç¬‘çš„å…³å¿ƒæˆ‘ï¼Œâ€œå·¥ä½œæ‰¾çš„æ€ä¹ˆæ ·ï¼Ÿâ€ã€‚\nå¥½å§ã€‚\né™ä½è¦æ±‚åï¼Œ7æœˆåˆï¼Œé¢ä¸Šäº†ä¸Šæµ·çš„æ­¦æ±‰åˆ†å…¬å¸ï¼Œä¸€å…±æ˜¯é¢äº†6è½®ã€‚\nåœ¨æ–°å…¬å¸å·¥ä½œäº†ä¸€æ®µæ—¶é—´ï¼Œæ„Ÿè§‰è¿˜è¡Œï¼Œå°±æ˜¯ç¦»å®¶è¿œäº†ç‚¹ã€‚\nè·³æ§½ å…¶å®æˆ‘æŒºçæƒœè¿™ä»½å·¥ä½œçš„ï¼Œæ¯•ç«Ÿæ˜¯é¢äº†6è½®ï¼Œè€Œä¸”åŒäº‹å’Œç›´æ¥leaderéƒ½å¾ˆå¥½ã€‚\nä½†æ˜¯ï¼Œæ­¦æ±‰è¿™è¾¹çš„è€æ€»ï¼Œè¯´äº†å¾ˆå¤šæ¬¡ï¼Œè®©æˆ‘åŠ ç­ï¼Œæˆ–è€…æ™šä¸Šæ™šç‚¹èµ°ã€‚\nç»ˆäºåœ¨ä¸€å¤©æ—©ä¼šä¸Šï¼Œåˆè¯´äº†æˆ‘ã€‚ ç„¶åæˆ‘å°±è·³æ§½äº†ã€‚\nç”Ÿæ´» æ­¦æ±‰çš„ç”Ÿæ´»ç¯å¢ƒæŒºå¥½çš„ï¼Œä»Šå¹´ï¼ˆ2022ï¼‰å¹´åˆï¼Œåˆäº”çš„å¤§é›ªæ˜¯çœŸçš„å¤§ï¼Œä¹Ÿæ˜¯çœŸçš„å¥½çœ‹ã€‚\nå››å­£åˆ†æ˜çš„æ„Ÿè§‰æ¯”æ·±åœ³çš„æµ·é£è¿˜æ›´åˆæˆ‘çš„è„¾æ€§ã€‚\nä¸è¿‡æ­¦æ±‰åšç”Ÿæ„çš„äººä¸å’‹æ ·ã€‚\nè£…ä¿® è™½ç„¶ä¹°çš„æ˜¯ç²¾è£…ä¿®çš„æˆ¿å­ï¼Œä½†æ˜¯å¼€å‘å•†è£…ä¿®è´¨é‡å¤ªå·®ï¼ˆä»·æ ¼å€’æ˜¯ä¸ä½2600ä¸€å¹³æ–¹ï¼‰\næ‰€ä»¥éœ€è¦å†è£…ä¸€ä¸‹ã€‚\nå®šåˆ¶æŸœå­ æ‰¾çš„ç†Ÿäººè£…çš„ï¼ŒçœŸçš„ä¸å¦‚ä¸æ‰¾ç†Ÿäººã€‚\nä¸€å¼€å§‹å°±æ²¡ç”¨å¿ƒ/ç”¨æ—¶é—´ï¼Œç»™æˆ‘ä»¬å‡ºè®¾è®¡æ–¹æ¡ˆï¼Œ\nåé¢è¿˜æ²¡å¼€å§‹è£…å°±æ”¶äº†7æˆçš„æ¬¾ï¼ŒæŸœå­è¿åˆ°å®¶åï¼Œä¸€å®šè¦ä»˜æ‰€æœ‰å°¾æ¬¾æ‰æ´¾å¸ˆå‚…ä¸Šé—¨å®‰è£…ã€‚\næ‰¿è¯ºçš„å…ç›‘å·¥ï¼Œç»“æœå°±æ˜¯æŸœå­è£…åå’Œè£…ä½äº†ã€‚å”®åä¸€é¡¿æ¨è„±ï¼ŒåŠ é’±ã€‚\nå°é˜³å° å°é˜³å°çš„äººæ˜¯æŸœå­çš„äººæ¨èçš„ï¼Œå¤ªç›¸ä¿¡ç†Ÿäººäº†ã€‚ æ²¡å»çœ‹å°±ç›´æ¥ç»™äº†å®šé‡‘ã€‚\nåé¢ä¸€ç›´æ‹–ç€ä¸æ–½å·¥ï¼Œä¸€ä¸ªæ˜ŸæœŸçš„æ´»ï¼Œå¹²äº†ä¸€ä¸ªæœˆã€‚\næœ€åè¯´é‚£ä¸ªå°çª—æˆ·çš„ç»ç’ƒå·¥å‚ä¸èƒ½æ‰“å­”ï¼Œè¦ç”¨pvå¡‘æ–™æ¿ä»£æ›¿ã€‚\næ— è¯­ï¼Œåµæ¶ï¼ŒæŠ¥è­¦ï¼Œ æœ€åè¿˜æ˜¯ç”¨ç»ç’ƒåšå¥½äº†ã€‚\nåé—¨çº±çª—çš„èºä¸é’‰æœ‰é—®é¢˜ï¼Œæ‰¾å”®åï¼Œä¹Ÿæ˜¯ä¸ç†ã€‚\nå®¶ç”µ/ç­‰ æ ¼åŠ›çš„å¸ˆå‚…æ¥è£…ç©ºè°ƒä¹Ÿæ”¶äº†å¿«600å—é’±ã€‚\næ¯”é‚£ä¸ªçƒ­æ°´å™¨çš„å¸ˆå‚…å¥½ä¸€ç‚¹ï¼Œè£…çƒ­æ°´å™¨çš„å¸ˆå‚…ï¼Œä¸€å‰¯é«˜é«˜åœ¨ä¸Šçš„æ€åº¦ï¼Œæœ€åæ”¶äº†ææ–™è´¹å’Œå®‰è£…è´¹600å¤šã€‚\nç§Ÿæˆ¿ æ–°æˆ¿è£…ä¿®çš„æ—¶å€™ï¼Œæ˜¯åœ¨å¤–é¢ç§Ÿæˆ¿ä½ã€‚\nåƒä¸‡ä¸è¦ç§Ÿå…¬å¯“ï¼Œç‰¹åˆ«æ˜¯å•æ‰€æ²¡æœ‰çª—æˆ·çš„å…¬å¯“ã€‚\nå…¬å›­ ç”Ÿæ´»ä¸å…¨éƒ¨æ˜¯ä¸Šé¢è¯´çš„ä¸å¼€å¿ƒã€‚\næ­¦æ±‰çš„å…¬å›­æŒºå¥½çš„ï¼Œæ¯”æ·±åœ³å¤§ï¼ŒèŠ±èŠ±è‰è‰å¾ˆå¤šã€‚\nå…¶ä»– åƒäº†å¿«ä¸€å¹´çš„çƒ­å¹²é¢ï¼Œæ¸æ¸çš„æ²¡æœ‰åœ¨æ·±åœ³çš„æ—¶å€™å¯¹çƒ­å¹²é¢çš„é‚£ç§æ„Ÿè§‰äº†ã€‚\nç°åœ¨æœ‰æ—¶å€™è¿‡æ—©åƒçƒ­å¹²é¢ï¼Œæœ‰æ—¶å€™åƒå‡‰é¢ã€‚æœ‰æ—¶å€™åƒè›‹é…’ï¼ˆæœ‰ç‚¹è´µï¼Œ3å—é’±ï¼‰å’ŒåŒ…å­ã€‚\næ­¦æ±‰åœ°é“æœ‰ç‚¹è´µï¼Œå¦å¤–ï¼Œæ˜¨å¤©hello å•è½¦æé†’æˆ‘ï¼Œæˆ‘çš„åŠå¹´å¡è¿˜æœ‰5å¤©åˆ°æœŸã€‚\n","date":"2022-04-08T10:37:47+08:00","image":"https://tab.deoops.com/posts/back-wuhan/%E6%AD%A6%E6%B1%89%E7%9A%AE%E9%9D%A9%E5%9F%8E_hu3ed9e8c50e18f21b204e1a4ad3566cdb_718195_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/back-wuhan/","title":"æ­¦æ±‰"},{"content":"å·¥ä½œä¸Šé‡åˆ°ä¸€ä¸ªé—®é¢˜ï¼Œå¥½å¥‡goalngçš„æ’åˆ—æ•°Permæ˜¯æ€ä¹ˆå®ç°çš„ï¼Œçœ‹äº†ä¸‹æºä»£ç ï¼Œå†™çš„å¾ˆç®€æ´ã€‚\nä½¿ç”¨äº†éšæœºäº¤æ¢ç®—æ³•æ¥å¾—åˆ°ä¸€ä¸ªæ’åˆ—ç»„åˆã€‚\npackage rand // import \u0026#34;math/rand\u0026#34; func Perm(n int) []int Perm returns, as a slice of n ints, a pseudo-random permutation of the integers in the half-open interval [0,n) from the default Source. äº¤æ¢ æœ¬è´¨ä¸Šè¯´å°±æ˜¯äº¤æ¢m[i]å’Œm[j]ï¼Œä¸”i\u0026gt; jã€‚\nfunc Perm(n int) []int { m := make([]int, n) for i := 0; i \u0026lt; n; i++ { j := rand.Intn(i + 1) // std implement // m[i] = m[j] // m[j] = i // swap m[i], m[j] = m[j], i // same effect // m[i] = i // m[i], m[j] = m[j], m[i] } return m } ","date":"2021-12-28T10:28:03+08:00","image":"https://tab.deoops.com/posts/rand-perm/permutation_hu807c4137de06b4a20a479ce4481e6a73_266543_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/rand-perm/","title":"permå‡½æ•°"},{"content":"ä¸Šç¤¼æ‹œæœ‰äººé—®æˆ‘ï¼Œå¦‚ä½•ä»æ•°ç»„ä¸­é€‰æ‹©å’Œä¸ºnï¼Œé•¿åº¦ä¸ºmçš„æ‰€æœ‰çš„å­æ•°ç»„ï¼Ÿ\né—®é¢˜ è¾“å…¥ a = []int{10, 7, -5, 4, 8, 16, 70, -30, 91}\nm = 3, n = 15\nè¾“å‡º [[10 35 -30] [-5 4 16]] ç­”æ¡ˆ ç®—æ³• è¿™æ˜¯ä¸€ä¸ªå…¸å‹çš„æ’åˆ—ç»„åˆçš„é—®é¢˜ï¼Œåªè¦æŠŠCnç®—å‡ºæ¥ç„¶ååšè¿‡æ»¤å°±å¥½ï¼Œæ ¸å¿ƒæ˜¯æ•°ç»„ç»„åˆçš„ç®—æ³•ã€‚\næˆ‘ä½¿ç”¨çš„æ˜¯é€’å½’ç®—æ³•ï¼š\né€‰å–åŒ…å«ç¬¬ä¸€ä¸ªå…ƒç´ çš„ç»„åˆï¼šæ‹¼æ¥ç¬¬ä¸€ä¸ªå…ƒç´ å’Œå‰”é™¤ç¬¬ä¸€ä¸ªå…ƒç´ åæ•°ç»„çš„æ‰€æœ‰çš„m-1çš„ç»„åˆï¼› é€‰å–ä¸å«ç¬¬äºŒä¸ªå…ƒç´ çš„é•¿åº¦ä¸ºmçš„ç»„åˆï¼› å°†ä¸Šé¢ä¸¤ä¸ªç»„åˆåˆå¹¶èµ·æ¥å³å¯ï¼›ï¼ˆä¸ç”¨å»é‡ï¼Œå› ä¸ºæ²¡æœ‰é‡å¤çš„ï¼‰ é€’å½’ç»“æŸæ¡ä»¶ï¼šå½“m=1çš„æ—¶å€™ï¼Œç›´æ¥æ”¾å›æ‰€æœ‰æ•°ç»„å…ƒç´ ï¼›å½“m=len(input)æ—¶ï¼Œç›´æ¥è¿”å›[][]int{input}ï¼›å½“m\u0026gt;len(input)æ—¶ï¼Œè¿”å›ç©ºï¼› golangå®ç° package main import ( \u0026#34;flag\u0026#34; \u0026#34;fmt\u0026#34; ) var ( size = flag.Int(\u0026#34;size\u0026#34;, 3, \u0026#34;size of array\u0026#34;) sum = flag.Int(\u0026#34;sum\u0026#34;, 0, \u0026#34;sum of two numbers\u0026#34;) ) func main() { flag.Parse() input := []int{10, 7, -5, 4, 8, 16, 35, -30, 91} // for _, v := range chooseM(input, 8) { // fmt.Println(v) // } fmt.Println(input) fmt.Println(chooseSumN(input, *size, *sum)) } func chooseM(data []int, m int) [][]int { if len(data) \u0026lt; m { return nil } if len(data) == m { return [][]int{data} } if m == 1 { var res [][]int for _, v := range data { res = append(res, []int{v}) } return res } one := [][]int{} rest := chooseM(data[1:], m-1) for _, v := range rest { m := append([]int{data[0]}, v...) one = append(one, m) } return append(one, chooseM(data[1:], m)...) } func chooseSumN(data []int, m, n int) [][]int { out := [][]int{} for _, v := range chooseM(data, m) { sum := 0 for _, i := range v { sum += i } if sum == n { out = append(out, v) } } return out } è°ƒè¯•è¾“å‡º â¯ ./c3 -sum 15 -size 2 [10 7 -5 4 8 16 35 -30 91] [[7 8]] â¯ ./c3 -sum 15 [10 7 -5 4 8 16 35 -30 91] [[10 35 -30] [-5 4 16]] å·¥ç¨‹ä¼˜åŒ– ä¸Šé¢æ˜¯ç®—æ³•çš„è§£é‡Šï¼Œå·¥ç¨‹å®ç°çš„æ—¶å€™å¯ä»¥æŠŠé€‰æ‹©å’Œè¿‡æ»¤ç»“åˆåœ¨ä¸€èµ·åšï¼Œæå‡ä»£ç çš„æ—¶é—´/ç©ºé—´æ€§èƒ½ã€‚\ngolangå®ç° func engineer(data []int, m, n int) [][]int { if len(data) \u0026lt; m { return nil } if len(data) == m { sum := 0 for _, v := range data { sum += v } if sum == n { return [][]int{data} } return nil } if m == 1 { var res [][]int for _, v := range data { if v == n { res = append(res, []int{v}) } } return res } one := [][]int{} rest := engineer(data[1:], m-1, n-data[0]) for _, v := range rest { m := append([]int{data[0]}, v...) one = append(one, m) } return append(one, engineer(data[1:], m, n)...) } ","date":"2021-12-13T11:34:08+08:00","image":"https://tab.deoops.com/posts/permutation-combination/permutation-combinnaiton_hu4d888928ba67d202c9c16f8f815f1495_34652_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://tab.deoops.com/posts/permutation-combination/","title":"æ’åˆ—ç»„åˆ"},{"content":"å¡«å†™æŸæ”¿åºœè¡¨æ ¼æ—¶å€™ï¼Œéœ€è¦æŠŠå¤šä¸ªå›¾ç‰‡åˆå¹¶ä¸ºä¸€å¼ å›¾ç‰‡ã€‚ ç”¨Photoshopåº”è¯¥å¾ˆå¥½è§£å†³ï¼Œä½†æ˜¯æœ¬åœ°æ²¡æœ‰å®‰è£…ã€‚äºæ˜¯ç½‘ä¸ŠæŸ¥äº†ä¸€ä¸‹ç”¨imageMagickä¹Ÿå¯ä»¥è§£å†³ã€‚\nappend two picture meat Appending images vertically in ImageMagick\n# vertical stacking (top to bottom): convert -append 1.jpeg 2.jpeg 3.jpeg out.jpg # horizontal stacking (left to right): convert +append 1.jpg 2.jpg out.jpg ps å¦å¤–è¿™ç¯‡å¾ªç¯æ’­æ”¾gifå›¾ç‰‡ä¹Ÿç”¨åˆ°äº†imageMagickã€‚\n","date":"2021-12-05T11:34:06+08:00","image":"https://tab.deoops.com/posts/append-jpeg/imagemagick_hu9738c9e970ad38a0cc4d6ae6cda99a87_72423_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/append-jpeg/","title":"åˆå¹¶å›¾ç‰‡"},{"content":"åœ¨è‹¹æœç”µè„‘ä¸Šä½¿ç”¨ç»ˆç«¯securityå‘½ä»¤æŸ¥çœ‹Wi-Fiå¯†ç ï¼š\nsecurity find-generic-password -wa \u0026#39;your wifi-ssid\u0026#39; macos dialogue åœ¨å¼¹å‡ºçš„ç³»ç»Ÿå¯¹è¯æ¡†ä¸­è¾“å…¥æ­£ç¡®çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œç»ˆç«¯å³å¯ä»¥çœ‹åˆ°Wi-Fiå¯†ç ã€‚\nps. é™¤äº†å½“å‰è¿æ¥çš„Wi-Fiï¼Œç³»ç»Ÿæ‰€æœ‰ä¿å­˜è¿‡çš„Wi-Fiå¯†ç éƒ½å¯ä»¥é€šè¿‡securityå‘½ä»¤æŸ¥åˆ°ã€‚ macos all remember wifi list ","date":"2021-12-01T15:16:39+08:00","image":"https://tab.deoops.com/posts/check-wifipassword/wifi-password_hu0c5d962a4ceb14c437931ff346737fd7_98795_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/check-wifipassword/","title":"æŸ¥çœ‹Wi-Fiå¯†ç "},{"content":"updated: å¥½åƒæ˜¯å› ä¸ºæˆ‘å®‰è£…äº†ripgrepæ‰€ä»¥ä¼šä¸€ç›´æ›´æ–°cargo-cä¾èµ–ã€‚\nä¸çŸ¥é“ä¸ºå•¥æ¯æ¬¡sudo port -v upgrade outdated éƒ½ä¼šé‡æ–°å®‰è£…cargo-cï¼Œ è¿›è€Œä¼šå®‰è£…ç¼–è¯‘rustã€‚ ç¼–è¯‘rustå¾ˆè´¹æ—¶é—´å’ŒCPUé£æ‰‡ã€‚\næ‰€ä»¥æˆ‘å°±å¸è½½äº†rustå’Œä¸€ä¼—ä¾èµ–ï¼Œåé¢ç‰¹æ„åˆå¸è½½äº†cargo-cã€‚ä½†æ˜¯æ¯æ¬¡upgrade outdated cargo-cåˆå›æ¥äº†ï¼Œå¾ˆæ˜¯çƒ¦äººã€‚ googleä¸€åœˆåï¼Œå†³å®šé‡æ–°å®‰è£…macport\næ¸…ç†å®‰è£…åŒ… å°è¯•clean æ‰€æœ‰çš„å®‰è£…åŒ…ï¼š\nsudo port uninstall cargo-c sudo port -v selfupdate sudo port -f clean --all all sudo rm -rf /opt/local/var/macports/packages/* sudo rm -rf /opt/local/var/macports/distfiles/* sudo rm -rf /opt/local/var/macports/build/* port echo leaves sudo port uninstall leaves sudo port -f uninstall inactive ## SURPRISE! after upgrade, `cargo-c` come back. sudo port upgrade outdated å¸è½½macport å‚è€ƒå®˜ç½‘ååŠ©æ­¥éª¤ï¼š\nsudo port -fp uninstall installed sudo dscl . -delete /Users/macports sudo dscl . -delete /Groups/macports sudo rm -rf \\ /opt/local \\ /Applications/DarwinPorts \\ /Applications/MacPorts \\ /Library/LaunchDaemons/org.macports.* \\ /Library/Receipts/DarwinPorts*.pkg \\ /Library/Receipts/MacPorts*.pkg \\ /Library/StartupItems/DarwinPortsStartup \\ /Library/Tcl/darwinports1.0 \\ /Library/Tcl/macports1.0 \\ ~/.macports æœ€åä¸€æ­¥æŠ¥é”™äº†ï¼šè¿™ä¸‰ä¸ª/opt/local, /opt/local/var/db, /opt/local/var/db/postgres ç›®å½•æ— æ³•åˆ é™¤ã€‚\nsudo su åˆ‡æ¢ä¸ºrootè¿˜æ˜¯æŠ¥æƒé™ä¸è¶³ã€‚\nSIP æŸ¥äº†ä¸€ä¸‹æ˜¯system integrity proction(SIP)çš„åŸå› \næŸ¥çœ‹SIP çŠ¶æ€ â¯ csrutil status System Integrity Protection status: enabled. æŸ¥çœ‹ç”¨æˆ· dscl . list /Users | grep -v \u0026#39;^_\u0026#39; daemon Guest postgres mixelpix nobody root åˆ é™¤postgres å¯ä»¥çœ‹åˆ°ä¸Šé¢æœ‰postgresç”¨æˆ·ï¼Œæ‰€ä»¥åˆ é™¤postgresä¹‹åï¼Œå°±å¯ä»¥åˆ é™¤/opt/localç›®å½•äº†ï¼š\nsudo dscl . -delete /Groups/postgres sudo dscl . -delete /Users/postgres sudo rm -rf /opt/local ","date":"2021-11-29T11:50:01+08:00","image":"https://tab.deoops.com/posts/reinstall-macport/sip_hu4a8e77eb47427e8ca91988fe144da582_470826_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/reinstall-macport/","title":"Â é‡æ–°å®‰è£…macport"},{"content":"ä»Šå¤©åœ¨hacker newsä¸Šé—²é€›ï¼Œåˆçœ‹åˆ°æœ‰äººæ¨é”€fishã€‚å¿ƒæƒ³é©¬ä¸Šå°±2022å¹´äº†ï¼Œä¸å¦‚æ¢ä¸ªshellè€è€ã€‚\nfish shell topic on hackernews å…¶å®æ—©åœ¨2013å¹´å°±æ¥è§¦è¿‡fishï¼Œé‚£ä¸ªæ—¶å€™è‡ªå·±æ¯”è¾ƒèœï¼Œå·¥ä½œçš„æ—¶å€™å¾ˆå¤šbashè„šæœ¬åœ¨fishä¸Šéƒ½ä¸èƒ½ä½¿ç”¨ï¼Œæ‰€ä»¥å°±æ”¾å¼ƒfishã€‚\nå®‰è£… å®‰è£…fish\nsudo port install fish sudo chpass -s /opt/local/bin/fish ${USER} cat /etc/shells é€€å‡ºzshï¼Œé‡å¯terminal\nå®‰è£…æ’ä»¶ oh-my-fish / fisher curl https://raw.githubusercontent.com/oh-my-fish/oh-my-fish/master/bin/install \u0026gt; install fish install --path=~/.local/share/omf --config=~/.config/omf # å¯èƒ½å‡ºç° https://git.ioæ— æ³•è®¿é—®çš„é—®é¢˜ curl -sL https://git.io/fisher | source \u0026amp;\u0026amp; fisher install jorgebucaran/fisher autojump/ j sudo port uninstall autojump git clone https://github.com/wting/autojump.git cd autojump/ ./install.py cd repo/github/autojump/ vi .config/fish/config.fish j home nvm sudo port uninstall nvm fisher install jorgebucaran/nvm.fish nvm install latest nvm list nvm --version #nvm use v17.1.0 # Now using Node v17.1.0 (npm 8.1.2) ~/.local/share/nvm/v17.1.0/bin/node node --version fisher plugins fisher install IlanCosman/tide@v5 fisher install PatrickF1/fzf.fish fisher install franciscolourenco/done é…ç½® PATH echo $PATH fish_add_path /Users/r/go/bin fish_add_path /opt/local/bin alias é»˜è®¤lså‘½ä»¤å¯¹æ–‡ä»¶å’Œç›®å½•æ²¡æœ‰åšé¢œè‰²çš„åŒºåˆ†ï¼Œå¯ä»¥ä½¿ç”¨alias ls='ls -G'åŠ ä¸Šé¢œè‰²é€‰é¡¹:)\n# ~/.config/fish/config.fish #starship init fish | source begin if test -f /Users/r/.autojump/share/autojump/autojump.fish; . /Users/r/.autojump/share/autojump/autojump.fish; end set --local AUTOJUMP_PATH $HOME/.autojump/share/autojump/autojump.fish if test -e $AUTOJUMP_PATH source $AUTOJUMP_PATH end end begin alias ls=\u0026#39;ls -G\u0026#39; alias yaegi=\u0026#39;rlwrap yaegi\u0026#39; #alias swagger=\u0026#34;docker run --rm -it -e GOPATH=$HOME/go:/go -v $HOME:$HOME -w $(pwd) quay.io/goswagger/swagger\u0026#34; alias kks=\u0026#39;kubectl -n kube-system \u0026#39; alias kku=\u0026#39;kubectl -n wu \u0026#39; alias kkl=\u0026#39;kubectl -n location \u0026#39; alias pt=\u0026#39;git push \u0026amp;\u0026amp; git push --tags\u0026#39; alias vi=nvim alias vim=nvim # alias code=nvim alias t=\u0026#39;tmux -u\u0026#39; # alias docker_prune=\u0026#34;docker rmi `docker images -f \u0026#39;dangling=true\u0026#39; -q`\u0026#34; # alias docker_prune=\u0026#34;docker system prune\u0026#34; alias chrome=\u0026#34;/Applications/Google\\ Chrome.app/Contents/MacOS/Google\\ Chrome\u0026#34; end begin set --universal nvm_default_version v17.3.1 end ","date":"2021-11-26T11:33:15+08:00","image":"https://tab.deoops.com/posts/try-fish/fish_hue948211959d3d95bff209a03969abc4f_459913_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/try-fish/","title":"fish shell"},{"content":"æ€»ä½“æ¥çœ‹clickhouseçš„ddlæ“ä½œæ–¹å¼å’Œmysqlå¾ˆåƒã€‚æ¯”å¦‚use database_nameï¼Œ create user ... identified by ''ç­‰ã€‚\nserver docker run å¯åŠ¨clickhouseæœåŠ¡ï¼š\ndocker run -d --name clickhouse-server -p 8123:8123 -p 9000:9000 --ulimit nofile=262144:262144 yandex/clickhouse-server:21.8.10.19 default useræƒé™ é»˜è®¤defualt ç”¨æˆ·ä¸èƒ½æ·»åŠ æ–°çš„ç”¨æˆ·ï¼Œéœ€è¦ä¿®æ”¹defaultæƒé™ï¼Œå¦åˆ™ä¼šæŠ¥é”™Code: 497. DB::Exception: Received from localhost:9000. DB::Exception: default: Not enough privileges. To execute this query it's necessary to have the grant CREATE USER ON *.*. :\ndocker exec -it clickhouse-server bash apt update -y apt install vim vi /etc/clickhouse-server/users.xml # update \u0026lt;access_management\u0026gt;1\u0026lt;/access_management\u0026gt; exit docker restart clickhouse-server access management for default user client docker run client å¯åŠ¨clickhouse clientï¼Œæ·»åŠ ç”¨æˆ·å’Œæ•°æ®åº“ï¼š\ndocker run -it --rm --link clickhouse-server:clickhouse-server yandex/clickhouse-client --host clickhouse-server ## create database fd87688bfa29 :) create database blc CREATE DATABASE blc Query id: 19562cda-a1e7-46f9-a3c2-03dec173e15b Ok. 0 rows in set. Elapsed: 0.009 sec. fd87688bfa29 :) ## create user fd87688bfa29 :) create user abc IDENTIFIED by \u0026#39;ssss\u0026#39; CREATE USER abc IDENTIFIED WITH sha256_hash BY \u0026#39;28E51044F4A9CBAE2BBD3D8A9D8C902AD1455D42208277AC4A913B003038A3DC\u0026#39; Query id: ee533fe8-7d66-428a-bbde-89d0a4d15924 Ok. 0 rows in set. Elapsed: 0.002 sec. ## grant fd87688bfa29 :) GRANT ALL PRIVILEGES ON blc. * TO abc GRANT SHOW, SELECT, INSERT, ALTER, CREATE DATABASE, CREATE TABLE, CREATE VIEW, CREATE DICTIONARY, CREATE FUNCTION, DROP, TRUNCATE, OPTIMIZE, SYSTEM MERGES, SYSTEM TTL MERGES, SYSTEM FETCHES, SYSTEM MOVES, SYSTEM SENDS, SYSTEM REPLICATION QUEUES, SYSTEM DROP REPLICA, SYSTEM SYNC REPLICA, SYSTEM RESTART REPLICA, SYSTEM RESTORE REPLICA, SYSTEM FLUSH DISTRIBUTED, dictGet ON blc.* TO abc Query id: cd09b798-f7e0-45f7-8511-9914de75238c Ok. 0 rows in set. Elapsed: 0.002 sec. fd87688bfa29 :) sdk connect from golang client package db import ( \u0026#34;database/sql\u0026#34; _ \u0026#34;github.com/ClickHouse/clickhouse-go\u0026#34; ) var globalDB *sql.DB // Init open connection to clickhouse and check a ping cmd. // url: \u0026#39;tcp://localhost:9000?debug=true\u0026amp;username=abc\u0026amp;password=ssss\u0026amp;database=blc\u0026#39; func Init(url string) (func(), error) { connect, err := sql.Open(\u0026#34;clickhouse\u0026#34;, url) if err != nil { return nil, err } if err := connect.Ping(); err != nil { return nil, err } globalDB = connect return func() { connect.Close() }, nil } // Start create tables if not exists. func Start() error { return createTables() } ","date":"2021-11-22T18:39:03+08:00","image":"https://tab.deoops.com/posts/clickhouse-start/clickhouse_hub7dd4e615b930761deceea7e40c4982b_81259_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/clickhouse-start/","title":"clickhouseåˆå§‹åŒ–"},{"content":"ä¸€èˆ¬æ¥è¯´å¤šçº¿ç¨‹3ç§å¹¶å‘æ¨¡å‹ï¼š\nN:1ï¼Œ æŠŠnä¸ªç”¨æˆ·çº¿ç¨‹ï¼ˆGreen threedï¼‰æ˜ å°„åˆ°ä¸€ä¸ªæ“ä½œç³»ç»Ÿçš„çº¿ç¨‹ï¼ˆOS Threedï¼‰ä¸Šã€‚ è¿™ç§æ¨¡å‹çš„ä¼˜ç‚¹æ˜¯ ç”¨æˆ·çº¿ç¨‹ä¹‹é—´çš„ä¸Šä¸‹æ–‡åˆ‡æ¢ï¼ˆcontext switchï¼‰ä¼šéå¸¸å¿«ï¼Œ ç¼ºç‚¹æ˜¯ä¸èƒ½å……åˆ†çš„è¿ç”¨å¤šæ ¸CPUèµ„æºï¼ˆä¸€ä¸ªOS Threadåªèƒ½åœ¨ä¸€ä¸ªCPUä¸Šï¼‰ï¼› 2. 1:1ï¼Œ æ¯ä¸ªç”¨æˆ·çº¿ç¨‹æ˜ å°„åˆ°ä¸€ä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹ä¸Šã€‚\nè¿™ç§å’Œç¬¬ä¸€ç§çš„ä¼˜ç¼ºç‚¹æ­£å¥½ç›¸åã€‚1:1 å¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸å¤„ç†å™¨èµ„æºï¼Œä½†æ˜¯ä¸Šä¸‹æ–‡åˆ‡æ¢å¾ˆæ…¢ã€‚\nM:Nï¼ŒæŠŠMä¸ªç”¨æˆ·çº¿ç¨‹æ˜ å°„åˆ°Nä¸ªæ“ä½œç³»ç»Ÿçº¿ç¨‹ä¸Šã€‚ è¿™ç§ç»“åˆäº†å‰é¢ä¸¤ç§æ¨¡å‹çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶è§„é¿äº†ä»–ä»¬çš„ç¼ºç‚¹ã€‚\nM/G/P golang runtimeä¸»è¦é€šè¿‡æŠ½è±¡å‡ºMachine/Processor/Groutineä¸‰ç§å¯¹è±¡ï¼Œå’Œä¸€äº›ç®—æ³•(steal)å®ç°äº†M:Næ¨¡å‹ã€‚\nMachine Må¯¹åº”æ“ä½œç³»ç»Ÿçº¿ç¨‹ï¼Œä»£è¡¨è¢«æ“ä½œç³»ç»Ÿç®¡ç†çš„çº¿ç¨‹èµ„æºã€‚\nGoroutine Gå¯¹åº”ç”¨æˆ·çº¿ç¨‹ï¼ˆGoroutineï¼‰ï¼ŒåŒ…å«äº†stackï¼ŒæŒ‡ä»¤æŒ‡é’ˆï¼Œè¿˜æœ‰ä¸€äº›ä¼šå½±å“è¿™ä¸ªGoroutineè°ƒåº¦çš„å…³é”®ä¿¡æ¯ï¼Œæ¯”å¦‚æœ‰å…³çš„channelã€‚\nProcessor På¯¹åº”æœ¬åœ°é€»è¾‘è°ƒåº¦å™¨ä¸Šä¸‹æ–‡ï¼ˆcontextï¼‰ï¼Œæ˜¯è°ƒåº¦ç®—æ³•å…·ä½“çš„æ‰§è¡Œå¯¹è±¡ï¼Œä¸»è¦ç”¨æ¥å¤„ç†stealå’Œhand-offç­‰ç®—æ³•ã€‚\ndemo normal Machine Processor Groutine demo ä¸Šå›¾ä¸­ï¼Œæˆ‘ä»¬æœ‰2ä¸ªM(OS Thread)ï¼Œæ¯ä¸ªMéƒ½æœ‰ä¸€ä¸ªæœ¬åœ°çš„contextï¼ˆPï¼‰ï¼Œéƒ½åœ¨è¿è¡Œä¸€ä¸ªgoroutineï¼ˆGï¼‰ã€‚\næœ‰å‡ ç‚¹éœ€è¦è¯´æ˜ä¸€ä¸‹ï¼š\nMå¿…é¡»å¾—åˆ°ä¸€ä¸ªPæ‰èƒ½è¿è¡Œgoroutineé‡Œé¢çš„æŒ‡ä»¤ï¼› Pçš„æ•°é‡ç­‰äºç¯å¢ƒå˜é‡GOMAXPROCSçš„å€¼ï¼Œ ä¸€èˆ¬ç­‰äºå®¿ä¸»æœºçš„å¤„ç†å™¨æ ¸å¿ƒæ•°ï¼› ç°è‰²çš„goroutineæ²¡æœ‰åœ¨runningï¼Œä½†æ˜¯å·²ç»å‡†å¤‡å¥½è¢«è°ƒåº¦äº†ã€‚ä»–ä»¬æ‰€å¤„çš„é˜Ÿåˆ—å«runqueuesï¼Œæ¯å½“æ‰§è¡Œçš„go statementæŒ‡ä»¤æ—¶ï¼Œæ–°çš„goroutineå°±ä¼šåŠ åˆ°runqueueçš„å°¾éƒ¨ï¼› æ¯ä¸ªPéƒ½æœ‰è‡ªå·±æœ¬åœ°runqueueã€‚ (sys)call / hand-off syscall demo M0æŠŠè‡ªå·±çš„contextç»™äº†M1ï¼Œæµç¨‹æ˜¯è¿™æ ·çš„ï¼š\nM0æ‰§è¡ŒG0ä¸Šçš„æŸæ¡syscallæŒ‡ä»¤ï¼› M0æ”¾å¼ƒPè¿›å…¥blockçŠ¶æ€ï¼ŒM1å¾—åˆ°å¹¶ç»§ç»­æ‰§è¡ŒPè°ƒåº¦ç®—æ³•ï¼Œå¯èƒ½å»æ‰§è¡Œå¦å¤–æŸä¸€ä¸ªgoroutineï¼› syscallè¿”å›ï¼ŒM0å› ä¸ºæ²¡æœ‰Pæ‰€ä»¥ä¸èƒ½ç»§ç»­æ‰§è¡ŒG0ã€‚ç°åœ¨M0éœ€è¦å»å·ä¸€ä¸ªPæ‰§è¡ŒG0ï¼Œå¦åˆ™å°±æŠŠG0æ”¾åˆ°global runqueueé‡Œé¢ç„¶åæŠŠè‡ªå·±æ”¾å›thread caheå»sleepã€‚ ä¹Ÿæœ‰å‡ ç‚¹éœ€è¦å•ç‹¬è¯´æ˜ï¼š\nM1å¯èƒ½æ˜¯schedulerä¸ºäº†å¤„ç†syscallç‰¹æ„åˆ›å»ºçš„ï¼Œä¹Ÿå¯èƒ½æ˜¯æ¥è‡ªthread cacheï¼› å½“Pæœ¬åœ°çš„runqueueä¸ºç©ºæ—¶ï¼ŒPä¼šä»global runqueueæ‹‰å–Gï¼›å³ä½¿æœ¬åœ°runqueueæ²¡æœ‰ç©ºï¼ŒPä¹Ÿä¼šå®šæœŸçš„æ£€æŸ¥global runqueueé‡Œçš„goroutineã€‚ æ­£æ˜¯å› ä¸ºè¦å¤„ç†syscal/hand-offï¼Œæ‰€ä»¥å³ä½¿GOMAXPROCSç­‰äº1ï¼ŒGoè¿˜æ˜¯ä¼šå¯åŠ¨å¤šä¸ªOSçº¿ç¨‹ã€‚ stealing work steal work/goroutine demo å½“Pè‡ªå·±æœ¬åœ°çš„runqueueç©ºäº†ï¼Œè€Œä¸”global runqueueä¹Ÿæ˜¯ç©ºçš„æ—¶å€™ï¼Œ På°±ä¼šå»å…¶ä»–På·æ‰å¯¹æ–¹ä¸€åŠçš„Gï¼Œä»è€Œä½¿å¾—è‡ªå·±å’Œå…¶å®ƒPéƒ½èƒ½é«˜æ•ˆå·¥ä½œï¼Œæé«˜æ•´ä½“æ€§èƒ½ã€‚\nå‚è€ƒæ–‡æ¡£\n","date":"2021-11-19T14:44:20+08:00","image":"https://tab.deoops.com/posts/go-scheduler/go-scheduler_hu91e7c0d50c0fc2958389b4490ae56d77_169307_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/go-scheduler/","title":"ç”¨æˆ·çº¿ç¨‹è°ƒåº¦æ¨¡å‹"},{"content":"æœˆåˆçš„æ—¶å€™åŒäº‹æŠ±æ€¨å…¬å¸æ²¡æœ‰çº¸å·¾äº†ï¼Œæœ‰ç‚¹å„¿ä¸æ–¹ä¾¿ã€‚ å…«å¦ä¸€é˜µåï¼ŒåŸæ¥æ˜¯è¯´ä¸Šä¸ªæœˆå›¢å»ºè¶…é¢„ç®—äº†ï¼Œä¸‹ä¸ªæœˆæ‰æœ‰ç»è´¹é‡‡è´­çº¸å·¾ã€‚ä¼°è®¡è¿˜è¦ç­‰20å¤šå¤©ã€‚\næ…¢æ…¢çš„å¤§å®¶çš„çº¸å·¾éƒ½ç”¨å®Œäº†ï¼Œç§ä¸‹çš„æŠ±æ€¨ä¹Ÿè¶Šæ¥è¶Šå¤šã€‚\nåˆ°äº†æœˆä¸­ä¹Ÿå°±ä¸æ€ä¹ˆæŠ±æ€¨äº†ï¼Œæ¯•ç«Ÿæ‰å‡ å—é’±çš„ä¸œè¥¿ï¼Œå¤§å®¶åŸºæœ¬ä¸Šéƒ½è‡ªå·±ä¹°äº†ã€‚\næœ¬æ¥äº‹æƒ…å¾ˆç®€å•è¿‡å»äº†ã€‚ä¸æƒ³å‰å‡ å¤©å…¬å¸çš„è€å¤§åœ¨åŠå…¬å®¤é€›çš„æ—¶å€™è¯´äº†ä¸€å¥ï¼Œè¿™äº›ç›†æ ½æœ‰çš„å·²ç»æ¯äº†ï¼Œè¦æ‰¾äººä¿®ä¸€ä¿®äº†ã€‚\nç„¶åä»Šå¤©åŠå…¬å®¤çš„ç›†æ ½å°±éƒ½æ¢æ–°äº†: beautiful potted plants æœ‰ä¸€è¯´ä¸€ï¼Œè¿™äº›ç›†æ ½æŒºæ¼‚äº®çš„ã€‚\nä¸è¿‡å…¬å¸è¦æ˜¯èƒ½æŠŠæ²¡æœ‰çº¸å·¾çš„é—®é¢˜è§£å†³äº†ï¼ŒèµèŠ±çš„æ—¶å€™å¿ƒé‡Œä¼šæ›´èˆ’æœäº›ï¼Œä¸è¦è¾œè´Ÿäº†ç»¿æ²¹æ²¹æ¼‚äº®çš„ç›†æ ½ã€‚\nps. æˆ‘ä¹Ÿä¸æ•¢æçº¸å·¾çš„æ—¶å€™ï¼Œå¿ä¸€å¿å°±è¿‡å»äº†å“ˆã€‚ pps. ä¸‹åˆæ¥åˆ°é€šçŸ¥ï¼Œå¤§è€æ¿è¦ä»ä¸Šæµ·è¿‡æ¥ã€‚å…¬å¸è¿˜è¯·äº†ä¿æ´é˜¿å§¨æå«ç”Ÿã€‚å¯èƒ½æ˜¯ç‰¹æ‰¹äº†ä¸€ç¬”ç»è´¹å§ã€‚\n","date":"2021-11-19T09:53:25+08:00","image":"https://tab.deoops.com/posts/tissue-flower/flower_hu1808e4b8899162eb6072b7a4f5543081_803011_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/tissue-flower/","title":"çº¸å·¾å’Œç›†æ ½"},{"content":"install é¦–å…ˆä½¿ç”¨macportå®‰è£… imagemagickè½¯ä»¶åŒ…ï¼Œå› ä¸ºmacportæ˜¯ç¼–è¯‘å®‰è£…è½¯ä»¶åŒ…ï¼Œæ‰€ä»¥å®‰è£…è¿‡ç¨‹ä¼šæ¯”è¾ƒä¹…ï¼ˆ~9minï¼‰ã€‚ æ›´åŠ ä¹ æƒ¯homebrewçš„å¯ä»¥å‚è€ƒ å®˜ç½‘imagemagick download å®‰è£…ã€‚\nâ¯ sudo port install imagemagick Password: ---\u0026gt; Computing dependencies for ImageMagickWarning: cltversion: The Command Line Tools are installed, but MacPorts cannot determine the version. Warning: cltversion: For a possible fix, please see: https://trac.macports.org/wiki/ProblemHotlist#reinstall-clt The following dependencies will be installed: aom brotli .... .... . . ---\u0026gt; Activating webp @1.2.1_0 ---\u0026gt; Cleaning webp ---\u0026gt; Fetching archive for ImageMagick ---\u0026gt; Attempting to fetch ImageMagick-6.9.11-60_1+x11.darwin_21.x86_64.tbz2 from https://packages.macports.org/ImageMagick ---\u0026gt; Attempting to fetch ImageMagick-6.9.11-60_1+x11.darwin_21.x86_64.tbz2 from https://pek.cn.packages.macports.org/macports/packages/ImageMagick ---\u0026gt; Attempting to fetch ImageMagick-6.9.11-60_1+x11.darwin_21.x86_64.tbz2 from https://kmq.jp.packages.macports.org/ImageMagick ---\u0026gt; Fetching distfiles for ImageMagick ---\u0026gt; Attempting to fetch ImageMagick-6.9.11-60.tar.xz from https://distfiles.macports.org/ImageMagick ---\u0026gt; Verifying checksums for ImageMagick ---\u0026gt; Extracting ImageMagick ---\u0026gt; Configuring ImageMagick ---\u0026gt; Building ImageMagick ---\u0026gt; Staging ImageMagick into destroot ---\u0026gt; Installing ImageMagick @6.9.11-60_1+x11 ---\u0026gt; Activating ImageMagick @6.9.11-60_1+x11 ---\u0026gt; Cleaning ImageMagick ---\u0026gt; Updating database of binaries ---\u0026gt; Scanning binaries for linking errors ---\u0026gt; No broken files found. ---\u0026gt; No broken ports found. ~ took 8m49s convert ä¿®æ”¹gifå¾ªç¯æ¬¡æ•°ï¼Œå½“loopä¸º0æ—¶åˆ™å…³é—­äº†gifçš„å¾ªç¯æ’­æ”¾ã€‚\n# convert -h | grep loop # -loop iterations add Netscape loop extension to your GIF animation convert -loop 1000 dog.gif bad_dog.gif ","date":"2021-11-18T17:23:48+08:00","image":"https://tab.deoops.com/posts/gif-loop/deja-vu-brain-injury_hu0969ae8c431bdda2659fab813723f9a9_248846_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/gif-loop/","title":"å¾ªç¯æ’­æ”¾gifå›¾ç‰‡"},{"content":"æ¢è¡Œç¬¦\\r\\nå’Œ\\nçš„å…³ç³»å’ŒåŒºåˆ«å¯ä»¥è¿½æº¯åˆ°60å¹´å‰ï¼Œæ‰“å­—æœºå¹¿æ³›è¢«ä½¿ç”¨çš„æ—¶ä»£ã€‚\nåœ¨æ‰“å­—æœºè¿˜åˆšåˆšè¢«å‘æ˜çš„æ—¶å€™ï¼Œäººä»¬è¾“å…¥å®Œä¸€è¡Œå­—ä¹‹åï¼Œéœ€è¦ä¸¤ä¸ªåŠ¨ä½œæ‰èƒ½å¼€å§‹è¾“å…¥ä¸‹ä¸€è¡Œçš„å†…å®¹ã€‚\næ»šåŠ¨æ»šè½®ï¼Œè®©çº¸å¼ å¾€ä¸Šç§»åŠ¨ä¸€è¡Œï¼Œ å³æ˜¯ \\n æ“ä½œï¼› ç§»åŠ¨ æ‰“å­—çš„æŒ‡é’ˆåˆ° è¡Œé¦–ï¼Œ å³æ˜¯\\r ã€‚ ä¸Šé¢ä¸¤ä¸ªæ“ä½œæ²¡æœ‰é¡ºåºçš„è¦æ±‚ï¼Œ 1-\u0026gt;2 ; 2-\u0026gt;1 éƒ½å¯ä»¥ã€‚\nwindows Windows æ“ä½œç³»ç»Ÿ çš„æ–‡æœ¬å¯¹ new lineçš„ ç¼–ç  ä½¿ç”¨çš„æ˜¯ 2-\u0026gt;1 çš„ ç»„åˆæ“ä½œ;\nunix Linux/Unix æ“ä½œç³»ç»Ÿ åˆ™åªä½¿ç”¨æ“ä½œ 1 ã€‚\nA line feed means moving one line forward. The code is \\n. A carriage return means moving the cursor to the beginning of the line. The code is \\r. Windows editors often still use the combination of both as \\r\\n in text files. Unix uses mostly only the \\n.\nThe separation comes from typewriter times, when you turned the wheel to move the paper to change the line and moved the carriage to restart typing on the beginning of a line. This was two steps\nå‚è€ƒï¼šWhat is the difference between a â€œline feedâ€ and a â€œcarriage returnâ€ left side of typewriter ","date":"2021-11-17T14:58:30+08:00","image":"https://tab.deoops.com/posts/carrier-return/line-feed_hu785a82af1f66933866e69c44b5197412_39860_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/carrier-return/","title":"æ¢è¡Œç¬¦"},{"content":"æœ¬æ–‡ä¼šä¸å®šæœŸæ›´æ–° :)\nset å¯ä»¥ä½¿ç”¨setå‘½ä»¤æ”¹å˜shellè„šæœ¬é»˜è®¤çš„æ‰§è¡Œæµç¨‹ã€‚ æ¯”å¦‚ set -e å¯ä»¥ä½¿å¾—shellè„šæœ¬é‡åˆ°æŸä¸€æ¡å‘½ä»¤å‡ºé”™ï¼ˆ echo $? ä¸ä¸º0ï¼‰æ—¶ç«‹å³é€€å‡ºæ‰§è¡Œã€‚\n#/bin/bash set -e false echo you cannot see me, unless you comment out the \u0026#39;set -e\u0026#39; flag, haha setè¯¦ç»†æ–‡æ¡£\ndu â¯ du -sh Downloads 4.1G Downloads wiki\nrm rm $0 # åˆ é™¤å½“å‰æ–‡ä»¶ for cleanup job nohup åœ¨åå°æ‰§è¡Œå½“å‰å‘½ä»¤ï¼š\nnohup /usr/sbin/script.sh \u0026amp; é»˜è®¤æƒ…å†µä¸‹ï¼Œè¿›ç¨‹æ˜¯å‰å°è¿›ç¨‹ï¼Œè¿™æ—¶å°±æŠŠShellç»™å æ®äº†ï¼Œæˆ‘ä»¬æ— æ³•è¿›è¡Œå…¶ä»–æ“ä½œï¼Œå¯¹äºé‚£äº›æ²¡æœ‰äº¤äº’çš„è¿›ç¨‹ï¼Œ æˆ‘ä»¬å¸Œæœ›å°†å…¶åœ¨åå°å¯åŠ¨ï¼Œå¯ä»¥åœ¨å¯åŠ¨å‚æ•°çš„æ—¶å€™åŠ ä¸€ä¸ª\u0026rsquo;\u0026amp;\u0026lsquo;å®ç°è¿™ä¸ªç›®çš„ã€‚\nâ¯ sleep 5 \u0026amp; [1] 34769 âœ¦ â¯ [1] + 34769 done sleep 5 âœ¦ â¯ è¿›ç¨‹åˆ‡æ¢åˆ°åå°çš„æ—¶å€™ï¼Œæˆ‘ä»¬æŠŠå®ƒç§°ä¸ºjobã€‚åˆ‡æ¢åˆ°åå°æ—¶ä¼šè¾“å‡ºç›¸å…³jobä¿¡æ¯ï¼Œä¸Šé¢\u0026amp;çš„è¾“å‡º [1] 34769 ï¼š [1]è¡¨ç¤ºjob ID æ˜¯1,11319è¡¨ç¤ºè¿›ç¨‹IDæ˜¯34769ã€‚åˆ‡æ¢åˆ°åå°çš„è¿›ç¨‹ï¼Œä»ç„¶å¯ä»¥ç”¨pså‘½ä»¤æŸ¥çœ‹ã€‚\nfg/bg suspended å¯ä»¥é€šè¿‡bg ï¼ˆbackgroundï¼‰å’Œfgï¼ˆforegroundï¼‰å‘½ä»¤å°†å…¶åœ¨å‰åå°é—´çŠ¶æ€åˆ‡æ¢ã€‚ å¯ä»¥ä½¿ç”¨+z ç»„åˆé”®æŠŠå½“å‰fgçš„è¿›ç¨‹æŒ‚èµ·:\nSource changed \u0026#34;/Users/r/datewu.github.io/content/posts/bash-command/index.md\u0026#34;: WRITE Total in 15 ms ^Z [1] + 3595 suspended hugo server æ³¨æ„ï¼ŒæŒ‚èµ·çš„è¿›ç¨‹ä¼šæš‚åœè¿è¡Œã€‚éœ€è¦å†æ‰§è¡Œbg/fgå‘½ä»¤æ‰èƒ½ç»§ç»­è¿è¡Œï¼š\ndatewu.github.io on î‚  main [!?] took 7m41s âœ¦ â¯ bg [1] + 3595 continued hugo server åŒæ ·çš„ï¼Œbgä¹‹åæ‰§è¡Œfgå‘½ä»¤å°±å¯ä»¥æŠŠjobé‡æ–°åˆ†é…åˆ°å½“å‰çš„shelläº†ã€‚\ndatewu.github.io on î‚  main [!?] âœ¦ â¯ ls Makefile Readme.md archetypes config.yaml content data layouts resources static themes datewu.github.io on î‚  main [!?] âœ¦ â¯ fg [1] + 3595 running hugo server å®ˆæŠ¤è¿›ç¨‹ å¦‚æœä¸€ä¸ªè¿›ç¨‹æ°¸è¿œéƒ½æ˜¯ä»¥åå°æ–¹å¼å¯åŠ¨ï¼Œå¹¶ä¸”ä¸èƒ½å—åˆ°Shellé€€å‡ºå½±å“è€Œé€€å‡ºï¼Œä¸€ä¸ªæ­£ç»Ÿçš„åšæ³•æ˜¯å°†å…¶åˆ›å»ºä¸ºå®ˆæŠ¤è¿›ç¨‹ã€‚ å®ˆæŠ¤è¿›ç¨‹å€¼å¾—æ˜¯ç³»ç»Ÿé•¿æœŸè¿è¡Œçš„åå°è¿›ç¨‹ï¼Œç±»ä¼¼WindowsæœåŠ¡ã€‚å®ˆæŠ¤è¿›ç¨‹ä¿¡æ¯é€šè¿‡ps â€“aæ— æ³•æŸ¥çœ‹åˆ°ï¼Œéœ€è¦ç”¨åˆ°â€“xå‚æ•°ã€‚ å½“æŸ¥çœ‹å®ˆæŠ¤è¿›ç¨‹æ—¶ï¼Œå¾€å¾€è¿˜é™„ä¸Š-jå‚æ•°ä»¥æŸ¥çœ‹ä½œä¸šæ§åˆ¶ä¿¡æ¯ï¼Œå…¶ä¸­TPGIDä¸€æ ä¸º-1å°±æ˜¯å®ˆæŠ¤è¿›ç¨‹ã€‚\nroot ~ ps xj PPID PID PGID SID TTY TPGID STAT UID TIME COMMAND 953 1190 1190 1190 ? -1 Ss 1000 0:00 /bin/sh /usr/bin/startkde 1 1490 1482 1482 ? -1 Sl 1000 0:00 /usr/bin/VBoxClient â€“seamless 1 1491 1477 1477 ? -1 Sl 1000 0:00 /usr/bin/VBoxClient â€“display åˆ›å»ºå®ˆæŠ¤è¿›ç¨‹æœ€å…³é”®çš„ä¸€æ­¥æ˜¯è°ƒç”¨setsidå‡½æ•°åˆ›å»ºä¸€ä¸ªæ–°çš„Sessionï¼Œå¹¶æˆä¸ºSession Leaderã€‚ æˆåŠŸåˆ›å»ºå®ˆæŠ¤è¿›ç¨‹çš„æµç¨‹ä¸ºï¼š\nåˆ›å»ºä¸€ä¸ªæ–°çš„Sessionï¼Œå½“å‰è¿›ç¨‹æˆä¸ºSeesion Leaderï¼Œ å½“å‰è¿›ç¨‹çš„idå°±æ˜¯Session idï¼› åˆ›å»ºä¸€ä¸ªæ–°çš„è¿›ç¨‹ç»„ï¼Œå½“å‰è¿›ç¨‹æˆä¸ºè¿›ç¨‹ç»„çš„Leaderï¼Œ å½“å‰è¿›ç¨‹çš„idå°±æ˜¯è¿›ç¨‹ç»„çš„idï¼› å¦‚æœå½“å‰è¿›ç¨‹åŸæœ¬æœ‰ä¸€ä¸ªæ§åˆ¶ç»ˆç«¯ï¼Œåˆ™å®ƒä¼šå¤±å»è¿™ä¸ªshellï¼Œæˆä¸ºä¸€ä¸ªæ²¡æœ‰shellçš„è¿›ç¨‹ï¼ˆå³å®ˆæŠ¤è¿›ç¨‹ï¼‰ã€‚ å¯ä»¥ä½¿ç”¨çš„å‘½ä»¤æœ‰ disown setsid nohup\nâ¯ tldr disown Command disown does not exist for the host platform. Displaying the page from linux platform disown Allow sub-processes to live beyond the shell that they are attached to. See also the jobs command. More information: https://www.gnu.org/software/bash/manual/bash.html#index-disown. - Disown the current job: disown - Disown a specific job: disown %job_number - Disown all jobs: disown -a - Keep job (do not disown it), but mark it so that no future SIGHUP is received on shell exit: disown -h %job_number See also: jobs ~ â¯ man setsid | head SETSID(2) System Calls Manual SETSID(2) NAME setsid â€“ create session and set process group ID SYNOPSIS #include \u0026lt;unistd.h\u0026gt; pid_t setsid(void); exit #/bin/bash exit(0) #è„šæœ¬/å‘½ä»¤æ­£å¸¸é€€å‡º exit(1) # è„šæœ¬/å‘½ä»¤å¼‚å¸¸é€€å‡º $? \u0026amp;\u0026amp; || shell åœ¨æ‰§è¡ŒæŸä¸ªå‘½ä»¤çš„æ—¶å€™ï¼Œä¼šè¿”å›ä¸€ä¸ªè¿”å›å€¼ï¼Œè¯¥è¿”å›å€¼ä¿å­˜åœ¨ shell å˜é‡ $? ä¸­ã€‚ å½“ $? == 0 æ—¶ï¼Œè¡¨ç¤ºæ‰§è¡ŒæˆåŠŸï¼›å½“ $? == 1 æ—¶ï¼ˆé0è¿”å›å€¼ï¼Œä¸€èˆ¬åœ¨0-255é—´ï¼‰ï¼Œè¡¨ç¤ºæ‰§è¡Œå¤±è´¥ã€‚ shell æä¾›äº† \u0026amp;\u0026amp; å’Œ || æ¥å®ç°å‘½ä»¤æ‰§è¡Œflowæ§åˆ¶çš„åŠŸèƒ½ï¼Œshell å°†æ ¹æ® \u0026amp;\u0026amp; æˆ– || å‰é¢å‘½ä»¤çš„è¿”å›å€¼æ¥é€‰æ‹©æ‰§è¡Œåç»­å‘½ä»¤ã€‚\n\u0026amp;\u0026amp; command1 \u0026amp;\u0026amp; command2 [\u0026amp;\u0026amp; command3 ...] å‘½ä»¤ä¹‹é—´ä½¿ç”¨\u0026amp;\u0026amp;è¿æ¥ï¼Œå®ç°é€»è¾‘ä¸çš„åŠŸèƒ½ï¼› åªæœ‰åœ¨ \u0026amp;\u0026amp; å·¦è¾¹çš„å‘½ä»¤è¿”å›çœŸï¼ˆå‘½ä»¤è¿”å›å€¼ $? == 0ï¼‰ï¼Œ\u0026amp;\u0026amp; å³è¾¹çš„å‘½ä»¤æ‰ä¼šè¢«æ‰§è¡Œï¼› åªè¦æœ‰ä¸€ä¸ªå‘½ä»¤è¿”å›å‡ï¼ˆå‘½ä»¤è¿”å›å€¼ $? == 1ï¼‰ï¼Œåé¢çš„å‘½ä»¤å°±ä¸ä¼šè¢«æ‰§è¡Œã€‚ å³æ˜¯çŸ­è·¯çš„åŠŸèƒ½ã€‚ || command1 || command2 [|| command3 ...] å‘½ä»¤ä¹‹é—´ä½¿ç”¨ || è¿æ¥ï¼Œå®ç° é€»è¾‘æˆ–çš„åŠŸèƒ½ï¼› åªæœ‰åœ¨||å·¦è¾¹çš„å‘½ä»¤è¿”å›å‡ï¼ˆå‘½ä»¤è¿”å›å€¼ $? == 1ï¼‰ï¼Œ|| å³è¾¹çš„å‘½ä»¤æ‰ä¼šè¢«æ‰§è¡Œã€‚è¿™å’Œ c è¯­è¨€ä¸­çš„é€»è¾‘æˆ–è¯­æ³•åŠŸèƒ½ç›¸åŒï¼Œå³å®ç°defultèµ‹å€¼æ“ä½œï¼› åªè¦æœ‰ä¸€ä¸ªå‘½ä»¤è¿”å›çœŸï¼ˆå‘½ä»¤è¿”å›å€¼ $? == 0ï¼‰ï¼Œåé¢çš„å‘½ä»¤å°±ä¸ä¼šè¢«æ‰§è¡Œã€‚ $ shellè¯­å¥å˜é‡æ— éœ€å£°æ˜ï¼Œéœ€è¦å¼•ç”¨å˜é‡æŒ‡æ—¶ï¼Œ åœ¨å˜é‡åå‰æ·»åŠ $ç¬¦å·å³å¯ï¼ˆæœ‰æ—¶éœ€è¦é…åˆæ‹¬å·æ¶ˆé™¤æ­§ä¹‰ï¼‰:\nvar=hellhttp://sdf.com?uid=233\u0026amp;pwd=ls echo var # var echo $var # hellhttp://sdf.com?uid=233\u0026amp;pwd=ls va=he echo $valloworld # æ— è¾“å‡ºï¼Œå› ä¸ºæ²¡æœ‰valloworldå˜é‡ echo ${va}lloworld # hellworld $() å…ˆæ‰§è¡Œæ‹¬å·é‡Œé¢çš„shellå‘½ä»¤ï¼Œç„¶åæŠŠæ‹¬å·é‡Œé¢shellå‘½ä»¤çš„è¾“å‡ºåšä¸ºæ–°çš„å‘½ä»¤å»æ‰§è¡Œã€‚ ä¹Ÿå¯ä»¥ä½¿ç”¨æ³›å¼•å·``ã€‚\nâ¯ echo ls \u0026gt; abc ~/codebase â¯ $(less abc) # same as `less abc` abc gobookIread jsbook lol playaround ~/codebase â¯ $(cat abc) abc gobookIread jsbook lol playaround ~/codebase â¯ $(ls) # same as `ls` zsh: command not found: abc â¯ echo `date` 2021å¹´11æœˆ17æ—¥ æ˜ŸæœŸä¸‰ 11æ—¶58åˆ†02ç§’ CST ~ â¯ echo $(date) 2021å¹´11æœˆ17æ—¥ æ˜ŸæœŸä¸‰ 11æ—¶58åˆ†10ç§’ CST wget http basic auth\nwget --no-check-certificate --user user --password pass https://server_address/ curl curl -I google.com curl -i google.com # Post json file curl -vX POST http://localhost:9095/post -d @t.json -H \u0026#34;Content-Type: application/json\u0026#34; -H \u0026#39;Authorization: Bearer eyJhbGciOiJIUzI1NiJ9.eyJzdWIiOiIxIiwiaWF0IjoxNTUxNDEyODY2LCJleHAiOjE1NTIwMTc2NjZ9.V6ZT8L_r_arIlxtRHul-FxKt4exErTkvNdYy7O_cR5A\u0026#39; argument default argument #!/usr/local/bin/bash echo \u0026#39;begin\u0026#39; date duration=${1-\u0026#34;3\u0026#34;} # default 3 sleep $duration echo \u0026#39;finish\u0026#39; date #begin #2021å¹´11æœˆ17æ—¥ æ˜ŸæœŸä¸‰ 12æ—¶05åˆ†52ç§’ CST #finish #2021å¹´11æœˆ17æ—¥ æ˜ŸæœŸä¸‰ 12æ—¶05åˆ†55ç§’ CST #~ took 3s loop bash æä¾› forå’Œwhileä¸¤ç§å¾ªç¯æ§åˆ¶\nfor # for in for i in abc.s{1..1000}; do echo $i done # for arguments ./for.sh x y z sdf{1..4} 1 9 #for a; do #\techo $a #done while (read) while read -r h; do echo -n $h done #â¯ bash read-pwds.sh #abcde #abcdexyz #xyz% macos osascript macos osascript notification #!/bin/sh # # must use sh for `at` command #!/usr/bin/osascript #display notification \u0026#34;Lorem ipsum dolor sit amet\u0026#34; with title \u0026#34;Title\u0026#34; # https://apple.stackexchange.com/questions/57412/how-can-i-trigger-a-notification-center-notification-from-an-applescript-or-shel/115373#115373 osascript -e \u0026#39;display notification \u0026#34;åƒæ­¦æ±‰çƒ­å¹²é¢å•¦\u0026#34; with title \u0026#34;ç±³è¥¿ç±³è¥¿\u0026#34; \u0026#39; ","date":"2021-11-17T10:06:54+08:00","image":"https://tab.deoops.com/posts/bash-command/terminal_hue2114e7452ea31417cca47ffc195f951_34424_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/bash-command/","title":"bashç®€ä»‹"},{"content":"å½“æˆ‘ä»¬æœ¬åœ°å¯¹gitçš„submoduleç›®å½•ä¸‹çš„æ–‡ä»¶åšäº†æ”¹åŠ¨æ—¶ï¼Œä¼šå‘ç°ä¸è®ºæ˜¯ç”¨git checkout . è¿˜æ˜¯ git clean -dféƒ½æ— æ³•ä¸¢å¼ƒä¿®æ”¹ã€‚ä½¿ç”¨git statuså‘½ä»¤æŸ¥çœ‹å·¥ä½œæ ‘çš„çŠ¶æ€æ—¶ä¼šæœ‰å¦‚ä¸‹ æŠ¥é”™ä¿¡æ¯git submodule modified content\né”™è¯¯ ä»¥hugoä¸ºä¾‹ï¼Œå½“ä½¿ç”¨hugo serveræœ¬åœ°é¢„è§ˆåšå®¢æ–‡ç« æ—¶ï¼Œ hugoä¼šä¿®æ”¹ä¸»é¢˜ç›®å½•çš„å†…å®¹ã€‚ä»è€Œå‡ºç° git submodule modified contentçš„é—®é¢˜ã€‚\nâ¯ git status ä½äºåˆ†æ”¯ main æ‚¨çš„åˆ†æ”¯é¢†å…ˆ \u0026#39;origin/main\u0026#39; å…± 1 ä¸ªæäº¤ã€‚ ï¼ˆä½¿ç”¨ \u0026#34;git push\u0026#34; æ¥å‘å¸ƒæ‚¨çš„æœ¬åœ°æäº¤ï¼‰ å°šæœªæš‚å­˜ä»¥å¤‡æäº¤çš„å˜æ›´ï¼š ï¼ˆä½¿ç”¨ \u0026#34;git add \u0026lt;æ–‡ä»¶\u0026gt;...\u0026#34; æ›´æ–°è¦æäº¤çš„å†…å®¹ï¼‰ ï¼ˆä½¿ç”¨ \u0026#34;git restore \u0026lt;æ–‡ä»¶\u0026gt;...\u0026#34; ä¸¢å¼ƒå·¥ä½œåŒºçš„æ”¹åŠ¨ï¼‰ ï¼ˆæäº¤æˆ–ä¸¢å¼ƒå­æ¨¡ç»„ä¸­æœªè·Ÿè¸ªæˆ–ä¿®æ”¹çš„å†…å®¹ï¼‰ ä¿®æ”¹ï¼š themes/stack (ä¿®æ”¹çš„å†…å®¹) ä¿®æ”¹å°šæœªåŠ å…¥æäº¤ï¼ˆä½¿ç”¨ \u0026#34;git add\u0026#34; å’Œ/æˆ– \u0026#34;git commit -a\u0026#34;ï¼‰ è¿™ä¸ªé—®é¢˜æŒºå¸¸è§çš„ï¼ŒGoogleåä½¿ç”¨ä¸‹é¢ä¸¤æ¡å‘½ä»¤å³å¯æ¸…ç†submoduleï¼š\nmeat git submodule foreach --recursive git reset --hard git submodule update --recursive --init How do I revert my changes to a git submodule?\nmake å»ºè®®åœ¨æ ¹ç›®å½•ä¸‹ç¼–å†™å†…å®¹å¦‚ä¸‹çš„Makefileï¼Œ ä»¥èŠ‚çœè¾“å…¥å‘½ä»¤çš„æ—¶é—´å’ŒåŠ å¼ºè®°å¿†ã€‚\n.PHONY: clean clean: -@git submodule deinit -f . -@git submodule update --init --recursive #git submodule deinit -f . #git submodule update --init æ‰§è¡Œmakeå‘½ä»¤å³å¯æ¸…é™¤æœ¬åœ°å¯¹git submoduleçš„æ”¹åŠ¨ã€‚\nâ¯ make å·²æ¸…é™¤ç›®å½• \u0026#39;themes/stack\u0026#39; å­æ¨¡ç»„ \u0026#39;themes/stack\u0026#39;ï¼ˆhttps://github.com/datewu/hugo-theme-stack.gitï¼‰æœªå¯¹è·¯å¾„ \u0026#39;themes/stack\u0026#39; æ³¨å†Œ å­æ¨¡ç»„ \u0026#39;themes/stack\u0026#39;ï¼ˆhttps://github.com/datewu/hugo-theme-stack.gitï¼‰å·²å¯¹è·¯å¾„ \u0026#39;themes/stack\u0026#39; æ³¨å†Œ å­æ¨¡ç»„è·¯å¾„ \u0026#39;themes/stack\u0026#39;ï¼šæ£€å‡º \u0026#39;aeb077874a7de9ce71304c990ad5cfdc72664f38\u0026#39; ","date":"2021-11-16T16:13:57+08:00","image":"https://tab.deoops.com/posts/git-submodule/git-submodule_hubf47deaeadbbffe799a99e90ac214cb8_24021_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/git-submodule/","title":"æ¸…ç†git submodule"},{"content":"ä¸Šä¸ªå‘¨æœ«æ±Ÿæ±Ÿå›å®¶çœ‹å°å®å‘äº†å¥½å¤šè„¾æ°”ã€‚\nè¡¨é¢ä¸Šæ˜¯å’Œå¦ˆå¦ˆåµæ¶ï¼Œå®é™…ä¸Šè¿˜æ˜¯æ€ªæˆ‘æ²¡å·¥ä½œã€‚\nâ€œä½ çˆ¸å¦ˆå…¶å®å¾ˆæƒ³ä½ å»ä¸Šç­ï¼Œåº”è¯¥æŠŠä½ èµ¶å‡ºå»ï¼Œå´æƒ³è®©æˆ‘æ¥å½“åäººã€‚è®©æˆ‘æ¥å’Œä½ åµæ¶ã€‚â€\nå·¥ä½œæ‰¾äº†3ä¸ªæœˆäº†ï¼Œç¡®å®å¾ˆå¯¹ä¸ä½å®¶äººä»¬çš„æœŸå¾…ã€‚\nè¿™å‘¨å››å»æ­¦æ±‰å§ï¼Œæ‰“å·¥æˆ–è€…åšç”Ÿæ„ï¼Œä¸åœ¨å®¶é‡Œå‘†ç€äº†ã€‚\n","date":"2021-07-01T10:54:49+08:00","image":"https://tab.deoops.com/posts/jia-you/jiayou_hu774117d347ae584e8f355912c62e10a3_91406_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/jia-you/","title":"åŠ æ²¹"},{"content":"å‡Œæ™¨5ç‚¹ä¸åˆ°ï¼ŒäºŒæ¥¼çš„æˆ¿é—¨è¢«æ‰“å¼€ã€‚\nè€å¦ˆä¸‹æ¥ç¿»ç®±å€’æŸœæ‰¾ä¸œè¥¿ï¼Œæˆ‘ç¡çœ¼æœ¦èƒ§ï¼Œä¸æƒ…ä¸æ„¿çš„é—®äº†ä¸‹åœ¨æ‰¾ä»€ä¹ˆã€‚\nè€å¦ˆè¯´æœ‰æ²¡æœ‰çœ‹åˆ°è£…é’±çš„åŒ…åŒ…ã€‚\nå‡ å¥è¯äº¤æµä¸‹æ¥ï¼ŒåŸæ¥æ˜¯ä»Šå¤©å‡†å¤‡å»ä¹°èœï¼Œå‘ç°4000å¤šå—äººæ°‘å¸è¿é’±å¸¦åŒ…éƒ½ä¸è§äº†ï¼Œæœ€åä¸€æ¬¡æ‹¿é’±æ˜¯åœ¨3æ¥¼ã€‚\nç»“åˆä»¥å¾€çš„ç»éªŒï¼Œæˆ‘è¯´åº”è¯¥æ˜¯åˆè¢«å°å­©å­å·ï¼Œè€å¦ˆæƒ³äº†æƒ³å»3æ¥¼äº†ã€‚\nåå¤šåˆ†é’Ÿåï¼Œæˆ‘å»3æ¥¼å»çœ‹çœ‹æƒ…å†µï¼Œæœç„¶æ˜¯è¢«å®¶é‡Œå…¨æ‰˜çš„4ä¸ªå°å­©å·äº†ã€‚\næ¯å¤©å·100å—ï¼Œä¸»è¦æ˜¯ä¹°çƒ§çƒ¤ï¼Œå¹³å‡æ¯æ¬¡åƒ80å¤šå—é’±çš„çƒ§çƒ¤ã€‚\n4ä¸ªå°å­©ï¼Œå…¨éƒ¨çŸ¥æƒ…ï¼Œæ— ä¸€äººä¸ŠæŠ¥/æ­å‘ã€‚\nå…¶ä¸­ä¸€ä¸ªå°å¥³å­©ï¼Œè¯»2å¹´çº§ï¼Œç»å¸¸è¢«å¦å¤–3ç»™å°ç”·å­©æ¬ºè´Ÿï¼Œå¥¹è™½ç„¶æ²¡æœ‰åˆ†èµƒä½†ä¹Ÿæ˜¯å•¥ä¹Ÿä¸è¯´ã€‚\n3ä¸ªç”·å­©å­ï¼Œä¸¤ä¸ªè¯»2å¹´çº§ï¼Œä¸€ä¸ªè¯»4å¹´çº§ã€‚\n3ä¸ªç”·å­©å­åƒä¸å®Œçš„çƒ§çƒ¤å°±å¸¦ç»™å­¦æ ¡åˆ«çš„å°ä¼™ä¼´åƒï¼ˆä½†æ˜¯ä¸ç»™å¦å¤–å…¨æ‰˜çš„é‚£ä¸ªå¥³å­©å­ï¼‰ã€‚\næˆ‘æŠŠä»–ä»¬ä¸€ä¸ªä¸ªå•ç‹¬æ‹‰å‡ºæ¥é—®è¯ã€‚\nç»“æœæœ‰é—®é¢˜çš„æ˜¯äºŒå¹´çº§çš„aç”·ç”Ÿå’Œå››å¹´çº§çš„Aç”·ç”Ÿã€‚\nAæœ‰å‰ç§‘ï¼Œåœ¨æˆ‘å®¶å·è¿‡å¥½å‡ æ¬¡ï¼Œåªæ˜¯æ•°é¢æ¯”è¾ƒå°ï¼Œæœ€å¤š20ã€‚\nå¦å¤–ï¼Œbç”·ç”Ÿçš„2000å¤šå—é’±çš„å„¿ç«¥æ‰‹è¡¨ä¸è§è¿‡å¥½å‡ æ¬¡ï¼Œæœ‰ä¸€æ¬¡æ˜¯Aå¸®ç€ä»açš„ä¹¦åŒ…é‡Œæœå‡ºæ¥äº†ï¼Œæ‰‹è¡¨ç”¨è¢‹å­åŒ…äº†å¥½å‡ å±‚ã€‚\nå›åˆ°è¿™æ¬¡å·é’±äº‹ä»¶ä¸Šã€‚\naè™½ç„¶æ‰¿è®¤æ¯æ¬¡äº‹è‡ªå·±æ‹¿çš„é’±ï¼Œä½†æ˜¯ä¸€å£å’¬å®šè¯´ï¼šâ€œæ˜¯Aå«ä»–æ‹¿çš„ï¼Œä¸æ‹¿çš„è¯Aå°±æ‰“æ­»ä»–ã€‚\u0026quot;\nAå¾ˆç‹¡çŒ¾ï¼Œå•¥ä¹Ÿä¸æ‰¿è®¤ã€‚\nç»¼åˆæ‰€æœ‰äººçš„å£ä¾›ï¼Œæ€»çš„è¯´æ¥ï¼Œå°±æ˜¯ç½—ç”Ÿé—¨ï¼Œæ‰€æœ‰äººéƒ½è¯´è‡ªå·±æ²¡é—®é¢˜ï¼Œæˆ–è€…æ˜¯è¢«èƒè¿«çš„ã€‚\næˆ‘å¿ƒä¸­æš—æƒ³ï¼Œå»åƒçƒ§çƒ¤çš„æ—¶å€™å’‹æ²¡è¯´æ˜¯è¢«èƒè¿«çš„ï¼ˆå°å¥³å­©é™¤å¤–ï¼Œä»–ä»¬ä¸å¸¦å¥¹å»åƒï¼‰ã€‚\nåªæ˜¯æ²¡æƒ³åˆ°9ï¼Œ10å²å¹´çºªçš„å°å­©å­å·²ç»å¯ä»¥æ¼”ç»ç½—ç”Ÿé—¨äº†ã€‚\näººä¹‹åˆæ€§æœ¬å–„ï¼Œäººåˆ°åº•æ˜¯å•¥æ—¶å€™å¿˜è®°çš„æœ¬å¿ƒå‘¢ï¼Ÿ3å²ï¼Ÿ 5å²ï¼Ÿ\næ•‘æ•‘å­©å­å§\n","date":"2021-06-01T11:09:29+08:00","image":"https://tab.deoops.com/posts/little-child/child_huc415f0c9abc48b509b81646876ab4331_8285_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/little-child/","title":"'å°'å·"},{"content":"æ˜¨å¤©åœ¨æ­¦æ±‰æ‰“äº†ä¸ªçš„å£«ï¼Œ19å…¬é‡Œï¼Œ80å—ï¼Œè·¯å†µåŸºæœ¬ä¸€è·¯é€šç•…ï¼Œ3åˆ°4ä¸ªçº¢ç»¿ç¯ã€‚\nåœ¨2021å¹´ç½‘çº¦è½¦è¿™ä¹ˆå¤šçš„æƒ…å†µï¼Œçš„å£«å¸ˆå‚…è¿˜æ˜¯è¿™ä¹ˆç‹‚çš„ä¹Ÿæ˜¯å°‘è§ã€‚\nç»è¿‡ æœ¬æ¥æ˜¯æ‰“å¼€æ»´æ»´ï¼Œå¼¹å‡ºæ¥é’èœæ‹¼è½¦ï¼Œåªè¦40æ¥å—é’±ä¸¤ä¸ªäººï¼Œä½†æ˜¯ä¸€ç›´æ‹¼ä¸åˆ°ã€‚\nçœ‹äº†ä¸‹æ»´æ»´å¿«è½¦æ˜¯69å—ã€‚\nä½†æ˜¯ç­‰äº†15æ¥åˆ†é’Ÿçš„æ‹¼è½¦ï¼Œè¿˜è¦èµ¶ç€å»å®¢è¿ç«™ï¼Œæ„Ÿè§‰è¢«æ»´æ»´è€äº†ï¼Œæ€’é€€å•ã€‚\nåŒè¡Œçš„ä¼™ä¼´è¯´æ‰“çš„å£«å§ï¼Œåº”è¯¥ä¸è´µã€‚\nè¿™ä¸ªæ­¦æ±‰çš„çš„å£«å¸ˆå‚…ï¼Œè¿˜æ˜¯ä¸ªå¥³å¸ˆå‚…ï¼ŒçœŸçš„æ˜¯å¤ªå¿ƒé»‘äº†ã€‚\næ‰“è¡¨ï¼Œè·‘äº†16æ¥å…¬é‡Œå°±ä¸Š80å¤šå—é’±äº†ã€‚æˆ‘ä»¬æå‡ºæŠ—è®®åï¼Œå¤§æ–¹çš„è¯´â€œè¡Œï¼Œåæ­£å¿«åˆ°äº†äº†ï¼Œé‚£å°±ä¸æ‰“è¡¨äº†ï¼Œç»™80å°±è¡Œâ€ã€‚\næƒ¹ä¸èµ·å¥¹ï¼Œè¾¾åˆ°ç›®çš„åœ° ç»™äº†80å—ã€‚\nåè®° æœ€åæˆ‘ä»¬å‡ åèµ¶åˆ°å®¢è¿ç«™äº†ï¼Œä½†æ˜¯ç›´è¾¾è€å®¶çš„è½¦å»ä¿å…»äº†ï¼Œæˆ‘ä»¬è½¬äº†ä¸¤æ¬¡è½¦å›å®¶äº†ã€‚\nå¦å¤–åœ¨çš„å£«ä¸Šæ¥åˆ°äº†ä¸ªçº¦æˆ‘é¢è¯•çš„ç”µè¯:\u0026gt;\n","date":"2021-05-20T10:37:55+08:00","image":"https://tab.deoops.com/posts/19-80/taxi_hu7ea228d815ac6efb23a84e506d592faf_16498_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/19-80/","title":"19å…¬é‡Œ80å—"},{"content":"ä»Šå¤©å‘ç°vscodevimæ’ä»¶ä¸èƒ½è¿ç»­è¾“å…¥æ–¹å‘é”®jï¼Œ ä»¥ä¸ºæ˜¯æ’ä»¶çš„é—®é¢˜ï¼Œå…³é—­äº†æ’ä»¶ã€‚\nå‘ç°åœ¨vscodeé‡ŒæŒ‰ä½jä¸æ”¾ï¼Œç¼–è¾‘å™¨å¹¶ä¸ä¼šè¿ç»­è¾“å…¥jã€‚\néœ€è¦è°ƒæ•´ç³»ç»Ÿçš„dafaultså…³é—­PressAndHoldé€‰é¡¹ï¼š\nenable key-repeating\nTo enable key-repeating, execute the following in your Terminal, log out and back in, and then restart VS Code:\ndefaults write com.microsoft.VSCode ApplePressAndHoldEnabled -bool false # Enable key-repeating for vs code ","date":"2021-05-09T19:25:25+08:00","image":"https://tab.deoops.com/posts/vscode-hold/vim-jkhl_hu82495191c6c5575719d500aa4784b4a7_107933_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/vscode-hold/","title":"vscodeæŒ‰é”®è°ƒæ•´"},{"content":"4æœˆä»½è…¾è®¯é¢è¯•çš„æ—¶å€™è¢«é—®åˆ°å¦‚ä½•åœ¨ç©ºé—´å¤æ‚åº¦ä¸ºOï¼ˆ1ï¼‰å‰æä¸‹æ£€æŸ¥è¿è¡¨æ˜¯å¦ä¸ºé—­ç¯ï¼š\nå½“æ—¶æ²¡æƒ³å‡ºæ¥ï¼Œé¢è¯•å®˜æé†’ç”¨å¿«æ…¢æŒ‡é’ˆä¹Ÿæ²¡å†™å‡ºæ¥ã€‚\nå›åˆ°å®¶é‡Œæƒ³äº†ä¸‹ï¼Œå…¶å®å½“æ—¶å·²ç»æƒ³å‡ºæ¥äº†ï¼Œæ²¡æ•¢å†™å‡ºæ¥:\nfunc circular(head *ListNode) bool { slow, fast := head, head for fast != nil \u0026amp;\u0026amp; fast.Next != nil { slow = slow.Next fast = fast.Next.Next if slow == fast { return true } } return false } Floydâ€™s slow and fast pointers approach ","date":"2021-04-19T19:56:53+08:00","image":"https://tab.deoops.com/posts/two-points/Image-3_hu1cf7d8b8efc5a2b157c3acd03bb293db_51553_120x120_fill_box_smart1_1.gif","permalink":"https://tab.deoops.com/posts/two-points/","title":"å¿«æ…¢æŒ‡é’ˆ"},{"content":"åŒäº‹é—®æˆ‘ï¼ŒæŠŠä¼ä¸šçš„harboré•œåƒä»“åº“æœåŠ¡æš´éœ²åˆ°å…¬ç½‘ä¹‹åï¼Œæœ‰äººæš´åŠ›ç™»é™†æ€ä¹ˆåŠï¼Ÿ\nharboré»˜è®¤æ˜¯æ²¡æœ‰captchaçš„ï¼Œgoogleäº†å¾ˆä¹…ä¹Ÿæ²¡çœ‹åˆ°ã€‚\nå’‹åŠå‘¢ï¼Ÿ\næ‰€ä»¥è¿˜æ˜¯è‡ªç ”çš„äº§å“å¥½å“¦ï¼Œéšéšä¾¿ä¾¿å°±å¯ä»¥åŠ ä¸ªæ‰‹æœºéªŒè¯ç ã€‚\npsï¼šä»Šå¤©æ˜¯åœ¨æ‹›å•†é‡‘ç§‘çš„æœ€åä¸€å¤©äº†ã€‚\n","date":"2021-03-31T17:24:52+08:00","image":"https://tab.deoops.com/posts/zi-yan/open-source_hu3adf11e8af7981b881d662db7ec05d58_162335_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/zi-yan/","title":"è‡ªç ”"},{"content":"ä»Šå¤©çœ‹åˆ°react 17.0.2 å‘å¸ƒä¸€ä¸ªç¤¼æ‹œäº†(å¿«æœ‰1å¹´æ²¡å¤§çš„æ›´æ–°äº†ï¼‰ï¼Œæƒ³å‡çº§è¯•ä¸€è¯•ï¼Œåœ¨é¡¹ç›®ä¸‹æ‰§è¡Œ npm updateæŒ‡ä»¤ï¼Œç»“æœæŠ¥é”™å¦‚ä¸‹ï¼š\nâœ— npm update npm ERR! code ERESOLVE npm ERR! ERESOLVE unable to resolve dependency tree npm ERR! npm ERR! Found: @babel/core@7.12.3 npm ERR! node_modules/@babel/core npm ERR! @babel/core@\u0026#34;7.12.3\u0026#34; from the root project npm ERR! @babel/core@\u0026#34;^7.9.0\u0026#34; from @svgr/webpack@5.4.0 npm ERR! node_modules/@svgr/webpack npm ERR! @svgr/webpack@\u0026#34;5.4.0\u0026#34; from the root project npm ERR! 9 more (babel-jest, babel-loader, ...) npm ERR! npm ERR! Could not resolve dependency: npm ERR! peer @babel/core@\u0026#34;^7.13.0\u0026#34; from @babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@7.13.12 npm ERR! node_modules/@babel/preset-env/node_modules/@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining npm ERR! @babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@\u0026#34;^7.13.12\u0026#34; from @babel/preset-env@7.13.12 npm ERR! node_modules/@babel/preset-env npm ERR! @babel/preset-env@\u0026#34;^7.9.5\u0026#34; from @svgr/webpack@5.4.0 npm ERR! node_modules/@svgr/webpack npm ERR! @svgr/webpack@\u0026#34;5.4.0\u0026#34; from the root project npm ERR! npm ERR! Fix the upstream dependency conflict, or retry npm ERR! this command with --force, or --legacy-peer-deps npm ERR! to accept an incorrect (and potentially broken) dependency resolution. npm ERR! npm ERR! See /Users/r/.npm/eresolve-report.txt for a full report. npm ERR! A complete log of this run can be found in: npm ERR! /Users/r/.npm/_logs/2021-03-30T08_44_22_160Z-debug.log è¿™ä¸ªé¡¹ç›®è¿è¡Œè¿‡ npm run ejectï¼Œæ‰€ä»¥æ‹…å¿ƒæ˜¯ejecté€ æˆçš„ã€‚\näºæ˜¯åœ¨å¦å¤–ä¸€ä¸ªç›®å½•æ‰§è¡Œnpx create-react-app abcå‘½ä»¤åšæ¥ä¸€ä¸ªå¯¹ç…§ç»„ã€‚\næŠŠabcé¡¹ç›®ejectåå‘ç°npm installä¾ç„¶ä¼šå¤±è´¥ã€‚\ngoogleå‘ç°æœ‰ç±»ä¼¼çš„é­é‡\nHumm, if I see things correctly, the resolving dependency error occurs because create-react-app has the \u0026ldquo;@babel/core\u0026rdquo;: dependency fixed to \u0026ldquo;7.12.3\u0026rdquo; in its \u0026ldquo;packages.json\u0026rdquo; file. 3 days ago, @babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining was merged to Babe master branch that requires \u0026ldquo;@babel/core\u0026rdquo; dependency to be \u0026ldquo;7.13.0\u0026rdquo; or greater. I don\u0026rsquo;t know create-react-app too well, but would perhaps relaxing the \u0026ldquo;@babel/core\u0026rdquo; dependency to \u0026ldquo;^7.12.3\u0026rdquo; be a proper way to fix this issue?\nä¿®æ”¹package.jsonæ–‡ä»¶ï¼Œæ·»åŠ \u0026quot;@babel/core\u0026quot;: \u0026ldquo;7.13.14\u0026rdquo;, ä¾èµ–ï¼Œé‡æ–°npm install æ¢å¤æ­£å¸¸ã€‚\nä¸€ä¸‹æ˜¯å®Œæ•´çš„package.jsonæ–‡ä»¶ï¼Œä¾›å‚è€ƒ:\n{ \u0026#34;name\u0026#34;: \u0026#34;abc\u0026#34;, \u0026#34;version\u0026#34;: \u0026#34;0.1.0\u0026#34;, \u0026#34;private\u0026#34;: true, \u0026#34;proxy\u0026#34;: \u0026#34;http://localhost:8080\u0026#34;, \u0026#34;dependencies\u0026#34;: { \u0026#34;@babel/core\u0026#34;: \u0026#34;7.13.14\u0026#34;, \u0026#34;@material-ui/core\u0026#34;: \u0026#34;^4.11.3\u0026#34;, \u0026#34;@material-ui/icons\u0026#34;: \u0026#34;^4.11.2\u0026#34;, \u0026#34;@pmmmwh/react-refresh-webpack-plugin\u0026#34;: \u0026#34;0.4.3\u0026#34;, \u0026#34;@svgr/webpack\u0026#34;: \u0026#34;5.5.0\u0026#34;, \u0026#34;@testing-library/jest-dom\u0026#34;: \u0026#34;^5.11.10\u0026#34;, \u0026#34;@testing-library/react\u0026#34;: \u0026#34;^11.2.5\u0026#34;, \u0026#34;@testing-library/user-event\u0026#34;: \u0026#34;^12.8.3\u0026#34;, \u0026#34;@tinymce/tinymce-react\u0026#34;: \u0026#34;^3.12.1\u0026#34;, \u0026#34;@typescript-eslint/eslint-plugin\u0026#34;: \u0026#34;^4.5.0\u0026#34;, \u0026#34;@typescript-eslint/parser\u0026#34;: \u0026#34;^4.5.0\u0026#34;, \u0026#34;babel-eslint\u0026#34;: \u0026#34;^10.1.0\u0026#34;, \u0026#34;babel-jest\u0026#34;: \u0026#34;^26.6.0\u0026#34;, \u0026#34;babel-loader\u0026#34;: \u0026#34;8.1.0\u0026#34;, \u0026#34;babel-plugin-named-asset-import\u0026#34;: \u0026#34;^0.3.7\u0026#34;, \u0026#34;babel-preset-react-app\u0026#34;: \u0026#34;^10.0.0\u0026#34;, \u0026#34;bfj\u0026#34;: \u0026#34;^7.0.2\u0026#34;, \u0026#34;camelcase\u0026#34;: \u0026#34;^6.1.0\u0026#34;, \u0026#34;case-sensitive-paths-webpack-plugin\u0026#34;: \u0026#34;2.3.0\u0026#34;, \u0026#34;css-loader\u0026#34;: \u0026#34;4.3.0\u0026#34;, \u0026#34;dotenv\u0026#34;: \u0026#34;8.2.0\u0026#34;, \u0026#34;dotenv-expand\u0026#34;: \u0026#34;5.1.0\u0026#34;, \u0026#34;eslint\u0026#34;: \u0026#34;^7.11.0\u0026#34;, \u0026#34;eslint-config-react-app\u0026#34;: \u0026#34;^6.0.0\u0026#34;, \u0026#34;eslint-plugin-flowtype\u0026#34;: \u0026#34;^5.2.0\u0026#34;, \u0026#34;eslint-plugin-import\u0026#34;: \u0026#34;^2.22.1\u0026#34;, \u0026#34;eslint-plugin-jest\u0026#34;: \u0026#34;^24.1.0\u0026#34;, \u0026#34;eslint-plugin-jsx-a11y\u0026#34;: \u0026#34;^6.3.1\u0026#34;, \u0026#34;eslint-plugin-react\u0026#34;: \u0026#34;^7.21.5\u0026#34;, \u0026#34;eslint-plugin-react-hooks\u0026#34;: \u0026#34;^4.2.0\u0026#34;, \u0026#34;eslint-plugin-testing-library\u0026#34;: \u0026#34;^3.9.2\u0026#34;, \u0026#34;eslint-webpack-plugin\u0026#34;: \u0026#34;^2.5.2\u0026#34;, \u0026#34;file-loader\u0026#34;: \u0026#34;6.1.1\u0026#34;, \u0026#34;fs-extra\u0026#34;: \u0026#34;^9.0.1\u0026#34;, \u0026#34;html-react-parser\u0026#34;: \u0026#34;^1.2.4\u0026#34;, \u0026#34;html-webpack-plugin\u0026#34;: \u0026#34;4.5.0\u0026#34;, \u0026#34;identity-obj-proxy\u0026#34;: \u0026#34;3.0.0\u0026#34;, \u0026#34;jest\u0026#34;: \u0026#34;26.6.0\u0026#34;, \u0026#34;jest-circus\u0026#34;: \u0026#34;26.6.0\u0026#34;, \u0026#34;jest-resolve\u0026#34;: \u0026#34;26.6.0\u0026#34;, \u0026#34;jest-watch-typeahead\u0026#34;: \u0026#34;0.6.1\u0026#34;, \u0026#34;js-base64\u0026#34;: \u0026#34;^3.6.0\u0026#34;, \u0026#34;mini-css-extract-plugin\u0026#34;: \u0026#34;0.11.3\u0026#34;, \u0026#34;optimize-css-assets-webpack-plugin\u0026#34;: \u0026#34;5.0.4\u0026#34;, \u0026#34;pnp-webpack-plugin\u0026#34;: \u0026#34;1.6.4\u0026#34;, \u0026#34;postcss-flexbugs-fixes\u0026#34;: \u0026#34;4.2.1\u0026#34;, \u0026#34;postcss-loader\u0026#34;: \u0026#34;3.0.0\u0026#34;, \u0026#34;postcss-normalize\u0026#34;: \u0026#34;8.0.1\u0026#34;, \u0026#34;postcss-preset-env\u0026#34;: \u0026#34;6.7.0\u0026#34;, \u0026#34;postcss-safe-parser\u0026#34;: \u0026#34;5.0.2\u0026#34;, \u0026#34;prismjs\u0026#34;: \u0026#34;^1.23.0\u0026#34;, \u0026#34;prompts\u0026#34;: \u0026#34;2.4.0\u0026#34;, \u0026#34;react\u0026#34;: \u0026#34;^17.0.2\u0026#34;, \u0026#34;react-app-polyfill\u0026#34;: \u0026#34;^2.0.0\u0026#34;, \u0026#34;react-dev-utils\u0026#34;: \u0026#34;^11.0.3\u0026#34;, \u0026#34;react-dom\u0026#34;: \u0026#34;^17.0.2\u0026#34;, \u0026#34;react-hook-form\u0026#34;: \u0026#34;^6.15.5\u0026#34;, \u0026#34;react-refresh\u0026#34;: \u0026#34;^0.8.3\u0026#34;, \u0026#34;react-router-dom\u0026#34;: \u0026#34;^5.2.0\u0026#34;, \u0026#34;resolve\u0026#34;: \u0026#34;1.18.1\u0026#34;, \u0026#34;resolve-url-loader\u0026#34;: \u0026#34;^3.1.2\u0026#34;, \u0026#34;sass-loader\u0026#34;: \u0026#34;^10.0.5\u0026#34;, \u0026#34;semver\u0026#34;: \u0026#34;7.3.2\u0026#34;, \u0026#34;style-loader\u0026#34;: \u0026#34;1.3.0\u0026#34;, \u0026#34;terser-webpack-plugin\u0026#34;: \u0026#34;4.2.3\u0026#34;, \u0026#34;tinymce\u0026#34;: \u0026#34;^5.7.1\u0026#34;, \u0026#34;ts-pnp\u0026#34;: \u0026#34;1.2.0\u0026#34;, \u0026#34;url-loader\u0026#34;: \u0026#34;4.1.1\u0026#34;, \u0026#34;web-vitals\u0026#34;: \u0026#34;^1.1.1\u0026#34;, \u0026#34;webpack\u0026#34;: \u0026#34;4.44.2\u0026#34;, \u0026#34;webpack-dev-server\u0026#34;: \u0026#34;3.11.1\u0026#34;, \u0026#34;webpack-manifest-plugin\u0026#34;: \u0026#34;2.2.0\u0026#34;, \u0026#34;workbox-webpack-plugin\u0026#34;: \u0026#34;5.1.4\u0026#34; }, \u0026#34;scripts\u0026#34;: { \u0026#34;start\u0026#34;: \u0026#34;node scripts/start.js\u0026#34;, \u0026#34;build\u0026#34;: \u0026#34;node scripts/build.js\u0026#34;, \u0026#34;test\u0026#34;: \u0026#34;node scripts/test.js\u0026#34; }, \u0026#34;eslintConfig\u0026#34;: { \u0026#34;extends\u0026#34;: [ \u0026#34;react-app\u0026#34;, \u0026#34;react-app/jest\u0026#34; ] }, \u0026#34;browserslist\u0026#34;: { \u0026#34;production\u0026#34;: [ \u0026#34;\u0026gt;0.2%\u0026#34;, \u0026#34;not dead\u0026#34;, \u0026#34;not op_mini all\u0026#34; ], \u0026#34;development\u0026#34;: [ \u0026#34;last 1 chrome version\u0026#34;, \u0026#34;last 1 firefox version\u0026#34;, \u0026#34;last 1 safari version\u0026#34; ] }, \u0026#34;jest\u0026#34;: { \u0026#34;roots\u0026#34;: [ \u0026#34;\u0026lt;rootDir\u0026gt;/src\u0026#34; ], \u0026#34;collectCoverageFrom\u0026#34;: [ \u0026#34;src/**/*.{js,jsx,ts,tsx}\u0026#34;, \u0026#34;!src/**/*.d.ts\u0026#34; ], \u0026#34;setupFiles\u0026#34;: [ \u0026#34;react-app-polyfill/jsdom\u0026#34; ], \u0026#34;setupFilesAfterEnv\u0026#34;: [ \u0026#34;\u0026lt;rootDir\u0026gt;/src/setupTests.js\u0026#34; ], \u0026#34;testMatch\u0026#34;: [ \u0026#34;\u0026lt;rootDir\u0026gt;/src/**/__tests__/**/*.{js,jsx,ts,tsx}\u0026#34;, \u0026#34;\u0026lt;rootDir\u0026gt;/src/**/*.{spec,test}.{js,jsx,ts,tsx}\u0026#34; ], \u0026#34;testEnvironment\u0026#34;: \u0026#34;jsdom\u0026#34;, \u0026#34;testRunner\u0026#34;: \u0026#34;/Users/r/repo/github/blog-fn/node_modules/jest-circus/runner.js\u0026#34;, \u0026#34;transform\u0026#34;: { \u0026#34;^.+\\\\.(js|jsx|mjs|cjs|ts|tsx)$\u0026#34;: \u0026#34;\u0026lt;rootDir\u0026gt;/config/jest/babelTransform.js\u0026#34;, \u0026#34;^.+\\\\.css$\u0026#34;: \u0026#34;\u0026lt;rootDir\u0026gt;/config/jest/cssTransform.js\u0026#34;, \u0026#34;^(?!.*\\\\.(js|jsx|mjs|cjs|ts|tsx|css|json)$)\u0026#34;: \u0026#34;\u0026lt;rootDir\u0026gt;/config/jest/fileTransform.js\u0026#34; }, \u0026#34;transformIgnorePatterns\u0026#34;: [ \u0026#34;[/\\\\\\\\]node_modules[/\\\\\\\\].+\\\\.(js|jsx|mjs|cjs|ts|tsx)$\u0026#34;, \u0026#34;^.+\\\\.module\\\\.(css|sass|scss)$\u0026#34; ], \u0026#34;modulePaths\u0026#34;: [], \u0026#34;moduleNameMapper\u0026#34;: { \u0026#34;^react-native$\u0026#34;: \u0026#34;react-native-web\u0026#34;, \u0026#34;^.+\\\\.module\\\\.(css|sass|scss)$\u0026#34;: \u0026#34;identity-obj-proxy\u0026#34; }, \u0026#34;moduleFileExtensions\u0026#34;: [ \u0026#34;web.js\u0026#34;, \u0026#34;js\u0026#34;, \u0026#34;web.ts\u0026#34;, \u0026#34;ts\u0026#34;, \u0026#34;web.tsx\u0026#34;, \u0026#34;tsx\u0026#34;, \u0026#34;json\u0026#34;, \u0026#34;web.jsx\u0026#34;, \u0026#34;jsx\u0026#34;, \u0026#34;node\u0026#34; ], \u0026#34;watchPlugins\u0026#34;: [ \u0026#34;jest-watch-typeahead/filename\u0026#34;, \u0026#34;jest-watch-typeahead/testname\u0026#34; ], \u0026#34;resetMocks\u0026#34;: true }, \u0026#34;babel\u0026#34;: { \u0026#34;presets\u0026#34;: [ \u0026#34;react-app\u0026#34; ] }, \u0026#34;devDependencies\u0026#34;: { \u0026#34;babel-plugin-prismjs\u0026#34;: \u0026#34;^2.0.1\u0026#34; } } ","date":"2021-03-29T17:02:01+08:00","image":"https://tab.deoops.com/posts/react-17.0.2/react-17_hu425bf1317c9ffe0d093e8348c0548d14_154119_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/react-17.0.2/","title":"React 17.0.2"},{"content":"å¿«ä»æ·±åœ³å›è€å®¶äº†ï¼Œä¸œè¥¿ä¸¢çš„å·®ä¸å¤šäº†ï¼Œå‰©ä¸‹çš„ä¸œè¥¿ç›´æ¥é¡ºä¸°å¯„å›å®¶ã€‚\nä¸€å…±å¯„äº†3æ¬¡é¡ºä¸°åŒ…è£¹ã€‚\nå‰ä¸¤æ¬¡çš„é‚£ä¸ªå·¥ä½œäººå‘˜ï¼Œ6å—é’±ä¸€ä¸ªçº¸ç®±ï¼Œè€Œä¸”æŒ‰ç…§ä½“ç§¯ç®—ã€‚\nç¬¬ä¸€æ¬¡ç®—äº†69kgï¼š4ä¸ªåŒ…è£¹ï¼Œ288+21å…ƒï¼Œ\nç¬¬äºŒæ¬¡ç®—äº†51kgï¼š 3ä¸ªåŒ…è£¹åŠ ä¸€ä¸ªå°åŒ…è£¹ 216 + 21å…ƒã€‚\nç¬¬ä¸‰æ¬¡æ¢äº†ä¸ªå·¥ä½œäººå‘˜ç®—äº†38kgï¼šä¸¤ä¸ªçº¸ç®±å’Œæˆ‘è‡ªå·±ç…¤æ°”ç¶çš„çº¸ç®±ä¸ç®— 173 + 21å…ƒã€‚\nç¬¬ä¸€æ¬¡ç®—äº†4ä¸ªçº¸ç®± 4 * 6 = 24 å—ï¼Œç¬¬äºŒæ¬¡ç®—äº†3ä¸ªçº¸ç®± 3 * 6 = 18 å…ƒï¼Œ ç¬¬ä¸‰æ¬¡æ²¡æœ‰æ”¶çº¸ç®±çš„é’±ã€‚\nç®—ä¸‹æ¥ï¼Œå¯„çš„è¶Šé‡è¶Šçœé’±ã€‚\nupdate ä»Šå¤©ï¼ˆ3æœˆ31å·ï¼‰å¯„äº†æœ€åä¸€æ¬¡å¿«é€’ï¼Œ33kgã€‚ä¸¤ä¸ªçº¸ç®±ï¼Œä¸€å¤§ä¸€å°ï¼Œå†åŠ ä¸€ä¸ªå¸ç¯·çš„åŒ…ã€‚ä¸€å…± 148 +12 = 169å…ƒã€‚\nçº¸ç®±æ²¡æœ‰æ”¶è´¹ã€‚\n","date":"2021-03-20T17:11:26+08:00","image":"https://tab.deoops.com/posts/sf-sz/sf_hu3bd39de258c459f3a5f8c55ffd61be08_51014_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/sf-sz/","title":"é¡ºä¸°åŒ…è£¹"},{"content":"è°ƒè¯•æŸä¸ªgo testç¨‹åºçš„æ—¶å€™ï¼Œéœ€è¦å®ç°confirm/approveåŠŸèƒ½:\næµ‹è¯•å®ŒtestCase1ä¹‹åï¼ˆæˆ–è€…è¯´æ˜¯æŸä¸ªæ–­ç‚¹ï¼‰ï¼Œç”¨æˆ·è¾“å…¥yesï¼Œæ‰§è¡Œä¸‹ä¸€ä¸ªcaseï¼Œè¾“å…¥noï¼Œ åˆ™é€€å‡ºæ•´ä¸ªæµ‹è¯•ã€‚\nåˆ†æ ä¸‹æ„è¯†çš„è§‰å¾—è¿™ä¸ªå¾ˆå¥½å®ç°ï¼Œè°ƒç”¨fmt.Scanåº”è¯¥å°±OKäº†ã€‚\nä½†æ˜¯å†™çš„æ—¶å€™æ‰å‘ç°ï¼Œgo test ä¼šå¼ºåˆ¶é‡å®šå‘os.Stdin = /dev/nullå¿½ç•¥æ‰€æœ‰çš„ stdinè¾“å…¥ï¼Œ\næ‰€ä»¥æ²¡æ³•ä½¿ç”¨ fmt.Scanæ¥ç­‰å¾…é”®ç›˜(ç”¨æˆ·)çš„è¾“å…¥ï¼š\n// fmt.Scan reads from os.Stdin, which is set to /dev/null when testing. // Tests should be automated and self-contained anyway, so you don\u0026#39;t want // to read from stdin. // Either use an external file, a bytes.Buffer, or a strings.Reader and // call scan.Fscan if you want to test **the literal** `scan` Function. è§£å†³æ–¹æ¡ˆ å¯ä»¥å‚è€ƒäº‹ä»¶é©±åŠ¨ï¼Œä½¿ç”¨named pipesæ¥å®ç°confirm/approveåŠŸèƒ½ï¼š\næ¶ˆè´¹è€… å…ˆå†™ä¸€ä¸ªæ¶ˆè´¹è€…çš„å‡½æ•°readPipeï¼š\npackage main import ( \u0026#34;bufio\u0026#34; \u0026#34;fmt\u0026#34; \u0026#34;log\u0026#34; \u0026#34;os\u0026#34; ) func main() { for i := 0; i \u0026lt; 6; i++ { readPipe(i) } } func readPipe(i int) { f, err := os.Open(\u0026#34;pipe\u0026#34;) if err != nil { log.Fatalln(err) } defer f.Close() reader := bufio.NewScanner(f) for reader.Scan() { fmt.Println(i, reader.Text()) } } ç„¶ååœ¨æµ‹è¯•çš„caseé‡Œè°ƒç”¨readPipeå‡½æ•°ï¼š\npackage main import ( \u0026#34;fmt\u0026#34; \u0026#34;testing\u0026#34; ) func TestCase1(t *testing.T) { fmt.Println(\u0026#34;testing test case 1\u0026#34;) fmt.Println(\u0026#34;test case 1 tested\u0026#34;) readPipe(1) } func TestCase2(t *testing.T) { fmt.Println(\u0026#34;testing test case 2\u0026#34;) fmt.Println(\u0026#34;test case 2 tested\u0026#34;) readPipe(2) } func TestCase3(t *testing.T) { fmt.Println(\u0026#34;testing test case 3\u0026#34;) fmt.Println(\u0026#34;test case 3 tested\u0026#34;) readPipe(3) } ç”Ÿæˆè€… åˆ›å»ºpipeï¼Œç„¶åå¾€pipeé‡Œå†™æ•°æ®ï¼Œå°±å¯ä»¥è§¦å‘(unblock)æ¶ˆè´¹è€…è¿›ç¨‹ã€‚\nâœ ~ mkfifo pipe âœ ~ ls -alh pipe prw-r--r-- 1 r staff 0B 4 24 16:32 pipe å†™å…¥æ•°æ®ï¼š\nâœ ~ date \u0026gt; pipe âœ ~ date \u0026gt; pipe âœ ~ date \u0026gt; pipe æµ‹è¯• è°ƒè¯•çš„ç»“æœå¦‚ä¸‹ï¼š\nâœ ~ go test testing test case 1 test case 1 tested 1 2020å¹´ 4æœˆ24æ—¥ æ˜ŸæœŸäº” 16æ—¶31åˆ†50ç§’ CST testing test case 2 test case 2 tested 2 2020å¹´ 4æœˆ24æ—¥ æ˜ŸæœŸäº” 16æ—¶31åˆ†59ç§’ CST testing test case 3 test case 3 tested 3 2020å¹´ 4æœˆ24æ—¥ æ˜ŸæœŸäº” 16æ—¶32åˆ†08ç§’ CST PASS ok abc 36.016s ","date":"2020-10-14T18:38:01+08:00","image":"https://tab.deoops.com/posts/go-test/ta_moderationworkflow_huf37469d72d7cd32aea4957f9e4060393_25339_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/go-test/","title":"è°ƒè¯•golangæµ‹è¯•"},{"content":"å›½å†…ç½‘ç»œç¯å¢ƒæ—¥ç›Šæ¶åŠ£ï¼Œæ‰§è¡Œbrew update/upgradeèŠ±è´¹çš„æ—¶é—´å¤Ÿæˆ‘æ³¡å¥½ä¸€å£¶æ™®æ´±èŒ¶ã€‚\nä¸è¿‡å¥½æ™¯ä¸é•¿ï¼Œè°èƒ½æƒ³åˆ°é‚£ä¹ˆå¤§çš„æ™®æ´±èŒ¶é¥¼ï¼Œæ—¥ç§¯æœˆç´¯ä¸€ç‚¹ç‚¹çš„è¢«æˆ‘å–å®Œäº†ã€‚\nå“ï¼Œæ€€æ‹æ™®æ´±èŒ¶å‘€ã€‚ æ²¡äº†æ™®æ´±èŒ¶ï¼Œæˆ‘å†³å®šæ¢äº†brewçš„å®˜æ–¹æºï¼Œç»™è‡ªå·±èŠ‚çº¦èŠ‚çº¦ç”Ÿå‘½ã€‚\nè§£å†³æ–¹æ¡ˆ æŒ‘æŒ‘æ‹£æ‹£ä¸€åœˆä¹‹åï¼Œæˆ‘å†³å®šä½¿ç”¨æ¸…åå¤§å­¦å¼€æºè½¯ä»¶é•œåƒç«™]çš„brewæºã€‚\næŒ‰ç…§å®˜ç½‘çš„æŒ‡å¼•å¾ˆå¿«å°±æ¢å¥½äº†repoï¼Œæ•ˆæœå¾ˆå¥½ã€‚\nå’Œè®¾ç½®macos DNS serversä¸€æ ·æˆ‘ä¹Ÿæ•´ç†äº†ä¸ªshellè„šæœ¬ï¼š\n#!/usr/local/bin/bash set_qh() { git -C \u0026#34;$(brew --repo)\u0026#34; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/brew.git git -C \u0026#34;$(brew --repo homebrew/core)\u0026#34; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-core.git git -C \u0026#34;$(brew --repo homebrew/cask)\u0026#34; remote set-url origin https://mirrors.tuna.tsinghua.edu.cn/git/homebrew/homebrew-cask.git brew update } # revocer recover() { git -C \u0026#34;$(brew --repo)\u0026#34; remote set-url origin https://github.com/Homebrew/brew.git git -C \u0026#34;$(brew --repo homebrew/core)\u0026#34; remote set-url origin https://github.com/Homebrew/homebrew-core.git git -C \u0026#34;$(brew --repo homebrew/cask)\u0026#34; remote set-url origin https://github.com/Homebrew/homebrew-cask.git brew update } a=${1-\u0026#34;check\u0026#34;} # default to check if [ $a = \u0026#34;r\u0026#34; ]; then recover fi if [ $a = \u0026#34;set\u0026#34; ]; then set_qh fi if [ $a = \u0026#34;check\u0026#34; ]; then echo \u0026#34;goping to EXPORT HOMEBREW_BOTTLE_DOMAIN\u0026#34; export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.tuna.tsinghua.edu.cn/homebrew-bottles echo $HOMEBREW_BOTTLE_DOMAIN brew config | grep ORIGIN brew update brew upgrade brew cleanup fi echo \u0026#34;\u0026#34; echo $a successed! ä¸Šé¢çš„bashè„šæœ¬æ”¯æŒ3ä¸ªå‚æ•° check,setå’Œ recoverï¼Œé»˜è®¤ä½¿ç”¨ checkå‚æ•°ã€‚\nä¿å­˜ä¸ºset-brew-repo.shæ–‡ä»¶ï¼Œå†åŠ ä¸Šå¯æ‰§è¡Œæƒé™å³å¯ï¼š\nâœ ~ chmod +x set-brew-repo.sh âœ ~ ./set-brew-repo.sh ","date":"2020-08-14T11:33:00+08:00","image":"https://tab.deoops.com/posts/brew-repo/homebrew-social-card_hud11338d999649aa10468d459dd1e6032_48303_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/brew-repo/","title":"æ›´æ¢brewæº"},{"content":"ä¼—æ‰€å‘¨çŸ¥ï¼Œä¿®æ”¹/etc/resolv.confé…ç½®æ–‡ä»¶å¯ä»¥é…ç½®Linuxçš„dns è§£ææœåŠ¡å™¨ã€‚\n[root@VM-8-3-centos ~]# cat /etc/resolv.conf # Generated by NetworkManager nameserver 183.60.83.19 nameserver 183.60.82.98 é‚£ä¹ˆè‹¹æœç³»ç»Ÿçš„dns è§£ææœåŠ¡å™¨åº”è¯¥åœ¨å“ªé‡Œé…ç½®å‘¢ï¼Œä¹Ÿæ˜¯é…ç½®/etc/resolv.confæ–‡ä»¶å—ï¼Ÿ\nâœ ~ cat /etc/resolv.conf # macOS Notice # # This file is not consulted for DNS hostname resolution, address # resolution, or the DNS query routing mechanism used by most # processes on this system. # # To view the DNS configuration used by this system, use: # scutil --dns # # SEE ALSO # dns-sd(1), scutil(8) # # This file is automatically generated. # nameserver 127.0.0.1 nameserver 192.168.1.1 æ•…äº‹ å› ä¸ºæ–°å† çš„çˆ†å‘ï¼Œå…¬å¸ä¸‹æ”¾äº†VPNæƒé™ï¼Œå¯ä»¥åœ¨å®¶æ¥å…¬å¸åŠå…¬ç½‘ç»œåŠå…¬ã€‚\nè¿™æ®µæ—¶é—´æˆ‘åœ¨å®¶äº«å—ä¸æ»‘é¡ºç•…çš„åŠå…¬å†…ç½‘ç½‘ç»œï¼ŒåŸºæœ¬æ²¡é‡åˆ°å•¥é—®é¢˜ï¼Œæ¯å¤©éƒ½ç¾æ»‹æ»‹çš„ã€‚\næ˜¨å¤©æ‰‹æœºè¿è¥å•†è”é€šçªç„¶æ‰“ç”µè¯ç»™æˆ‘è¯´ï¼Œæˆ‘çš„æ‰‹æœºæ˜¯5Gæ‰‹æœºï¼Œè®¾ç½®ä¸€ä¸‹ç½‘ç»œæ¨¡å¼å¯ä»¥åœ¨åŸæœ‰4Gçš„å¥—é¤ä¸Šä½¿ç”¨5Gç½‘ç»œå•¦ï¼Œè¯šé‚€æˆ‘ä½“éªŒã€‚\né‚£ä¹ˆè”é€šæ˜¯æ€ä¹ˆçŸ¥é“æˆ‘ä½¿ç”¨çš„æ˜¯5Gæ‰‹æœºçš„å‘¢ï¼Ÿï¼Ÿï¼Ÿè¿™ä¸ªå…ˆæŒ‰ä¸‹ä¸è¡¨ã€‚\næˆ‘ç¨ç¨ä½“éªŒäº†ä¸€ä¼šï¼Œ5Gç½‘ç»œçš„é€Ÿåº¦å’Œæ—¶å»¶æœç„¶å’Œå®£ä¼ ä¸­çš„ä¸€æ ·ç‰›é€¼ã€‚\næˆ‘ä¸ç”±çš„æ„Ÿå¹ï¼šåä¸ºæœç„¶ğŸ‚ğŸºã€‚\nè¿™ä¹ˆå¥½çš„ç½‘ç»œè´¨é‡ï¼Œä¸åº”è¯¥è®©ç¬”è®°æœ¬ä¹Ÿäº«å—äº«å—å—ï¼Ÿ\nè¯ä¸å¤šè¯´æˆ‘ç«‹é©¬æŠŠè‹¹æœç”µè„‘è¿æ¥ä¸Šäº†æ‰‹æœºçƒ­ç‚¹ï¼Œç”¨äº†ä¸å¤šä¹…å°±å‘ç°é‡åˆ°äº†DNSçš„é—®é¢˜ã€‚\né—®é¢˜ è‹¹æœç¬”è®°æœ¬è¿æ¥æ‰‹æœºçƒ­ç‚¹çš„Wi-Fiåï¼Œæ‰‹æœºçƒ­ç‚¹ ä¸ä¼šä½¿ç”¨ VPNæŒ‡å®šçš„DNS serverå»è§£æ åŠå…¬ç½‘ç»œçš„å†…ç½‘åœ°å€ï¼Œå¯¼è‡´æ— å¦¨è®¿é—®å†…ç½‘åŸŸåã€‚\nè§£å†³æ–¹æ¡ˆ è§£å†³çš„åŠæ³•ä¹Ÿå¾ˆç®€å•ï¼šæ‰“å¼€ è®¾ç½®-\u0026gt; ç½‘ç»œ -\u0026gt; WI-Fi -\u0026gt; é«˜çº§ -\u0026gt; DNS -\u0026gt; ä¿®æ”¹DNS æœåŠ¡å™¨ å³å¯ã€‚\né¼“æ£ä¸€ä¼šå‘ç°ï¼Œæ¯æ¬¡æ“ä½œdns serveréƒ½éœ€è¦ç”¨é¼ æ ‡ç‚¹å‡»UIï¼Œå†ç‚¹å‡»6æ¬¡å­èœå•ï¼Œå¤åˆ¶ä¸¤æ¬¡DNS server çš„IP åœ°å€ï¼Œæ‰èƒ½å®Œæˆè®¾ç½®ï¼Œè¿™ç§æ“ä½œå¾ˆä¸ç¨‹åºå‘˜ã€‚\näºæ˜¯æœç´¢äº†macosè®¾ç½®dns serversçš„å‘½ä»¤ï¼ŒæŠŠä¸Šé¢çš„UIæ“ä½œè„šæœ¬åŒ–äº†ã€‚æ•´ç†äº†ä¸€ä»½bashè„šæœ¬å¦‚ä¸‹ï¼š\n#!/usr/local/bin/bash a=${1:-check} echo ${a}ing ... #dns=\u0026#34;100.67.174.10 100.67.174.11\u0026#34; dns=\u0026#34;100.67.174.10 100.67.174.11\u0026#34; if [ $a = \u0026#34;check\u0026#34; ] then networksetup -getinfo wi-fi echo \u0026#34;\u0026#34; networksetup -getdnsservers wi-fi fi if [ $a = \u0026#34;set\u0026#34; ] then networksetup -setdnsservers wi-fi $dns echo \u0026#34;\u0026#34; networksetup -getdnsservers wi-fi fi if [ $a = \u0026#34;clear\u0026#34; ] then networksetup -setdnsservers wi-fi Empty echo \u0026#34;\u0026#34; networksetup -getdnsservers wi-fi fi echo \u0026#34;\u0026#34; echo $a successed! è„šæœ¬æ”¯æŒ3ä¸ªå‚æ•° check,setå’Œ clearï¼Œé»˜è®¤ä½¿ç”¨ checkå‚æ•°ã€‚\nä¿å­˜ä¸ºset-dns.shæ–‡ä»¶ï¼Œå†åŠ ä¸Šå¯æ‰§è¡Œæƒé™å³å¯ï¼š\nâœ ~ chmod +x set-dns.sh âœ ~ ./set-dns.sh ","date":"2020-06-10T22:20:03+08:00","image":"https://tab.deoops.com/posts/macos-dns/dns-resolver_hue9933fca20fb9e9b208b55df1c447433_56249_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/macos-dns/","title":"è®¾ç½®dns"},{"content":"ä½¿ç”¨äº†ä¸€æ®µæ—¶é—´Expectè‡ªåŠ¨åŒ–å·¥å…·ç®€ä»‹é‡Œé¢çš„expectè„šæœ¬ï¼Œå‘ç°å°‘äº†ä¸€äº›åŠŸèƒ½ï¼š\næ€ä¹ˆç»™expectè„šæœ¬ä¼ å‚æ•°å‘¢ï¼Ÿ expectæ€ä¹ˆè°ƒç”¨ bash/shå¤–éƒ¨å‘½ä»¤å‘¢ï¼Ÿ expectæ€ä¹ˆæ“ä½œå­—ç¬¦ä¸²å‘¢ï¼Ÿ tcl å‰é¢çš„æ–‡ç« Expectå‘½ä»¤é‡Œé¢æåˆ°è¿‡ï¼Œexpect ä½¿ç”¨çš„æ˜¯Tcl/tkçš„è¯­æ³•ã€‚\næ‰€ä»¥ å¤§å®¶Google ä¸€ä¸‹ tcl tutorialå°±å¯ä»¥è§£å†³ä¸Šé¢ä¸‰ä¸ªé—®é¢˜äº†ã€‚\ntcl argc argc\nTcl tutorial\nTcl regexp\nnew expect script ç»“åˆä¸Šé¢çš„3ç¯‡æ•™ç¨‹æˆ‘æŠŠä¸Šç¯‡æ–‡ç« è‡ªåŠ¨åŒ–ssh ç™»é™†çš„è„šæœ¬ä¼˜åŒ–å¦‚ä¸‹:\n#!/usr/bin/expect -f # for anyone not familar with expect # should read this awesome article # https://www.pantz.org/software/expect/expect_examples_and_tips.html if { $argc != 1} { puts \u0026#34;must set one argument for server_A host ip\u0026#34; puts \u0026#34;./login.tcl 1.1.2.2\u0026#34; exit 1 } set timeout 15 #set info [gets stdin] set info [exec privateRESTfullAPI2GetPwd -host $argv] set result [regexp {\\\u0026#34;([^\\\u0026#34;]*)\\\u0026#34;[^\\\u0026#34;]*\\\u0026#34;([^\\\u0026#34;]*)\\\u0026#34;[^\\\u0026#34;]*\\\u0026#34;([^\\\u0026#34;]*)\\\u0026#34;} $info match host pw1 pw2] send_user \u0026#34;going to connected to server_A\\n\u0026#34; spawn ssh -q -o StrictHostKeyChecking=no nobody@host expect { timeout { send_user \u0026#34;\\ntimeout Failed to get password prompt, is VPN on?\\n\u0026#34;; exit 1 } eof { send_user \u0026#34;\\nSSH failure for server_A\\n\u0026#34;; exit 1 } \u0026#34;*assword:\u0026#34; } send \u0026#34;$pwd1\\r\u0026#34; expect { timeout {send_user \u0026#34;\\nSSH failure for server_B\\n\u0026#34;; exit 1 } \u0026#34;Last login:*\u0026#34; } send \u0026#34;su -\\r\u0026#34; expect { eof { send_user \u0026#34;\\nSSH failure check your password \\n\u0026#34;; exit 1 } \u0026#34;å¯†ç \u0026#34; } send \u0026#34;$pw2\\r\u0026#34; interact ç®€å•è§£é‡Šä¸Šé¢çš„è„šæœ¬ï¼š\n$argc å‘½ä»¤è¡Œå‚æ•°çš„ä¸ªæ•°ï¼› $argv å‘½ä»¤è¡Œå‚æ•°ï¼ˆä¸å«å‘½ä»¤æœ¬èº«ï¼‰; puts ç›¸å½“äº bash çš„ echoå‘½ä»¤ ; exec ç›¸å½“äº bashçš„ $(); privateRESTfullAPI2GetPwd -host $argv æ˜¯æˆ‘æœ¬åœ°çš„ä¸€ä¸ªç”¨æ¥æŸ¥è¯¢ä¸»æœºå¯†ç çš„å·¥å…·ï¼Œè¿”å›å€¼çš„æ ¼å¼ä¸ºï¼šPassworod of \u0026quot;1.1.1.1\u0026quot; are \u0026quot;pwd for noby\u0026quot; and \u0026quot;pwd for root\u0026quot; æ­£åˆ™è¡¨è¾¾å¼ {\\\u0026quot;([^\\\u0026quot;]*)\\\u0026quot;[^\\\u0026quot;]*\\\u0026quot;([^\\\u0026quot;]*)\\\u0026quot;[^\\\u0026quot;]*\\\u0026quot;([^\\\u0026quot;]*)\\\u0026quot;}ç”¨æ¥æå–ä¸Šé¢privateAPI2GetPwdè¿”å›å€¼ä¸­3ä¸ª åŒå¼•å·ä¸­çš„å†…å®¹ï¼Œ å³ï¼š host, pwd1, pwd2 å‘½ä»¤set result [regexp {...ç¬¬äº”æ¡..} $info match host pw1 pw2]æŠŠä¸Šé¢æ­£åˆ™è¡¨è¾¾å¼çš„çš„3ä¸ª group åˆ†åˆ«èµ‹å€¼ç»™ host, pw1, pw2ä¸‰ä¸ªå˜é‡ã€‚ ä¸¢å¼ƒäº†result å’Œ match ä¸¤ä¸ªå˜é‡ã€‚ ","date":"2020-05-19T16:41:43+08:00","image":"https://tab.deoops.com/posts/tcl-101/tcl-tk_huac390069c03572eabeb0f3110525b1ed_71932_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/tcl-101/","title":"tclå…¥é—¨"},{"content":"ä¼—æ‰€å‘¨çŸ¥kubenetestçš„ç«¯å£è½¬å‘åŠŸèƒ½kubectl port-forwardéå¸¸å®ç”¨ï¼Œå¯ä»¥æé«˜å¼€å‘äººå‘˜çš„debugæ•ˆç‡ã€‚\nå…¶å®kubectl port-forwardçš„åº•å±‚è„æ´»ç´¯æ´»éƒ½æ˜¯socatå‘½ä»¤åœ¨åšï¼Œkubectlåªèƒ½ç®—æ˜¯ä¸€ä¸ªä»£ç†å•†ã€‚\nsocat ç«¯å£è½¬å‘ socat tcp-listen:58812,reuseaddr,fork tcp:localhost:8000æŠŠ58812ç«¯å£çš„æµé‡è½¬å‘åˆ° 8000ä¸Šã€‚\nbash-5.1# python3 -m http.server \u0026amp; bash-5.1# socat tcp-listen:58812,reuseaddr,fork tcp:localhost:8000 \u0026amp; bash-5.1# curl -I localhost:58812 HTTP/1.0 200 OK Server: SimpleHTTP/0.6 Python/3.10.3 Date: Thu, 14 Apr 2022 03:19:15 GMT Content-type: text/html; charset=utf-8 Content-Length: 336 ä»è€Œä½¿å¾—åŸæ¥æ— æ³•è®¿é—®çš„ localhost:8000ç«¯å£çš„æœåŠ¡ï¼Œç°åœ¨å¯ä»¥é€šè¿‡*:58812è®¿é—®åˆ°äº†ã€‚\nbash-5.1# netstat -nlp Active Internet connections (only servers) Proto Recv-Q Send-Q Local Address Foreign Address State PID/Program name tcp 0 0 0.0.0.0:58812 0.0.0.0:* LISTEN 10/socat tcp 0 0 0.0.0.0:8000 0.0.0.0:* LISTEN 31/python3 Active UNIX domain sockets (only servers) Proto RefCnt Flags Type State I-Node PID/Program name Path å…¶ä»– âœ ~ tldr socat socat Multipurpose relay (SOcket CAT). - Listen to a port, wait for an incoming connection and transfer data to STDIO: socat - TCP-LISTEN:8080,fork - Create a connection to a host and port, transfer data in STDIO to connected host: socat - TCP4:www.example.com:80 - Forward incoming data of a local port to another host and port: socat TCP-LISTEN:80,fork TCP4:www.example.com:80 è¯­æ³• man æ‰‹å†Œ\nSocat is a command line based utility that establishes two bidirectional byte streams and transfers data between them. Because the streams can be constructed from a large set of different types of data sinks and sources (see address types), and because lots of address options may be applied to the streams, socat can be used for many different purposes.\nFilan is a utility that prints information about its active file descriptors to stdout. It has been written for debugging socat, but might be useful for other purposes too. Use the -h option to find more infos.\nProcan is a utility that prints information about process parameters to stdout. It has been written to better understand some UNIX process properties and for debugging socat, but might be useful for other purposes too.\nThe life cycle of a socat instance typically consists of four phases.\nIn the init phase, the command line options are parsed and logging is initialized.\nDuring the open phase, socat opens the first address and afterwards the second address. These steps are usually blocking; thus, especially for complex address types like socks, connection requests or authentication dialogs must be completed before the next step is started.\nIn the transfer phase, socat watches both streamscq read and write file descriptors via CWselect() , and, when data is available on one side and can be written to the other side, socat reads it, performs newline character conversions if required, and writes the data to the write file descriptor of the other stream, then continues waiting for more data in both directions.\nWhen one of the streams effectively reaches EOF, the closing phase begins. Socat transfers the EOF condition to the other stream, i.e. tries to shutdown only its write stream, giving it a chance to terminate gracefully. For a defined time socat continues to transfer data in the other direction, but then closes all remaining channels and terminates.\n","date":"2020-04-14T09:50:07+08:00","image":"https://tab.deoops.com/posts/socat-usage/socat_hu03f89a710279d4dc3ef9b7f10baa691c_127416_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/socat-usage/","title":"socatå·¥å…·"},{"content":"æœ¬æ–‡ä¸å®šæœŸæ›´æ–° :)\nä¸Šä¸ªç¤¼æ‹œé€›Hacker Newsçœ‹åˆ°æ¨èäº†ä¸€ä»½å†™äº1991å¹´ä»‹ç»TCP/IPåè®®çš„æ–‡ç« A TCP/IP Tutorialã€‚\nåˆç•¥çš„æ‰«äº†å‡ çœ¼ï¼Œå‘ç°ä¸é”™ï¼ŒåŠ å…¥äº†æ”¶è—å¤¹ã€‚\næ˜¨å¤©æ™šä¸ŠæŠ½å‡ºæ—¶é—´æ¥ç»†è¯»äº†ä¸€éè§‰å¾—å¾ˆæœ‰ç¿»è¯‘çš„ä»·å€¼ï¼Œäºæ˜¯è¯•ç€ç¿»è¯‘ä¸€ä¸‹ï¼š\nIntroduction This tutorial contains only one view of the salient points of TCP/IP, and therefore it is the \u0026ldquo;bare bones\u0026rdquo; of TCP/IP technology. It omits the history of development and funding, the business case for its use, and its future as compared to ISO OSI. Indeed, a great deal of technical information is also omitted. What remains is a minimum of information that must be understood by the professional working in a TCP/IP environment. These professionals include the systems administrator, the systems programmer, and the network manager.\nThis tutorial uses examples from the UNIX TCP/IP environment, however the main points apply across all implementations of TCP/IP.\nNote that the purpose of this memo is explanation, not definition. If any question arises about the correct specification of a protocol, please refer to the actual standards defining RFC.\nThe next section is an overview of TCP/IP, followed by detailed descriptions of individual components.\nåºè¨€ è¿™ç¯‡æ•™ç¨‹åªæ˜¯å¯¹ TCP/IP åè®®ä¸­ä¸€äº›æœ€é‡è¦çš„è¦ç‚¹åšæè¿°æ€§çš„ä»‹ç»ï¼Œå› æ­¤å¯ä»¥æŠŠè¿™ç¯‡æ•™ç¨‹çœ‹ä½œæ˜¯TCP/IP æŠ€æœ¯çš„éª¨æ¶ã€‚ è¿™ç¯‡æ•™ç¨‹ä¸æ¶‰åŠ TCP/IP çš„å‘å±•å†å²ï¼Œèµ„é‡‘/èµ„åŠ©æ¥æºï¼Œå•†ä¸šç”¨é€”ä»¥åŠå’ŒISO OSIçš„å¯¹æ¯”æ¥çœ‹TCP/IPçš„æœªæ¥ä¼šæ€æ ·ã€‚è€Œä¸”å¾ˆå¤šè¯¦ç»†çš„æŠ€æœ¯ç»†èŠ‚ä¹Ÿä¸ä¼šåœ¨æœ¬æ–‡ä¸­å¾—åˆ°ä»‹ç»ã€‚ è¿™ç¯‡æ•™ç¨‹æ‰€æ¶‰åŠçš„å†…å®¹ï¼Œæ°æ°æ˜¯ä¸€ä¸ªæ—¥å¸¸å·¥ä½œåœ¨TCP/IP ç¯å¢ƒçš„ä¸“ä¸šäººå£«å¿…é¡»ç†è§£çš„æœ€å°‘TCP/IPæŠ€æœ¯ä¿¡æ¯é‡ï¼Œä¸èƒ½å†å°‘äº†ã€‚è¿™äº›ä¸“ä¸šäººå£«åŒ…æ‹¬äº†ç³»ç»Ÿç®¡ç†å‘˜ï¼Œç³»ç»Ÿç¨‹åºå‘˜ï¼Œå’Œç½‘ç»œç®¡ç†å‘˜ã€‚ è¿™ç¯‡æ•™ç¨‹ä½¿ç”¨çš„ä¾‹å­éƒ½æ˜¯åœ¨ UNIX TCP/IP ç¯å¢ƒï¼Œä½†æ˜¯è¿™äº›ä¾‹å­æ‰€è¡¨è¾¾çš„ä¸»è¦æ„æ€å¯¹æ‰€æœ‰å®ç°äº†TCP/IPåè®®çš„ç¯å¢ƒæ¥è¯´éƒ½æ˜¯åŒæ ·è¯•ç”¨çš„ã€‚\næ³¨æ„âš ï¸ è¿™ç¯‡æ•™ç¨‹çš„ç›®çš„æ˜¯è§£é‡Š/ä»‹ç» TCP/IPæŠ€æœ¯ï¼Œå¹¶ä¸æ˜¯ç»™TCP/IP æŠ€æœ¯ä¸‹å®šä¹‰ã€‚\nå¦‚æœè¯»è€…å¯¹è¿™ç¯‡æ•™ç¨‹æè¿°çš„æŸä¸ªåè®®çš„è§„æ ¼/è§„èŒƒäº§ç”Ÿäº†ç–‘é—®ï¼Œè¯·å‚è€ƒè¿™ä¸ªåè®®çš„RFCå…·ä½“çš„è§„èŒƒå®šä¹‰ã€‚ ä¸‹ä¸ªå°èŠ‚æ˜¯å¯¹ TCP/IPæŠ€æœ¯çš„æ¦‚è§ˆï¼Œç„¶åæ˜¯å•ç‹¬çš„å¯¹æ¯ä¸ªTCP/IPç»„ä»¶è¯¦ç»†çš„æè¿°ã€‚\nTCP/IP Overview The generic term \u0026ldquo;TCP/IP\u0026rdquo; usually means anything and everything related to the specific protocols of TCP and IP. It can include other protocols, applications, and even the network medium. A sample of these protocols are: UDP, ARP, and ICMP. A sample of these applications are: TELNET, FTP, and rcp. A more accurate term is \u0026ldquo;internet technology\u0026rdquo;. A network that uses internet technology is called an \u0026ldquo;internet\u0026rdquo;.\nTCP/IP æ¦‚è§ˆ æœ¯è¯­â€œTCP/IPâ€ä¸€èˆ¬æ„ä¹‰ä¸Šæ¥è¯´ï¼Œé€šå¸¸æ˜¯æŒ‡ ä»»ä½•ä»¥åŠæ‰€æœ‰å’Œ â€˜TCP åè®®â€™ï¼Œä¸ â€˜IP åè®®â€™æœ‰å…³çš„æŠ€æœ¯ã€‚ â€œTCP/IPâ€æœ¯è¯­å¯ä»¥æŒ‡ å…¶å®ƒçš„ç½‘ç»œåè®®ï¼Œç½‘ç»œåº”ç”¨ï¼Œç”šè‡³æ˜¯ç‰©ç†ç½‘ç»œåª’ä»‹ã€‚è¿™äº›ç½‘ç»œåè®®å¯ä»¥æ˜¯ï¼šUDP, ARP, å’Œ ICMPï¼› ç½‘ç»œåº”ç”¨å¯ä»¥æ˜¯ï¼šTELNETï¼ŒFTPï¼Œå’Œ RCPã€‚\nâ€œTCP/IPâ€æ›´å‡†ç¡®çš„æœ¯è¯­åº”è¯¥æ˜¯â€œäº’è”ç½‘æŠ€æœ¯â€ã€‚å½“ä¸€ä¸ªç½‘ç»œä½¿ç”¨äº†äº’è”ç½‘æŠ€æœ¯ï¼Œæˆ‘ä»¬å°±å¯ä»¥æŠŠè¿™ä¸ªç½‘ç»œå«â€œäº’è”ç½‘â€ã€‚\nBasic Structure To understand this technology you must first understand the following logical structure:\n---------------------------- | network applications | | | |... \\ | / .. \\ | / ...| | ----- ----- | | |TCP| |UDP| | | ----- ----- | | \\ / | | -------- | | | IP | | | ----- -*------ | | |ARP| | | | ----- | | | \\ | | | ------ | | |ENET| | | ---@-- | ----------|----------------- | ----------------------o--------- Ethernet Cable Figure 1. Basic TCP/IP Network Node This is the logical structure of the layered protocols inside a computer on an internet. Each computer that can communicate using internet technology has such a logical structure. It is this logical structure that determines the behavior of the computer on the internet. The boxes represent processing of the data as it passes through the computer, and the lines connecting boxes show the path of data. The horizontal line at the bottom represents the Ethernet cable; the \u0026ldquo;o\u0026rdquo; is the transceiver. The \u0026ldquo;*\u0026rdquo; is the IP address and the \u0026ldquo;@\u0026rdquo; is the Ethernet address. Understanding this logical structure is essential to understanding internet technology; it is referred to throughout this tutorial.\n2.1 åŸºç¡€ç»“æ„\nè¦æƒ³ç†è§£TCP/IPæŠ€æœ¯ï¼Œé¦–å…ˆä½ å¿…é¡»è¦ç†è§£ä¸‹é¢å›¾è¡¨å±•ç¤ºçš„ç½‘ç»œèŠ‚ç‚¹é€»è¾‘ç»“æ„ï¼š\n---------------------------- | ç½‘ç»œåº”ç”¨ | | | |... \\ | / .. \\ | / ...| | ----- ----- | | |TCP| |UDP| | | ----- ----- | | \\ / | | -------- | | | IP | | | ----- -*------ | | |ARP| | | | ----- | | | \\ | | | ------ | | |ENET| | | ---@-- | ----------|----------------- | ----------------------o--------- ä»¥å¤ªç½‘ç½‘çº¿ å›¾1. åŸºç¡€TCP/IPç½‘ç»œèŠ‚ç‚¹é€»è¾‘ç»“æ„ ä¸Šå›¾ï¼ˆå›¾1ï¼‰æç»˜çš„æ˜¯äº’è”ç½‘ä¸ŠæŸå°è®¡ç®—æœºèŠ‚ç‚¹å†…éƒ¨ç½‘ç»œåè®®çš„é€»è¾‘åˆ†å±‚æ¶æ„ã€‚æ¯ä¸€å°èƒ½ä½¿ç”¨äº’è”ç½‘æŠ€æœ¯å’Œå…¶å®ƒè®¡ç®—æœºé€šä¿¡çš„è®¡ç®—æœºéƒ½æœ‰å›¾1æè¿°çš„é€»è¾‘ç»“æ„ã€‚å›¾1æè¿°çš„é€»è¾‘ç»“æ„ä¹Ÿå†³å®šäº†äº’è”ç½‘ä¸Šè®¡ç®—æœºçš„è¡Œä¸ºã€‚\nå›¾1ä¸­çš„ è™šçº¿æ¡† è¡¨ç¤ºå½“æ•°æ®åœ¨è®¡ç®—æœºå†…éƒ¨ä¼ è¾“æ—¶ å¯¹æ•°æ®çš„æŸç§å¤„ç†ï¼Œ è¿æ¥è™šçº¿æ¡†çš„è™šçº¿è¡¨ç¤ºæ•°æ®åœ¨è®¡ç®—æœºå†…éƒ¨ä¼ è¾“çš„è·¯å¾„ã€‚æœ€ä¸‹é¢çš„é‚£æ¡è™šçº¿è¡¨ç¤ºä»¥å¤ªç½‘çº¿ï¼›â€œoâ€è¡¨ç¤ºæ¥æ”¶å‘é€å™¨ï¼Œ â€œ*â€è¡¨ç¤ºIP åœ°å€ï¼Œâ€œ@â€è¡¨ç¤º ä»¥å¤ªï¼ˆMACï¼‰åœ°å€ã€‚\nç†è§£å›¾1æ‰€æè¿°çš„é€»è¾‘ç»“æ„çš„å¯¹ç†è§£æ•´ä¸ªäº’è”ç½‘æŠ€æœ¯èµ·ç€å…³é”®æ€§ä½œç”¨ï¼›è€Œä¸”å¯¹å›¾1çš„å¼•ç”¨è´¯ç©¿äº†æ•´ç¯‡æ•™ç¨‹ã€‚\nTerminology The name of a unit of data that flows through an internet is dependent upon where it exists in the protocol stack. In summary: if it is on an Ethernet it is called an Ethernet frame; if it is between the Ethernet driver and the IP module it is called a IP packet; if it is between the IP module and the UDP module it is called a UDP datagram; if it is between the IP module and the TCP module it is called a TCP segment (more generally, a transport message); and if it is in a network application it is called a application message.\nThese definitions are imperfect. Actual definitions vary from one publication to the next. More specific definitions can be found in RFC 1122, section 1.3.3.\nA driver is software that communicates directly with the network interface hardware. A module is software that communicates with a driver, with network applications, or with another module.\nThe terms driver, module, Ethernet frame, IP packet, UDP datagram, TCP message, and application message are used where appropriate throughout this tutorial\n2.2 æœ¯è¯­\næ ¹æ®æ•°æ®åœ¨å›¾1ä¸­è¢«å“ªä¸€å±‚é€»è¾‘å±‚å¤„ç†ï¼Œæˆ‘ä»¬ç»™æ¯å±‚çš„æ•°æ®å—èµ·äº†ä¸åŒçš„åå­—åŠ ä»¥åŒºåˆ†ã€‚\næ€»çš„æ¥è¯´ï¼Œå¦‚æœæ•°æ®å—åœ¨ä»¥å¤ªç½‘ä¸Šï¼Œé‚£ä¹ˆè¿™ä¸ªæ•°æ®å—å°±è¢«ç§°ä¸º \u0026lsquo;Ethernet frame\u0026rsquo;ï¼› å¦‚æœæ•°æ®å—\n","date":"2020-04-13T22:25:56+08:00","image":"https://tab.deoops.com/posts/tcp-ip-tutorial/_hucbca32dcf96b8048fcbe36f855742c0a_81541_b8a26a82b3d2640f14fb51e730ee4ea7.png","permalink":"https://tab.deoops.com/posts/tcp-ip-tutorial/","title":"TCP/IPæ•™ç¨‹"},{"content":"é—®é¢˜ å·²çŸ¥æœ¬åœ°localå¯ä»¥sshåˆ°server Aå’ŒBï¼Œ\né—®å¦‚ä½•ä»server A sshåˆ°server Bï¼Œä»¥åŠå¦‚ä½•åœ¨server A å’ŒBä¹‹é—´ä½¿ç”¨scpäº’ä¼ æ–‡ä»¶ ï¼Ÿ\nè§£å†³æ–¹æ¡ˆ é…ç½®ssh_configç„¶åä½¿ç”¨ ssh-addå‘½ä»¤æŒ‡å®šä½¿ç”¨ssh agentå¯ä»¥å¾ˆå®‰å…¨å’Œé«˜æ•ˆçš„è§£å†³ä¸Šé¢çš„ä¸¤ä¸ªé—®é¢˜ã€‚\né…ç½®ssh_config æ³¨æ„çœ‹æ³¨é‡Šï¼Œä¸‹é¢è„šæœ¬æ‰€æœ‰çš„æ“ä½œå’Œé…ç½®éƒ½æ˜¯åœ¨ æœ¬åœ°localä¸Šæ‰§è¡Œçš„:\nvi .ssh/config ## ä¿®æ”¹é…ç½® æ·»åŠ forward agent HOST server-A HostName 1.2.3.4 User root IdentityFile ~/.ssh/serverA ForwardAgent yes # ç°åœ¨ serverAå¯ä»¥å’Œlocalæœ¬æœºçš„agenté€šä¿¡å•¦ HOST server-B HostName 6.7.8.9 User root IdentityFile ~/.ssh/serverB ForwardAgent yes # ç°åœ¨ serverBå¯ä»¥å’Œlocalæœ¬æœºçš„ssh agent é€šä¿¡å•¦ rg Forward /etc/ssh/ssh_config ## æ£€æŸ¥å…¨å±€çš„forwordagenté…ç½®æœ‰æ²¡æœ‰è¢«è¦†ç›– echo \u0026#34;$SSH_AUTH_SOCK\u0026#34; ## æŸ¥çœ‹æœ¬åœ°ssh agentæ˜¯å¦åœ¨è¿è¡Œ ssh-add -L ## æŸ¥çœ‹/æ“ä½œ/åˆ é™¤ ssh agent holdçš„keys ssh-add -K li ssh-add -K ~/.ssh/serverA ## ç»™agent serverA å¯†é’¥ï¼Œä½¿å¾—serverB å¯ä»¥â€œä½¿ç”¨â€ è¿™ä¸ªå¯†é’¥ ssh-add -K ~/.ssh/serverB ## ç»™agent serverBå¯†é’¥ï¼Œä½¿å¾—serverAå¯ä»¥â€œä½¿ç”¨â€è¿™ä¸ªå¯†é’¥ ssh-add -K ~/.ssh/github ## ç»™é˜¿æ ¹å»· githubå¯†é’¥ï¼Œä½¿å¾—serverAï¼Œ serverBéƒ½å¯ä»¥ssh githubï¼Œæ–¹ä¾¿æµ‹è¯• ssh-add -L éªŒè¯github ä¹Ÿæ˜¯åœ¨æœ¬æœºlocalæ“ä½œï¼Œä»¥githubä½œä¸ºæµ‹è¯•ç›®æ ‡ï¼š\nssh -T git@github.com ## æœ¬åœ°åŸºå‡†æµ‹è¯• ssh serverA ## æµ‹è¯•serverA ssh -T git@github.com ## æµ‹è¯•/éªŒè¯ å°ç»“ æ³¨æ„çœ‹æ³¨é‡Šï¼Œæ³¨æ„ForwardAgenté…ç½®åº”ç”¨åˆ°å“ªä¸ªserverä¸Šäº†ã€‚\nå½“ server å¯ä»¥å’Œlocalæœ¬æœºçš„agenté€šä¿¡çš„æ—¶å€™ï¼Œå°±è¡¨ç¤º server å¥½åƒæ‹¥æœ‰äº†localæœ¬åœ°çš„private keysäº†ã€‚\nå…·ä½“è¯´ï¼š å½“server A çš„ ForwardAgent å¼€å¯æ—¶ï¼Œ server Aå°±å¯ä»¥ç›´æ¥sshåˆ°server Bäº†ï¼Œ\nå¦‚æœè¿™ä¸ªæ—¶å€™ server B çš„ForwordAgentæ²¡æœ‰å¼€å¯ï¼Œserver Bæ˜¯ä¸å¯ä»¥ssh åˆ°server Açš„\n","date":"2020-04-12T11:34:44+08:00","image":"https://tab.deoops.com/posts/ssh-agent/ssh-agent-typical_hu35990bd695fd81eac7c516b5a65eda1e_35136_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/ssh-agent/","title":"SSHä»£ç†ï¼ˆAgentï¼‰"},{"content":"å…¬å¸æœåŠ¡å™¨ä½¿ç”¨äº†ä¸¤å±‚è·³æ¿æœºï¼Œå¤–é¢çš„ä¸€å°æˆ‘ä»¬ç®¡å®ƒå« server Aï¼Œ å¦å¤–ä¸€å° å«å®ƒ server Bã€‚\nè™½ç„¶æˆ‘ä¸çŸ¥é“è¿™ç§åŒä¿é™©ç»™å…¬å¸å¸¦æ¥äº†å¤šå°‘å®‰å…¨æ„Ÿï¼Œä½†æ˜¯æˆ‘çŸ¥é“æˆ‘çš„è¿ç»´æ•ˆç‡é™ä½äº†å·®ä¸å¤š90%å§ :\u0026gt;ã€‚\nserver Aè¢«ç›´æ¥æš´éœ²åœ¨å…¬ç½‘ä¸Šï¼Œ æˆ‘ä»¬ä¸èƒ½ä½¿ç”¨ ssh key åªèƒ½ä½¿ç”¨ passwordè®¤è¯sshã€‚\nè¿™è¿˜ä¸ç®—å®Œï¼Œserver Aæ¯3å°æ—¶æ”¹ä¸€æ¬¡è‡ªå·±çš„rootå¯†ç ã€‚\nåé¢çš„server Bè·³æ¿æœºå™¨çš„è‡ªæˆ‘å®‰å…¨æ„Ÿå°±å¼ºå¤šäº†ï¼Œserver Bå¯ä»¥ç›´æ¥å…å¯†ä½¿ç”¨ssh keyç™»é™†æ‰€æœ‰çš„å†…ç½‘æœåŠ¡å™¨ï¼Œè€Œä¸”å…è®¸server Aå…å¯†ç™»é™†åˆ°è‡ªå·±ã€‚\næˆ‘å†³å¾—è¿™æ ·ä¸¤æ¬¡ç™»å½•å¾ˆæµªè´¹æ—¶é—´ï¼Œäºæ˜¯å†™äº†ä¸ªè„šæœ¬ä»å¤–ç½‘ä¸€æ¬¡æ€§ç™»é™†åˆ°server BæœåŠ¡å™¨ä¸Šã€‚\nexpect è„šæœ¬ #!/usr/bin/expect -f # for anyone not familar with expect # should read this awesome post # https://www.pantz.org/software/expect/expect_examples_and_tips.html set timeout 15 ### CHANGE pwd every 3h set pwd \u0026#34;mySuperSecretpwd123\u0026#34; set nested_ssh \u0026#34;ssh server_B\u0026#34; ## for debug # log_user 0 # exp_internal 1 send_user \u0026#34;going to connected to server A\\n\u0026#34; spawn ssh -q -o StrictHostKeyChecking=no server_A expect { timeout { send_user \u0026#34;\\ntimeout Failed to get password prompt, is VPN on?\\n\u0026#34;; exit 1 } eof { send_user \u0026#34;\\nSSH failure for server A\\n\u0026#34;; exit 1 } \u0026#34;*assword:\u0026#34; } send \u0026#34;$pwd\\r\u0026#34; expect { timeout {send_user \u0026#34;\\nSSH failure for server B\\n\u0026#34;; exit 1 } \u0026#34;Last login:*\u0026#34; } send \u0026#34;$nested_ssh\\r\u0026#34; interact åŸºæœ¬è¯­æ³• ç®€å•è¯´ä¸‹åŸºæœ¬æµç¨‹å¦‚ä¸‹ï¼š\nset: è®¾ç½®å˜é‡ï¼› spawn: ç»™å¯¹è±¡ä¸€ä¸ªè¿›ç¨‹ç©ºé—´ï¼Œè®©å¯¹è±¡å¯ä»¥è¿è¡Œèµ·æ¥ expect: æ¨¡æ‹Ÿç”¨æˆ·ç­‰å¾…ï¼ŒæœŸå¾…å¯¹è±¡è¾“å‡ºå­—ç¬¦ä¸²ï¼› send: æ¨¡æ‹Ÿç”¨æˆ·è¾“å…¥ï¼Œç»™å¯¹è±¡å‘é€å­—ç¬¦ä¸²ï¼› send_user: æç¤ºç”¨æˆ·; interact: ç”¨æˆ·ç›´æ¥å’Œå¯¹è±¡é€šä¿¡ï¼Œexpectä¸å†åœ¨ä¸­é—´ä¼ è¯äº†ã€‚ å› ä¸ºexpectè¯­æ³•ç»§æ‰¿è‡ªTclï¼Œæ‰€ä»¥å˜é‡èµ‹å€¼/åˆå§‹åŒ–çš„æ–¹å¼å’Œ Bashä¸åŒï¼Œéœ€è¦ä½¿ç”¨setå…³é”®å­—ã€‚\næ³¨æ„ç¬¬5ç‚¹send_userå‘½ä»¤æ˜¯ä¸ºäº†æ›´å¥½çš„ç”¨æˆ·äº¤äº’ï¼Œä¸»è¦æ˜¯ç»™ç”¨æˆ·ä¸€ä¸‹æç¤ºä¿¡æ¯/åé¦ˆä¿¡æ¯ã€‚\næœ€åæ³¨æ„ï¼šsend \u0026quot;$pwd\\r\u0026quot;è¯­å¥çš„è½¬ä»¥ç¬¦æ˜¯ \\r è€Œä¸æ˜¯\\r\\nã€‚\nè¯¦ç»†è¯­æ³• expectè¯¦ç»†çš„è¯­æ³•å’Œå‚æ•°è§£é‡Šå‚è€ƒExpect examples and tips\nExpect is an automation and testing tool used to automate a process that receives interactive commands. If you can connect to any machine using ssh, telnet, ftp, etc then you can automate the process with an expect script. This works even with local programs where you would have to interact with a script or program on the command line.\n","date":"2020-03-19T16:07:45+08:00","image":"https://tab.deoops.com/posts/expect-interactive/automate_hu0267170b9c80213022522221d5593617_95938_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/expect-interactive/","title":"Expectè‡ªåŠ¨åŒ–å·¥å…·ç®€ä»‹"},{"content":"æ¶æ„éƒ¨çš„åŒäº‹é—®äº†æˆ‘ä¸¤ä¸ªé—®é¢˜:\nå®¿ä¸»æœºä¸Šæœ‰ä¸ªè¿›ç¨‹å¾ˆè€— cpuï¼Œæ€ä¹ˆåˆ¤æ–­å®ƒæ˜¯ä¸æ˜¯æŸä¸ªå®¹å™¨çš„è¿›ç¨‹; å¦‚æœå®ƒæ˜¯è·‘åœ¨å®¹å™¨é‡Œï¼Œæ€ä¹ˆæŸ¥åˆ°æ˜¯å“ªä¸ªå®¹å™¨(container id); è§£å†³æ–¹æ¡ˆ æœ‰ä¸¤ç§æ–¹æ³•æ¥è§£å†³ä¸Šé¢ä¸¤ä¸ªé—®é¢˜ï¼š\ncgroup é€šè¿‡æŸ¥çœ‹pidçš„cgroupæ˜¯å¦å«æœ‰ sliceä¿¡æ¯æ¥åˆ¤æ–­æ˜¯å¦æ˜¯å®¹å™¨è¿›ç¨‹:\nä¸»æœºè¿›ç¨‹ cgroup ç›´æ¥è¿è¡Œåœ¨å®¿ä¸»æœºä¸»çš„è¿›ç¨‹çš„cgroupæ˜¯æ²¡æœ‰sliceä¿¡æ¯çš„ï¼š\n[root@deoops ~]# cat /proc/1/cgroup 11:perf_event:/ 10:memory:/ 9:devices:/ 8:cpuacct,cpu:/ 7:cpuset:/ 6:hugetlb:/ 5:blkio:/ 4:net_prio,net_cls:/ 3:freezer:/ 2:pids:/ 1:name=systemd:/ [root@deoops ~]# cat /proc/19/cgroup 11:perf_event:/ 10:memory:/ 9:devices:/ 8:cpuacct,cpu:/ 7:cpuset:/ 6:hugetlb:/ 5:blkio:/ 4:net_prio,net_cls:/ 3:freezer:/ 2:pids:/ 1:name=systemd:/ k8s podè¿›ç¨‹ cgroup åœ¨å®¿ä¸»æœºä¸Šçœ‹è·‘åœ¨å®¹å™¨è¿›ç¨‹çš„cgroupæ˜¯å¯ä»¥çœ‹åˆ°sliceä¿¡æ¯çš„ï¼š\n[root@deoops ~]# cat /proc/20397/cgroup 11:perf_event:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 10:memory:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 9:devices:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 8:cpuacct,cpu:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 7:cpuset:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 6:hugetlb:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 5:blkio:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 4:net_prio,net_cls:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 3:freezer:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 2:pids:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope 1:name=systemd:/kubepods.slice/kubepods-besteffort.slice/kubepods-besteffort-pod6d62265d_cd4d_4807_8d2f_386714d5bbdc.slice/docker-c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc.scope ä»ä¸Šé¢çš„è¾“å‡ºå¯ä»¥çœ‹åˆ° pid 20397æ˜¯ kubernets podæ‹‰èµ·æ¥çš„è¿›ç¨‹ï¼Œ è€Œä¸”pod ID æ˜¯ï¼š 6d62265d_cd4d_4807_8d2f_386714d5bbdc, å¯¹åº”çš„ contariner ID æ˜¯ c44a782ba5482052e66dc3f5ed3811e2a699db09b6715e26102d582a51ac52cc\ndocker containerè¿›ç¨‹ cgroup docker containre å’Œ k8s ä¸€æ ·ï¼Œä¹Ÿä¼šè®¾ç½®cgroup sliceï¼š\n[root@deoops ~]# docker run --name mysql -p 3306:3306 -e MYSQL_ROOT_PASSWORD=super123456secret -d mysql:5.7.28 Unable to find image \u0026#39;mysql:5.7.28\u0026#39; locally 5.7.28: Pulling from library/mysql 804555ee0376: Pull complete c53bab458734: Pull complete ca9d72777f90: Pull complete 2d7aad6cb96e: Pull complete 8d6ca35c7908: Pull complete 6ddae009e760: Pull complete 327ae67bbe7b: Pull complete 31f1f8385b27: Pull complete a5a3ad97e819: Pull complete 48bede7828ac: Pull complete 380afa2e6973: Pull complete Digest: sha256:b38555e593300df225daea22aeb104eed79fc80d2f064fde1e16e1804d00d0fc Status: Downloaded newer image for mysql:5.7.28 771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633 [root@deoops ~]# ps aux | grep mysql polkitd 23855 3.0 1.1 1007636 190588 ? Ssl 09:39 0:00 mysqld root 24176 0.0 0.0 112724 984 pts/0 S+ 09:39 0:00 grep --color=auto mysql [root@deoops ~]# cat /proc/23855/cgroup 11:perf_event:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 10:memory:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 9:devices:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 8:cpuacct,cpu:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 7:cpuset:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 6:hugetlb:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 5:blkio:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 4:net_prio,net_cls:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 3:freezer:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 2:pids:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope 1:name=systemd:/system.slice/docker-771aa2fdc8cae66a0cb05a4585beff44a69f0f1c5b2a21fd159cbeea0a86d633.scope [root@deoops ~]# docker ps | grep 771aa2fdc 771aa2fdc8ca mysql:5.7.28 \u0026#34;docker-entrypoint.sâ€¦\u0026#34; 58 seconds ago Up 57 seconds 0.0.0.0:3306-\u0026gt;3306/tcp, 33060/tcp mysql ä»ä¸Šé¢bashè„šæœ¬çš„è¾“å‡ºå¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œcgroupé…ç½®çš„container ID å’Œ docker ps å‘½ä»¤è¾“å‡ºçš„ container IDæ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯ 771aa2fdc8ca\nppid ä¸‹é¢ä¸¤ç§æ–¹æ³•å’Œdockerå¼ºç›¸å…³ï¼Œä¸æ¨èã€‚\npstree è€è€å®å®çš„ä¸€æ­¥æ­¥æ’æŸ¥ä¸»æœºä¸Šæ‰€æœ‰çš„container ppidï¼š ç”¨ pstreeå‘½ä»¤æŸ¥çœ‹å®¿ä¸»æœºä¸Šçš„è¿›ç¨‹æ ‘ï¼Œçœ‹\u0026lt;pid\u0026gt; æ˜¯ä¸æ˜¯docker-currentåˆ›å»ºçš„å­è¿›ç¨‹;\ndocker inspect ä½¿ç”¨docker inspectå‘½ä»¤æŸ¥è¯¢æ‰€æœ‰å®¹å™¨çš„pidï¼Œç„¶ååšè¿‡æ»¤ï¼Œæ‰¾åˆ°è¯¥è¿›ç¨‹å¯¹åº”çš„å®¹å™¨åï¼Œidï¼Œå®¹å™¨çš„è¯¦ç»†ä¿¡æ¯ä¸­ï¼ŒåŒ…å«äº†å®ƒåœ¨å®¿ä¸»æœºä¸Šçš„è¿›ç¨‹å·ã€‚\ndocker inspect -f \u0026#34;{{.Id}} {{.State.Pid}} {{.Config.Hostname}}\u0026#34; $(docker ps -q) | grep \u0026lt;pid\u0026gt; å‘æ•£æ€ç»´ MATRIX é‚£ä¹ˆè¿›ç¨‹è‡ªå·±å¦‚ä½•åˆ¤æ–­è‡ªå·±æ˜¯å¦åœ¨containerä¸­å‘¢ï¼Ÿ\nç­”æ¡ˆå¾ˆç®€å•ï¼Œå¦‚æœ pid 1 çš„cgroupæœ‰sliceä¿¡æ¯ï¼Œè¯´æ˜è¿›ç¨‹ç°åœ¨åœ¨å®¹å™¨ä¸­ï¼Œå¦åˆ™åˆ™è¯´æ˜ä¸åœ¨å®¹å™¨é‡Œã€‚\n[root@deoops ~]# kubectl exec -it binary-controller-7dfd4bbd6f-6hsvd sh / # ps PID USER TIME COMMAND 1 root 0:30 /binary-controller -kubeconfig=inCluster -mode=prodution 196 root 0:00 sh 202 root 0:00 ps / # cat /proc/1/cgroup 11:hugetlb:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 10:pids:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 9:perf_event:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 8:freezer:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 7:memory:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 6:net_prio,net_cls:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 5:blkio:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 4:cpuacct,cpu:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 3:devices:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 2:cpuset:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope 1:name=systemd:/kubepods.slice/kubepods-burstable.slice/kubepods-burstable-pod482f0a01_7b3e_48cd_adb6_61c9097b43a4.slice/docker-b3079dba7a1cf909631c2f9e8ad38cc7f193e6ba8fe649d4d6f590a7d11b0509.scope ## OH NO, I\u0026#39;M IN THE MATRIX ","date":"2020-03-13T22:43:32+08:00","image":"https://tab.deoops.com/posts/container-pid/the-matrix_huca438541ad881ab92ee8c66601a20268_121541_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/container-pid/","title":"å®¹å™¨PID"},{"content":"æ˜¨å¤©åŒäº‹è°ƒè¯•å‰ç«¯é¡µé¢åˆ†é¡µåŠŸèƒ½æ—¶ï¼Œ å‘ç°äº†ä¸€ä¸ªåˆ†é¡µçš„é—®é¢˜ã€‚\né—®é¢˜ç®€è¦æè¿°å¦‚ä¸‹ï¼š\nå‰ç«¯é€‰æ‹©ä¸€äº›è¿‡æ»¤æ¡ä»¶ï¼ˆa\u0026amp;\u0026amp;b\u0026amp;\u0026amp;c||d \u0026hellip;ï¼‰å‘åç«¯è¯·æ±‚æ•°æ®ï¼Œè¿‡ä¸€ä¼šå‘ç°ç”¨åŒæ ·çš„è¿‡æ»¤æ¡ä»¶å»æŸ¥è¯¢ï¼Œæ•°æ®å˜å°‘äº†ï¼Œå‰ç«¯çœ‹ä¸Šå»ç¬¬ä¸€é¡µå’Œæœ€åä¸€é¡µæ˜¯ä¸€æ ·çš„ã€‚\nåˆæ­¥æ€€ç–‘æ˜¯åˆ†é¡µå‡ºäº†é—®é¢˜ã€‚\nè¿™ä¸ªåˆ†é¡µçš„é—®é¢˜æ¯”è¾ƒéº»çƒ¦ï¼Œä¸èƒ½ç¨³å®šå¤ç°ï¼Œä¸€ä¼šå‡ºç°ä¸€ä¼šåˆä¸å‡ºç°ã€‚\nåˆ†æäº†å¾ˆé•¿ä¸€æ®µæ—¶é—´åï¼Œå‘ç°æ˜¯åå°çš„å®šæ—¶ä»»åŠ¡æ›´æ–°äº†dbæ•°æ®ä½¿å¾—å¾ˆå¤šæ•°æ®ä¸å†ç¬¦åˆå‰é¢çš„è¿‡æ»¤æ¡ä»¶ï¼Œåç«¯æ¡†æ¶è¿”å›çš„æ€»é¡µç æ•°ï¼Œå’Œdataçš„æ•°é‡ä¸ç¬¦ã€‚\nä¹Ÿå°±æ˜¯è¯´åç«¯è¿”å›çš„æ€»é¡µç æ•°æ˜¯è„/æ—§æ•°æ®ã€‚\nè„æ•°æ® æŸ¥çœ‹åç«¯æ¡†æ¶ä»£ç æ—¶å€™ï¼Œå‘ç°åç«¯æŸ¥è¯¢dbçš„æ‰§è¡Œäº†count å’Œ select ä¸¤æ¡queryï¼š\nselect count(*) form table_name where condition_a -- meamwhile other workers update table_a -- A LOT in short time -- or they(the workers) MIGHT lock -- the WHOLE table for READ select * form table_name where condition_a è¿™å°±æ˜¯æ˜¯é€ æˆè„æ•°æ®çš„åŸå› ã€‚\nè§£å†³æ–¹æ¡ˆ window function å¯ä»¥ç”¨ window function åšåˆ°ä¸Šè¿°ä¸¤æ¡queryçš„åŒæ—¶æŸ¥è¯¢ï¼ˆå…¶å®å°±æ˜¯ä¸€æ¡æŸ¥è¯¢ï¼‰ï¼š\nSELECT *, count(*) OVER() AS full_count FROM tbl WHERE -- /* whatever */ ORDER BY col1 LIMIT ? OFFSET ? Common Table Expressions (cte) However, as Dani pointed out, when OFFSET is at least as great as the number of rows returned from the base query, no rows are returned. So we also don\u0026rsquo;t get full_count.\nIf that\u0026rsquo;s not acceptable, a possible workaround to always return the full count would be with a CTE and an OUTER JOIN:\nå‚è€ƒRun a query with a LIMIT/OFFSET and also get the total number of rows\nWITH cte AS ( SELECT * FROM tbl WHERE -- /* whatever */ ) SELECT * FROM ( TABLE cte ORDER BY col1 LIMIT ? OFFSET ? ) sub RIGHT JOIN (SELECT count(*) FROM cte) c(full_count) ON true; ","date":"2020-03-02T11:00:52+08:00","image":"https://tab.deoops.com/posts/pagination-wf/available-paginations_hu8c8c5c52595cd1807af80028fe6ed5c0_344112_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/pagination-wf/","title":"å‡†ç¡®çš„åˆ†é¡µ"},{"content":"ä»Šå¤©åœ¨hacker newsä¸Šçœ‹åˆ° wireguard macos client å‘å¸ƒäº†ï¼Œå†³å®šè¯•ç”¨ä¸€ä¸‹ã€‚\nå’Œæ‰€æœ‰çš„vpnå®‰è£…ä¸€æ ·ï¼Œwireguardçš„å®‰è£…ä¹Ÿæ˜¯åˆ†ä¸¤æ­¥ï¼Œä¸€æ˜¯å®‰è£…vpn serverï¼ŒäºŒæ˜¯å®‰è£… vpnçš„clientã€‚ å®‰è£…ä¸åˆ†å…ˆåï¼Œé…ç½®å…ˆé…ç½®serverï¼Œç„¶ååœ¨é…ç½®clientã€‚\næœåŠ¡ç«¯ å®‰è£… æœåŠ¡å™¨ä¸º RHEL 7.6 (Maipo)ï¼Œ æœåŠ¡ç«¯çš„å®‰è£…æµç¨‹:\n#!/bin/bash sudo -i [root@deoops ~]# cat /etc/redhat-release Red Hat Enterprise Linux Server release 7.6 (Maipo) [root@deoops ~]# echo \u0026#34;net.ipv4.ip_forward = 1\u0026#34; \u0026gt;\u0026gt; /etc/sysctl.conf [root@deoops ~]# sysctl -p ### install packages [root@deoops ~]# curl -Lo /etc/yum.repos.d/wireguard.repo https://copr.fedorainfracloud.org/coprs/jdoss/wireguard/repo/epel-7/jdoss-wireguard-epel-7.repo [root@deoops ~]# yum install -y epel-release wireguard-dkms wireguard-tools [root@deoops ~]# yum install -y epel-release [root@deoops ~]# rpm -ivh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm [root@deoops ~]# yum update -y [root@deoops ~]# yum install -y epel-release wireguard-dkms wireguard-tools [root@deoops ~]# init 6 é…ç½® ### wireguard server conf [root@deoops ~]# cat wg.conf [Interface] ListenPort = 58855 PrivateKey = private_key [Peer] PublicKey = public_key_one #AllowedIPs = 0.0.0.0/0 AllowedIPs = 10.0.0.7/32 [Peer] PublicKey = public_key_two #AllowedIPs = 0.0.0.0/0 AllowedIPs = 10.0.0.9/32 å¯åŠ¨wg0Â è®¾å¤‡ è®°å¾—åŠ ä¸Šiptablesè®¾ç½®ï¼š\n### start wg0 device [root@deoops ~]# cat start-wireguard.sh ip l a dev wg0 type wireguard ip a a dev wg0 10.0.0.1/24 wg setconf wg0 wg.conf ip l set up dev wg0 iptables -A FORWARD -i wg0 -j ACCEPT; iptables -A FORWARD -o wg0 -j ACCEPT; iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE å®¢æˆ·ç«¯ ä¸‹è½½ åœ¨app storeå¯ä»¥ç›´æ¥ä¸‹è½½wireguard å®¢æˆ·ç«¯ã€‚\nå¦‚æœæ˜¯ä¸­å›½å¤§é™†çš„app storeï¼Œ åˆ™éœ€è¦ä¿®æ”¹Apple IDçš„å›½å®¶å’Œåœ°åŒºæ‰èƒ½ä¸‹è½½wireguardå®¢æˆ·ç«¯ã€‚\né…ç½® æ³¨æ„ [Peer]çš„ Endpoint å’ŒæœåŠ¡å™¨ç«¯çš„[Interface]å¯¹ä¸Šï¼ˆéƒ½æ˜¯58855ç«¯å£)ï¼š\n[Interface] PrivateKey = private_key ListenPort = 54123 Address = 10.0.0.9/32 DNS = 8.8.8.8, 1.1.1.1, 1.0.0.1, 8.8.4.4 [Peer] PublicKey = server_public_key AllowedIPs = 0.0.0.0/0, ::/0 Endpoint = server_address:58855 PersistentKeepalive = 30 æŠ˜è…¾è°ƒè¯• å®‰è£…å®Œæˆåï¼Œå¯èƒ½ä¼šé‡åˆ°vpnä¸é€šçš„é—®é¢˜ï¼Œå¯ä»¥å®‰è£…ä¸‹é¢ä»‹ç»çš„Â udp port troubleshootæ–¹æ³•è°ƒè¯•è°ƒè¯•ï¼š\n# nc on client to scan, and tcpdump on server side ### client side âœ ~ nc -vz -u server 58885 ## the -z option to perform a scan instead of attempting to initiate a connection. ### server side [root@deoops ~]# yum install tcpdump [root@deoops ~]# tcpdump -i eth0 udp port 58855 -vv -X åè®° ä½“éªŒä¸€å¤©ï¼Œå¤§ä½“è¯´æ¥ï¼Œwireguardæ¯”shadowsocks é€Ÿåº¦å¿«ä¸Š6åˆ°8å€ã€‚\nkernel update å½“æˆ‘ä»¬å¯¹ä¸»æœºæ‰§è¡Œå‡çº§Linux kernelæ“ä½œä¹‹åï¼Œéœ€è¦é‡æ–°load wireguard modï¼Œå¦åˆ™ ip link add ...wg0çš„æ—¶å€™ä¼šæŠ¥é”™ã€‚\nè¿™ä¸ªæ—¶å€™ åˆ é™¤æ—§çš„ dkms modï¼ŒÂ ç„¶åaddæ–°çš„wireguard modå³å¯ï¼š\ndkms status ls /var/lib/dkms/wireguard/0.0.20191206/ ls -alh /var/lib/dkms/wireguard/0.0.20191206/ ls -alh /var/lib/dkms/wireguard/0.0.20200105/ rm -rf /var/lib/dkms/wireguard/0.0.20191206 ls -alh /var/lib/dkms/wireguard/ rm -rf /var/lib/dkms/wireguard/kernel-4.18.0-80.11.2.el8_0.x86_64-x86_64 dkms status dkms add -m wireguard/0.0.20200105 dkms status vi /etc/wireguard/wg0.conf wg-quick up /etc/wireguard/wg0.conf ","date":"2020-01-06T16:50:26+08:00","image":"https://tab.deoops.com/posts/try-wireguard/site-to-site-complex.svg","permalink":"https://tab.deoops.com/posts/try-wireguard/","title":"å®‰è£…wireguard"},{"content":"update: more user friendly #bin/bash mustBeRoot() { if [ \u0026#34;$(id -u)\u0026#34; != \u0026#34;0\u0026#34; ]; then echo \u0026#34;åªæœ‰rootç”¨æˆ·æ‰èƒ½è¿è¡Œ\u0026#34; 1\u0026gt;\u0026amp;2 echo \u0026#34;å½“å‰ç™»å½•ç”¨æˆ·`whoami`\u0026#34; exit 1 fi } # æ•°æ®ç›˜æŒ‚è½½ checkAndMountDataDisk() { echo \u0026#34;é€‰æ‹©æ•°æ®ç›˜/åˆ†åŒº ï¼š\u0026#34; fdisk -l | grep /dev | grep G | cut -f 1 -d , echo \u0026#34; \u0026#34; read -p \u0026#34;è¯·è¾“å…¥ç¡¬ç›˜/åˆ†åŒº åï¼š/dev/\u0026#34; -r disk_name disk_id=`blkid | grep $disk_name` if [ $? -ne 0 ];then echo \u0026#34;è·å–ç¡¬ç›˜/åˆ†åŒº $disk_name uuidå¤±è´¥ï¼Œè¯·æ£€æŸ¥åç§°æ˜¯å¦å‡†ç¡®\u0026#34; exit 1 fi disk_path=`echo $disk_id | cut -f 1 -d \u0026#39;:\u0026#39; ` echo \u0026#34;å·²é€‰æ‹© $disk_path\u0026#34; disk_uuid=`blkid $disk_path | cut -f 2 -d \u0026#39;\u0026#34;\u0026#39; ` disk_info=`lsblk -f $disk_path | grep $disk_uuid ` if [ $? -ne 0 ];then echo \u0026#34;è·å–ç¡¬ç›˜/åˆ†åŒº $disk_path è¯¦ç»†ä¿¡æ¯å¤±è´¥ï¼Œè¯·æ£€æŸ¥åç§°æ˜¯å¦æ­£ç¡®\u0026#34; exit 1 fi fs_type=`echo $disk_info | cut -f 2 -d \u0026#39; \u0026#39;` if [ $fs_type != \u0026#39;ext4\u0026#39; ];then echo \u0026#34;ç¡¬ç›˜æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ä¸æ˜¯ext4ã€‚\u0026#34; read -p \u0026#34;æ˜¯å¦æ ¼å¼åŒ–ä¸º ext4ï¼Ÿ è¾“å…¥ y åŒæ„æ ¼å¼åŒ–\u0026#34; -r format_ext4 if [ $format_ext4 != \u0026#39;y\u0026#39; ];then echo \u0026#34;æœªæ ¼å¼åŒ– $disk_path æ–‡ä»¶ç³»ç»Ÿæ ¼å¼ï¼Œé€€å‡ºå®‰è£…è„šæœ¬ã€‚\u0026#34; exit 1 fi echo \u0026#34;å³å°†æ ¼å¼åŒ– $disk_path æ–‡ä»¶ç³»ç»Ÿæ ¼å¼....\u0026#34; mkfs.ext4 $disk_path fi if [ -d \u0026#34;$1\u0026#34; ];then echo \u0026#34;æ•°æ®ç›˜æŒ‚è½½ç‚¹/dataç›®å½•å·²å­˜åœ¨\u0026#34; else echo \u0026#34;åˆ›å»ºæ•°æ®ç›˜æŒ‚è½½ç‚¹/dataç›®å½•\u0026#34; mkdir $1 fi mount UUID=$disk_uuid $1 echo \u0026#34;UUID=$disk_uuid $1 ext4 defaults 0 0\u0026#34; \u0026gt;\u0026gt; /etc/fstab echo \u0026#34;ç¡¬ç›˜æŒ‚è½½æˆåŠŸ\u0026#34; } checkDataMountpoint() { echo \u0026#39;æŒ‚è½½æ•°æ®ç›˜\u0026#39; grep \u0026#34;$1\u0026#34; /etc/fstab | grep ext4 if [ $? -ne 0 ];then checkAndMountDataDisk else echo \u0026#39;æ•°æ®ç›˜å·²æŒ‚è½½\u0026#39; mount -a fi cpAndUntar } mustBeRoot checkDataMountpoint ${1-/data} lsblk é¦–å…ˆä½¿ç”¨lsblkæŸ¥çœ‹å½“å‰ç³»ç»Ÿç¡¬ç›˜æŒ‚è½½çš„æƒ…å†µ\n[root@dev-7 ~]# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT sr0 11:0 1 1024M 0 rom vda 253:0 0 40G 0 disk â””â”€vda1 253:1 0 40G 0 part / vdb 253:16 0 200G 0 disk â””â”€vdb1 253:17 0 200G 0 part format and mount æ ¼å¼åŒ–ç¡¬ç›˜ç„¶åæŒ‚è½½åˆ° /media/newdrive ç›®å½•\n### disk_add_new.sh function set_vars() { fs_ty=ext4 mount_point=/media/newdrive #check=`fdisk -l | grep GB | cut -d \u0026#39;:\u0026#39; -f1 | cut -c 6-` #new_disk=`echo $check | cut -d \u0026#39; \u0026#39; -f 2` new_disk=$1 # new_disk=${check##*\\ } } function make_file_system(){ mkfs -t $fs_ty $new_disk } function get_uuid() { uuid_info=`blkid $new_disk` uuid=${uuid_info#*UUID} id=`echo $uuid | cut -d \u0026#39;\u0026#34;\u0026#39; -f 2` } function mount_and_auto_mount() { mkdir -p $mount_point mount -t $fs_ty $new_disk $mount_point grep $id /etc/fstab || echo UUID=$id $mount_point $fs_ty defaults 0 0 \u0026gt;\u0026gt; /etc/fstab } function run() { set_vars $1 make_file_system get_uuid [ ${#id} -gt 30 ] || exit 1 mount_and_auto_mount } run $1 æ‰©å®¹ mount_point=/media/newdrive # check=`fdisk -l | grep GB | cut -d \u0026#39;:\u0026#39; -f1 | cut -c 6-` # disk=`echo $check | cut -d \u0026#39; \u0026#39; -f 2` disk=$1 # /dev/sdb sdc fs_ty=ext4 e2fsck -f $disk resize2fs $disk mount -t $fs_ty $disk $mount_point é€»è¾‘å· åˆ›å»ºé€»è¾‘å· pvcreate /dev/vdb vgcreate vg02 /dev/vdb lvcreate -l 90%free -n kubelet vg02 mkfs.xfs -n ftype=1 /dev/vg02/kubelet mount /dev/vg02/kubelet /var/lib/kubelet echo \u0026#34;/dev/mapper/vg02-kubelet /var/lib/kubelet xfs defaults 0 0 \u0026#34; \u0026gt;\u0026gt; /etc/fstab æ‰©å®¹é€»è¾‘å· # 1. åˆ é™¤æœªæŒ‚è½½çš„é€»è¾‘å· lvremove vg02/kubelet # lvremove vg02 # 2. åˆ é™¤kubeletçš„ç£ç›˜ vgreduce vg02 /dev/vdb # vgremove vg02 # 3. å°†åŸæ¥çš„ç£ç›˜åŠ åˆ°åˆ«çš„vg vgextend vg01 /dev/vdb # 4. æ‰©å®¹é€»è¾‘å· lvextend -L +200G /dev/vg01/var # 5. ç”Ÿæ•ˆ xfs_groups /dev/vg01/var # 6. åˆ é™¤/etc/fstab ä¸­kubeletçš„æŒ‚è½½ç‚¹ ## vim /etc/fstab +5dd troubleshoot æœ‰æ—¶å€™åˆ é™¤é€»è¾‘å·ä¼šé‡åˆ°æŠ¥é”™Logical volume vg01/LVgdb contains a filesystem in use\n[root@cnsz92vl14311 ~]# umount /dev/vg01/LVgdb [root@cnsz92vl14311 ~]# lvremove /dev/vg01 Do you really want to remove active logical volume LVgdb? [y/n]: y Logical volume \u0026#34;LVgdb\u0026#34; successfully removed [root@cnsz92vl14311 ~]# lsblk NAME MAJ:MIN RM SIZE RO TYPE MOUNTPOINT vda 252:0 0 60G 0 disk â”œâ”€vda1 252:1 0 476M 0 part /boot â””â”€vda2 252:2 0 59.5G 0 part â”œâ”€vg00-root 253:0 0 10G 0 lvm / â”œâ”€vg00-home 253:1 0 500M 0 lvm /home â”œâ”€vg00-var 253:2 0 10G 0 lvm /var â”œâ”€vg00-tmp 253:3 0 10G 0 lvm /tmp â””â”€vg00-app 253:4 0 29G 0 lvm /app vdb 252:16 0 300G 0 disk [root@cnsz92vl14311 ~]# ","date":"2019-10-18T10:03:07+08:00","image":"https://tab.deoops.com/posts/load-disk/disk_huc96de7ee3c2e159b1393298e71eecb80_142875_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/load-disk/","title":"æŒ‚è½½ç¡¬ç›˜"},{"content":"docker runè°ƒè¯•æŸä¸ªcontaineræŠ¥å¦‚ä¸‹æ‰€ç¤ºx509è¯ä¹¦é”™è¯¯ï¼Œä¸€å¼€å§‹æ€€ç–‘æ˜¯å®¹å™¨ç½‘ç»œï¼ˆ--network host) çš„é—®é¢˜ :\n[deoops@dev-3 ~]# docker run --network host datewu/controller:v0.0.2 {\u0026#34;level\u0026#34;:\u0026#34;panic\u0026#34;,\u0026#34;error\u0026#34;:\u0026#34;Get https://google.com: x509: certificate signed by unknown authority\u0026#34;,\u0026#34;time\u0026#34;:1555498448,\u0026#34;message\u0026#34;:\u0026#34;get max item failed\u0026#34;} panic: get max item failed goroutine 26 [running]: github.com/rs/zerolog.(*Logger).Panic.func1(0x7773e9, 0x13) /Users/deoops/go/pkg/mod/github.com/rs/zerolog@v1.13.0/log.go:307 +0x4f github.com/rs/zerolog.(*Event).msg(0xc00012e8a0, 0x7773e9, 0x13) /Users/deoops/go/pkg/mod/github.com/rs/zerolog@v1.13.0/event.go:141 +0x1c1 github.com/rs/zerolog.(*Event).Msg(...) /Users/deoops/go/pkg/mod/github.com/rs/zerolog@v1.13.0/event.go:105 main.catchUp() /Users/deoops/github/controller/work.go:69 +0x326 main.populate(0xc000114000) /Users/deoops/github/controller/worker.go:10 +0x26 created by main.initWork /Users/deoops/github/controller/work.go:84 +0x7f é”™è¯¯ä¿¡æ¯å¤§æ¦‚æ˜¯è¯´ client ä¸èƒ½è¯†åˆ«googleçš„https è¯ä¹¦ï¼Œ å¯èƒ½æ˜¯base image alpineçš„é—®é¢˜ã€‚\nå°†base imageæ”¹ä¸º scratch ï¼Œç»“æœè¿˜æ˜¯ä¼šæŠ¥x509é”™ã€‚\nè§£å†³æ–¹æ¡ˆ ç»™ alpineé•œåƒ åŠ ä¸Šca-certificatesè§£å†³äº†é—®é¢˜:\nFROM alpine # add Common CA certificates PEM files RUN apk --no-cache add ca-certificates # .... # docker build -t datewu/alpine-ca . ä»¥åç”¨åˆ°alpineçš„Dockerfile ç›´æ¥ FROM datewu/alpine-ca é—®é¢˜è§£å†³å•¦ğŸ˜„\næ€»ç»“ä¸€ä¸‹ï¼šå½“å®¹å™¨é‡Œçš„è¿›ç¨‹è®¿é—®å¤–éƒ¨tls serveræ—¶ï¼Œå¦‚æœå®¹å™¨å†…æ²¡æœ‰é…ç½®Common CA certificatesï¼Œå®¢æˆ·ç«¯å°±ä¼šå‡ºç°æ— æ³•è¯†åˆ«serverè¯ä¹¦çš„é—®é¢˜ã€‚\nps: ä»Šå¤©åœ¨å†™å­—æ¥¼äºŒæ¥¼å¿«é¤åº—åƒæ™šé¥­çš„æ—¶å€™ï¼Œé‡åˆ°ä¸¤ä¸ªå»ºç­‘å·¥äººï¼Œ50-60å²çš„æ ·å­ï¼Œåƒæ˜¯å¤«å¦»ã€‚\nä¸¤ä¸ªäººä¸€èµ·æ‰“æ‰åƒäº†10å—é’±ï¼šä¸€äººä¸€ä¸ªç´ èœï¼Œè±†èŠ½èœå’Œé»‘æ²¹ç™½ã€‚\nppsï¼šå¿«é¤åº—ä¸‹åˆçš„æ±¤æ˜¯å…è´¹çš„ï¼Œæ‰€ä»¥ä»–ä»¬ä¸€äººåˆæ‹¿äº†ä¸€ç¢—æ±¤ï¼Œ\nå›æƒ³èµ·ä»Šå¤©æˆ‘è¿‡æ—©æ‰å°±åƒäº†10å—é’±ï¼Œå—Ÿä¹å”å˜˜ã€‚\n","date":"2019-09-12T10:11:32+08:00","image":"https://tab.deoops.com/posts/container-ca/common-ca_hu249b34a0b606f672af7bc796fcfc189a_82371_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/container-ca/","title":"è¯ä¹¦é—®é¢˜"},{"content":"ä»Šå¤©å‡†å¤‡ç®¡ç†æŸä¸€ä¸ªkubernetes é›†ç¾¤æ—¶å‘ç°masterä¸»æœº22ç«¯å£å› ä¸ºç®¡ç†çš„éœ€è¦è¢«ç¦ç”¨äº†ï¼Œæ— æ³•ç™»é™†æœåŠ¡å™¨ã€‚\né—®äº†ä¸€ä¸‹è¿ç»´äººå‘˜ï¼ŒåŸæ¥æ˜¯åŸºäºå®‰å…¨åŸå› ï¼Œå…¬å¸å†³å®šç¦ç”¨æ‰€æœ‰æœåŠ¡å™¨çš„root sshç™»é™†æƒé™ï¼Œ\nå¹³æ—¶æˆ‘éƒ½æ˜¯ssh ç™»é™†åˆ°master nodeï¼Œåœ¨æœåŠ¡å™¨ä¸Šç›´æ¥ä½¿ç”¨kubectlå‘½ä»¤ æŸ¥çœ‹/éƒ¨ç½²/debug deployment/serviceç­‰èµ„æºï¼Œ\nç°åœ¨åªå¥½ä¿®æ”¹ä¸‹æœ¬åœ° kubeconfig æ–‡ä»¶ï¼Œç”¨è‡ªå·±æœ¬åœ°çš„ kubectl ç®¡ç†/æ“ä½œkubernetesé›†ç¾¤ã€‚\næ“ä½œäº†ä¸€æ®µæ—¶é—´åï¼Œå‘ç°ç”¨æœ¬åœ°kubectlæ“ä½œkubernetesä½“éªŒè›®å¥½çš„ï¼Œç‰¹åˆ«æ˜¯æœåŠ¡å™¨ç¼ºå°‘æœ¬åœ°editor(vim) kubectl edit ... çš„è¯­æ³•é«˜äº®æ”¯æŒã€‚\né…ç½®kubeconfigè¿‡ç¨‹åˆ†äº«å¦‚ä¸‹ï¼Œå¤§ä½“ä¸Šè¯´è¿‡å°±ä¸¤æ­¥ï¼š\næ·»åŠ  contextï¼› use contextã€‚ vim .kube/config kubectl config use-context dev-8-admin@kubernetes é™¤äº†ä½¿ç”¨vim ç¼–è¾‘ .kube/config æ–‡ä»¶ï¼Œå¯¹äºä¸€äº›ç®€å•çš„é…ç½®ä¹Ÿå¯ä»¥ä½¿ç”¨kubectl config command å¿«é€Ÿé…ç½®kubeconfigï¼š\n## create new cluster kubectl config set-cluster NAME [--server=server] [--certificate-authority=path/to/certificate/authority] [--insecure-skip-tls-verify=true] ## create new user kubectl config set-credentials NAME [--client-certificate=path/to/certfile] [--client-key=path/to/keyfile] [--token=bearer_token] [--username=basic_user] [--password=basic_password] [--auth-provider=provider_name] [--auth-provider-arg=key=value] [options] ## create new context kubectl config set-context [NAME | --current] [--cluster=cluster_nickname] [--user=user_nickname] [--namespace=namespace] [options] ## use context kubectl config use-context CONTEXT_NAME [options] å¦å¤–ï¼Œkubectl config set ä¸æ”¯æŒå¯¹ certificate-authority-dataå­—æ®µçš„è®¾ç½®ï¼Œåªæ”¯æŒæŒ‡å®šdataæ–‡ä»¶çš„è·¯å¾„ï¼Œ æ‰€ä»¥æ¨èç”¨vim ç¼–è¾‘kubeconfigæ–‡ä»¶ã€‚\nkuebconfig demo ä¸‹é¢æ˜¯ä¸€ä»½é…ç½®å¥½çš„ kubeconfig demoæ–‡ä»¶ï¼Œä¾›å‚è€ƒ: ï¼ˆç•¥å»äº†client çš„è¯ä¹¦, private keyç­‰æ•æ„Ÿä¿¡æ¯ï¼‰\napiVersion: v1 clusters: - cluster: certificate-authority-data: YOUR kubernete CA BASE64 DATA server: https://test-8:9443 name: dev-8 - cluster: certificate-authority: /Users/r/.minikube/ca.crt server: https://192.168.99.117:8443 name: minikube contexts: - context: cluster: dev-8 user: dev-8-admin name: dev-8-admin@kubernetes - context: cluster: minikube user: minikube name: minikube current-context: test-8-admin@kubernetes kind: Config preferences: {} users: - name: dev-8-admin user: client-certificate-data: YOUR client CERT BASE64 DATA client-key-data: YOUR client PRIVATE KEY DATA - name: minikube user: client-certificate: /Users/r/.minikube/client.crt client-key: /Users/r/.minikube/client.key kubecofig å­—æ®µè§£é‡Š kubeconfigæ˜¯ä»€ä¹ˆï¼Œä»¥åŠä¸Šé¢çš„ç¼–è¾‘è¿‡ç¨‹åˆ°åº•åšäº†ä»€ä¹ˆï¼š\nkubeconfig æ˜¯ä¸€ä¸ªé…ç½®æ–‡ä»¶ï¼Œè¿™ä¸ªé…ç½®æ–‡ä»¶ä½¿ç”¨äº† yaml æ–‡ä»¶çš„è¯­æ³•ï¼Œä¸»è¦è®°å½•äº†kubernetes é›†ç¾¤çš„è®¤è¯ä¿¡æ¯ã€‚\nkubectl æˆ–è€…æ˜¯å…¶å®ƒçš„kubernetes clienté€šè¿‡è§£ækubeconfigæ–‡ä»¶å¾—åˆ°kubernetes clusterçš„è®¤è¯ä¿¡æ¯ï¼Œä»è€Œä½¿ç”¨/ç®¡ç† kubernetes é›†ç¾¤ã€‚\nå®‰è£…kubectlçš„æ—¶å€™ï¼Œ~/.kube/configæ–‡ä»¶å°±æ˜¯ä¸€ä¸ªkubeconfigï¼Œè€Œä¸”å¯ä»¥é…ç½®ç®¡ç†å¤šä¸ªkubernetesé›†ç¾¤ã€‚\nkubeconfigçš„å¯è¯»æ€§å¾ˆé«˜ï¼Œå»ºè®®ä»”ç»†é€šè¯»ä¸‹ã€‚\nä¸€ä¸ªkubeconfigæ–‡ä»¶åŒ…å«äº†3ä¸ªå¯¹è±¡ï¼Œ ä¸€ç§å…³ç³»:\nä¸€ä¸ª kubeconfg å¯ä»¥åŒ…å« å¤šä¸ª contextï¼Œå¤šä¸ª clusterï¼Œ å¤šä¸ª userã€‚ æ¯ä¸ª context ç”±ä¸€ä¸ªcluster å’Œ user ç»„æˆã€‚\nclusterç”± apiserveråœ°å€ï¼Œ server ca ä¿¡æ¯ï¼Œå’Œcluster name ç»„æˆã€‚\nuser (user çš„å®šä¹‰å…¶å®å°±æ˜¯ kubernetes client çš„ auth å®šä¹‰) çš„å®šä¹‰ç›¸å¯¹çµæ´»äº›ï¼š\nå¯ä»¥æ˜¯æˆ‘ä¸Šé¢è´´å‡ºæ¥çš„ certificate è®¤è¯ä¿¡æ¯ï¼› ä¹Ÿå¯ä»¥æ˜¯ username/password çš„è®¤è¯ä¿¡æ¯(k3s çš„kubeconfig å°±æ˜¯ç”¨çš„è¿™ç§)ï¼› æˆ–è€…æ˜¯ç”¨serviceAccount çš„ tokenè®¤è¯ä¹Ÿå¯ä»¥ï¼Œ æ€»çš„è¯´æ¥ä¸€ä»½auth ä¿¡æ¯ å’Œ ä¸€ä¸ªname å¯¹åº”äº†ä¸€ä¸ªuser çš„å®šä¹‰ã€‚\nå¤§å®¶åº”è¯¥æ³¨æ„åˆ°äº† cluster å’Œ user çš„ç»„åˆå¯ä»¥å¾ˆçµæ´»ï¼Œä»è€Œäº§ç”Ÿå¤šç§ contextã€‚\nclient-goæ“ä½œkubecofig marshal æŠŠ restclient.Config ç¼–ç ä¿å­˜åˆ°æ–‡ä»¶ï¼š\npackage main import ( \u0026#34;clientcmdapi \u0026#34;k8s.io/client-go/tools/clientcmd/api\u0026#34; \u0026#34;k8s.io/client-go/tools/clientcmd\u0026#34; ) // èŠ‚é€‰ï¼Œæœ‰åˆ å‡ func snipedDumpKubeconfig() error { // ... globalKubeCfg := clientcmdapi.NewConfig() globalKubeCfg.Clusters[clusterName] = clientcmdapi.NewCluster() globalKubeCfg.Clusters[clusterName].Server = config.Host globalKubeCfg.Clusters[clusterName].CertificateAuthorityData = config.CAData globalKubeCfg.AuthInfos[authName] = clientcmdapi.NewAuthInfo() globalKubeCfg.AuthInfos[authName].ClientCertificateData = config.CertData globalKubeCfg.AuthInfos[authName].ClientKeyData = config.KeyData globalKubeCfg.Contexts[contextName] = clientcmdapi.NewContext() globalKubeCfg.Contexts[contextName].Cluster = clusterName globalKubeCfg.Contexts[contextName].AuthInfo = authName return clientcmd.WriteToFile(*globalKubeCfg, globalKubeconfFile) } unmarshal ç”± kubeconfigæ–‡ä»¶ç”Ÿæˆ restclient.Configï¼š åœ¨å®˜æ–¹çš„ k8s.io/client-go/tools/clientcmd åŒ…ä¸­å¯ä»¥æ‰¾åˆ°exampleï¼š\n// RESTConfigFromKubeConfig is a convenience method to give back a restconfig from your kubeconfig bytes. // For programmatic access, this is what you want 80% of the time func RESTConfigFromKubeConfig(configBytes []byte) (*restclient.Config, error) { clientConfig, err := NewClientConfigFromBytes(configBytes) if err != nil { return nil, err } return clientConfig.ClientConfig() } // BuildConfigFromFlags is a helper function that builds configs from a master // url or a kubeconfig filepath. These are passed in as command line flags for cluster // components. Warnings should reflect this usage. If neither masterUrl or kubeconfigPath // are passed in we fallback to inClusterConfig. If inClusterConfig fails, we fallback // to the default config. func BuildConfigFromFlags(masterUrl, kubeconfigPath string) (*restclient.Config, error) { if kubeconfigPath == \u0026#34;\u0026#34; \u0026amp;\u0026amp; masterUrl == \u0026#34;\u0026#34; { klog.Warningf(\u0026#34;Neither --kubeconfig nor --master was specified. Using the inClusterConfig. This might not work.\u0026#34;) kubeconfig, err := restclient.InClusterConfig() if err == nil { return kubeconfig, nil } klog.Warning(\u0026#34;error creating inClusterConfig, falling back to default config: \u0026#34;, err) } return NewNonInteractiveDeferredLoadingClientConfig( \u0026amp;ClientConfigLoadingRules{ExplicitPath: kubeconfigPath}, \u0026amp;ConfigOverrides{ClusterInfo: clientcmdapi.Cluster{Server: masterUrl}}).ClientConfig() } ","date":"2019-08-11T22:09:21+08:00","image":"https://tab.deoops.com/posts/explain-kubeconfig/kubeconfig_hu6b4ad2ec2bfdd2b8d356f680088de3f4_179870_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/explain-kubeconfig/","title":"ç»†è¯´kubeconfig"},{"content":"é—®é¢˜ ç”¨ kubeadm éƒ¨ç½² kubernetes é›†ç¾¤ï¼Œå¯åŠ¨kubeletæœåŠ¡åï¼Œkubelet daemon ä¼šè®¤ä¸º /etc/sysconfig/kubeletå†…å®¹çš„ä¼˜å…ˆçº§æ›´é«˜ï¼Œ\nè¦†ç›–KUBELET_EXTRA_ARGSç¯å¢ƒå˜é‡--pod-infra-container-imageçš„é…ç½®å†…å®¹ã€‚\nåˆ†æ kubelet.serviceæ–‡ä»¶ é¦–å…ˆæŸ¥çœ‹/etc/systemd/system/kubelet.serviceæ–‡ä»¶:\n# cat /etc/systemd/system/kubelet.service [Unit] Description=kubelet: The Kubernetes Node Agent Documentation=https://kubernetes.io/docs/ [Service] ExecStart=/usr/bin/kubelet Restart=always StartLimitInterval=0 RestartSec=10 [Install] WantedBy=multi-user.target æ³¨æ„ç¬¬5è¡Œçš„ExecStartæŒ‡ä»¤ä¸º/usr/bin/kubelet\nkubelet.service.d ç›®å½• ç„¶åæŸ¥çœ‹kubeletæœåŠ¡çš„é…ç½®ç›®å½•/etc/systemd/system/kubelet.service.d/ï¼Œæ³¨æ„ kubeadmä¼šåœ¨è¿™é‡Œåˆ›å»ºä¸€ä¸ª10-kubeadm.confæ–‡ä»¶æ¥é…ç½®kubeletå¯åŠ¨æ–¹å¼ï¼ˆå‚æ•°ï¼‰ã€‚\n# cat /etc/systemd/system/kubelet.service.d/10-kubeadm.conf # Note: This dropin only works with kubeadm and kubelet v1.11+ [Service] Environment=\u0026#34;KUBELET_KUBECONFIG_ARGS=--bootstrap-kubeconfig=/etc/kubernetes/bootstrap-kubelet.conf --kubeconfig=/etc/kubernetes/kubelet.conf\u0026#34; Environment=\u0026#34;KUBELET_CONFIG_ARGS=--config=/var/lib/kubelet/config.yaml\u0026#34; # This is a file that \u0026#34;kubeadm init\u0026#34; and \u0026#34;kubeadm join\u0026#34; generates at runtime, populating the KUBELET_KUBEADM_ARGS variable dynamically EnvironmentFile=-/var/lib/kubelet/kubeadm-flags.env # This is a file that the user can use for overrides of the kubelet args as a last resort. Preferably, the user should use # the .NodeRegistration.KubeletExtraArgs object in the configuration files instead. KUBELET_EXTRA_ARGS should be sourced from this file. EnvironmentFile=-/etc/sysconfig/kubelet ExecStart= ExecStart=/usr/bin/kubelet $KUBELET_KUBECONFIG_ARGS $KUBELET_CONFIG_ARGS $KUBELET_KUBEADM_ARGS $KUBELET_EXTRA_ARGS é…ç½®æ–‡ä»¶çš„loadçš„é¡ºåºæ˜¯ä»¥å­—æ¯é¡ºåºæ’åˆ—çš„ï¼Œ å¦‚æœæˆ‘ä»¬ä¹Ÿåœ¨è¿™é‡Œåˆ›å»ºäº†kubeletçš„é…ç½®æ–‡ä»¶ï¼Œæ¯”å¦‚20-my-kubelet.confï¼Œ10-*ä¼šå…ˆè¢«è¯»å–ï¼Œ20-*å…¶æ¬¡ã€‚\næ³¨æ„10-kubeadm.confæ–‡ä»¶çš„å€’æ•°ç¬¬äºŒè¡ŒExecStart=ç©ºè¡Œï¼Œè¿™ä¸€è¡Œç­‰æ•ˆäºkubeadmè¦†ç›–äº†ä¸Šé¢kubelet.service çš„ExecStartæŒ‡ä»¤ï¼\nç»“è®º [Service]è¦†ç›–å’Œå……å€¼ç‰¹æ€§ã€‚\nExecStartå‚æ•°ç‰¹æ€§ï¼šå¦‚æœå·²ç»è®¾ç½®ExecStartæŒ‡ä»¤å‚æ•°ï¼Œ åç»­ExecStartæŒ‡ä»¤ä¼šå åŠ æ‰€æœ‰çš„å‚æ•°ï¼Œé¡ºåºapplyæ‰€æœ‰æŒ‡ä»¤ã€‚\nå¦‚æœæƒ³è¦æ¸…ç©ºå‰é¢çš„ExecStartæŒ‡ä»¤ï¼Œåˆ™éœ€è¦å†™ä¸€è¡Œç©ºçš„ExecStart=,ç„¶åå†™æ–°çš„ExecStart=\u0026hellip;\u0026hellip;æŒ‡ä»¤ã€‚\nåŒç†KUBELET_EXTRA_ARGSä¹Ÿä¼šæœ‰è¦†ç›–å’Œæ¸…ç©ºçš„è¯­æ³•ã€‚\nç›®å‰æˆ‘ä»¬/etc/systemd/system/kubelet.service.d/20-my-kubelet.confæ–‡ä»¶æ˜¯è¿™æ ·çš„ï¼š\n[Service] Environment=\u0026#34;KUBELET_EXTRA_ARGS=--pod-infra-container-image=172.20.8.4/library/pause:3.1 --feature-gates=LocalStorageCapacityIsolation=true \\ --kube-reserved-cgroup=/kubepods.slice --kube-reserved=cpu=500m,memory=500Mi,ephemeral-storage=1Gi \\ --system-reserved-cgroup=/system.slice --system-reserved=cpu=500m,memory=500Mi,ephemeral-storage=1Gi \\ --eviction-hard=memory.available\u0026lt;500Mi,nodefs.available\u0026lt;10%\u0026#34; è¡¨é¢ä¸Šçœ‹ 20-my-kubelet.confè¿½åŠ äº†KUBELET_EXTRA_ARGSç¯å¢ƒå˜é‡ï¼Œåº”è¯¥æ˜¯æˆåŠŸçš„é…ç½®äº†--pod-infra-container-imageå‚æ•°ï¼Œ\nä½†æ˜¯åœ¨10-kubeadm.confæ–‡ä»¶é‡Œå·²ç»å®šä¹‰EnvironmentFile=-/etc/sysconfig/kubeletï¼Œç„¶å åœ¨/etc/sysconfig/kubeleté‡Œæœ‰ä¸€å¥KUBELET_EXTRA_ARGS=ï¼Œç­‰äºå·åé¢æ— å€¼ï¼Œæ¸…ç©ºäº†KUBELET_EXTRA_ARGSç¯å¢ƒå˜é‡ã€‚\nè§£å†³æ–¹æ¡ˆ åˆ é™¤20-my-kubelet.confæ–‡ä»¶ï¼Œç›´æ¥åœ¨/etc/systemconf/kubeletä¸­å®šä¹‰KUBELET_EXTRA_ARGSå‚æ•°å®šä¹‰ï¼š\n# cat /etc/systemconf/kubelet #KUBELET_EXTRA_ARGS= KUBELET_EXTRA_ARGS=--pod-infra-container-image=192.168.9.20/library/pause:3.1 --feature-gates=LocalStorageCapacityIsolation=true \\ --kube-reserved-cgroup=/kubepods.slice --kube-reserved=cpu=500m,memory=500Mi,ephemeral-storage=1Gi \\ --system-reserved-cgroup=/system.slice --system-reserved=cpu=500m,memory=500Mi,ephemeral-storage=1Gi \\ --eviction-hard=memory.available\u0026lt;500Mi,nodefs.available\u0026lt;10% ä¿®æ”¹å®Œé…ç½®æ–‡ä»¶åï¼Œæ‰§è¡Œkubeadm initå¯ä»¥çœ‹åˆ° pod-infra-contrainer-imageé…ç½®ç”Ÿæ•ˆäº†ã€‚\nå‚è€ƒsystemd config\n","date":"2019-05-11T16:02:39+08:00","image":"https://tab.deoops.com/posts/systemd-conf/Systemd_components.svg","permalink":"https://tab.deoops.com/posts/systemd-conf/","title":"Systemdé…ç½®é—®é¢˜"},{"content":"å‰æ®µæ—¶é—´çš„èŠ±äº†å¾ˆå¤šåŠŸå¤«å¯¹æ¥k8så’Œopenstackçš„kuryr-kubernetesç½‘è·¯ç»„ä»¶ã€‚ å­¦åˆ°äº†å¾ˆå¤šopenstackçš„çŸ¥è¯†ï¼Œä»Šå¤©æŠ½å‡ºæ—¶é—´æ¥æ•´ç†ä¸‹ã€‚\nclient é¦–å…ˆæ˜¯ install openstack-cli neutron clientï¼š\n#!/bin/bash [root@deoops ~]# cat /etc/redhat-release Red Hat Enterprise Linux Server release 7.5 (Maipo) #### add openstack yum repo source [root@deoops ~]# vi /etc/yum.repos.d/openstack.repo [root@deoops ~]# yum install -y python2-openstackclient openstack-neutron [root@deoops shells]# cat source export OS_PROJECT_DOMAIN_NAME=default export OS_USER_DOMAIN_NAME=default export OS_PROJECT_NAME=your_project_name export OS_USERNAME=your_use_name export OS_PASSWORD=your_pwd export OS_AUTH_URL=http://10.8.1.3:35357/v3 export OS_IDENTITY_API_VERSION=3 export OS_IMAGE_API_VERSION=2 vip æˆ‘ä»¬æ¥åˆ›å»ºä¸€ä¸ªvirtual IPéªŒè¯ä¸Šä¸€æ­¥é…ç½®çš„openstack sourceå¯¹ä¸å¯¹ ï¼š\nåˆ›å»º vip å¯¹åº”çš„port; æŠŠ ä¸Šä¸€æ­¥åˆ›å»ºå¥½çš„portåŠ å…¥åˆ° vm ipå¯¹åº”port çš„ allow-address-pairs å±æ€§ä¸­; [root@deoops shells]# cat vip.sh . ./source network=your_network_id ### i\u0026#39;ve comment out the create Port operation #subnet=you_subnet_id #for i in {62..64} #do # echo $i # neutron port-create --fixed-ip subnet_id=$subnet,ip_address=10.0.1.$i --device-owner \u0026#39;Virtual IP\u0026#39; --no-security-groups --name \u0026#39;Virtual IP\u0026#39; $network #done # openstack port list | grep -E \u0026#39;10.0.1.6(2|3|4)\u0026#39; | cut -d \u0026#39;|\u0026#39; -f 4,5 #p1=mac_address=fa:16:3e:aa:6b:68,ip_address=\u0026#39;10.0.1.64\u0026#39; #p2=mac_address=fa:16:3e:1d:11:2d,ip_address=\u0026#39;10.0.1.62\u0026#39; #p3=mac_address=fa:16:3e:b8:47:f9,ip_address=\u0026#39;10.0.1.63\u0026#39; p1=ip_address=\u0026#39;10.0.1.64\u0026#39; p2=ip_address=\u0026#39;10.0.1.62\u0026#39; p3=ip_address=\u0026#39;10.0.1.63\u0026#39; p4=ip_address=\u0026#39;10.0.1.80\u0026#39; #for p in `neutron port-list --device-owner compute:nova -f value | grep -E \u0026#39;10.0.1.5(1|2|3)\u0026#39; | cut -d \u0026#39; \u0026#39; -f 1 `; for p in `neutron port-list --device-owner compute:nova -f value | grep -E \u0026#39;10.0.1\u0026#39; | cut -d \u0026#39; \u0026#39; -f 1 `; do echo $p $p1 $p2 $p3 $p4 ### must NOT set virtual ip Port macaddress ### leave it empty to use host port macaddress neutron port-update $p --allowed-address-pair $p1 --allowed-address-pair $p2 --allowed-address-pair $p3 --allowed-address-pair $p4 done create port ç”³è¯·åˆ›å»ºport\n[root@deoops shells]# cat create-port.sh #!/bin/bash . ./source network=your_network_id subnet=your_subnetwork_id function setup { #i=$1 #ip_addr=10.0.1.$((i+1)) echo \u0026#34;going to create ip ...\u0026#34; #neutron port-create --fixed-ip subnet_id=$subnet,ip_address=$ip_addr --device-owner \u0026#39;compute:kuryr\u0026#39; --no-security-groups --name \u0026#39;concurrent load test IP\u0026#39; $network neutron port-create subnet_id=$subnet --device-owner \u0026#39;compute:kuryr\u0026#39; --no-security-groups --name \u0026#39;concurrent load test IP lll\u0026#39; $network } for i in `seq $1`; do time setup $i \u0026amp; done update allow-address-pairs æ‰¹é‡update allow-address-pairs:\n[root@deoops shells]# cat allow-address-pairs-load-test.sh . ./source vm_port=vm_port_id function setup { i=$1 mac=$(echo $[RANDOM%10]$[RANDOM%10]:$[RANDOM%10]$[RANDOM%10]:$[RANDOM%10]$[RANDOM%10]) ip_addr=10.0.1.$((i+1)) param+=\u0026#34; --allowed-address-pair ip_address=${ip_addr},mac_address=${mac}\u0026#34; #echo $vm_port $param neutron port-update $vm_port $param } echo starting for i in `seq $1`; do ## for i in `jot $1`; do echo \u0026#34;$i...\u0026#34; time setup $i done delete port \u0026amp; allowed-address-pairs æ¸…ç† Port å’Œ Port allowed-address-pairs\n#!/bin/bash . ./source #neutron port-list --device-owner compute:kuryr neutron port-delete `neutron port-list --device-owner compute:kuryr -c id -f value` neutron port-list --device-owner compute:nova | grep 10.0.1 | grep -vE \u0026#39;10.0.1.5(1|2|3)\u0026#39; for p in `neutron port-list --device-owner compute:nova -f value | grep 10.0.1 | cut -d \u0026#39; \u0026#39; -f 1 `; do neutron port-update $p --allowed-address-pairs action=clear ; done trunk port åˆ›å»ºtrunk å­port\nfor i in `openstack port list | grep ACTIVE |grep -vE \u0026#39;(22.1.104|1.106|132|117|129)\u0026#39; | awk \u0026#39;{print $2}\u0026#39;`; do openstack network trunk unset --subport $i trunktest; done for i in `openstack port list | grep DOWN | awk \u0026#39;{print $2}\u0026#39;`; do openstack port delete $i ; done ############################################ openstack network create â€”share â€”external â€”provider-physical-network provider â€”provider-network-type vlan â€”provider-segment 162 podlan162 â€”transparent-vlan openstack subnet create â€”no-dhcp â€”subnet-range 172.23.0.0/16 â€”gateway 172.23.0.254 â€”network podlan162 â€”allocation-pool start=172.23.1.101,end=172.23.1.201 â€”dns-nameserver 114.114.114.114 jyvlan162sub2 openstack port create â€”network podlan162 â€”fixed-ip subnet=jyvlan162sub2,ip-address=172.23.1.129 â€”project admin v162port # openstack trunk ç«¯å£åŠ å…¥ openstack network trunk create â€”parent-port v162port trunktest openstack network create â€”share â€”external â€”provider-physical-network provider â€”provider-network-type vlan â€”provider-segment 163 podlan163 â€”transparent-vlan openstack subnet create â€”no-dhcp â€”subnet-range 172.24.0.0/16 â€”gateway 172.24.0.254 â€”network podlan163 â€”allocation-pool start=172.24.1.101,end=172.24.1.201 â€”dns-nameserver 114.114.114.114 jyvlan164sub2 openstack port create â€”network podlan163 â€”fixed-ip subnet=jyvlan164sub2,ip-address=172.24.1.129 â€”project admin v163port openstack network trunk set trunktest â€”subport port=v163port,segmentation-type=vlan,segmentation-id=163 # æµ‹è¯•å­ç½‘ï¼Œæµ‹è¯•163 tag sudo ip link add link eth0 name eth0.163 type vlan id 163 sudo ip link set dev eth0.163 address fa:16:3e:26:a8:08 sudo ip link set dev eth0.163 up ","date":"2019-04-21T18:39:27+08:00","image":"https://tab.deoops.com/posts/neutron-port/Neutron-Networking-CompNet-v1_huba0c25ee44e1cb025e6838f746b91615_235376_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/neutron-port/","title":"Neutronå°è®°"},{"content":"update: ioutilé€æ¸è¢«io å–ä»£ã€‚\npackage ioutil // import \u0026#34;io/ioutil\u0026#34; func NopCloser(r io.Reader) io.ReadCloser NopCloser returns a ReadCloser with a no-op Close method wrapping the provided Reader r. As of Go 1.16, this function simply calls io.NopCloser. package io // import \u0026#34;io\u0026#34; func NopCloser(r Reader) ReadCloser NopCloser returns a ReadCloser with a no-op Close method wrapping the provided Reader r. æœ€è¿‘ä½¿ç”¨balooå†™é›†æˆæµ‹è¯•ï¼Œé‡åˆ°äº†ä¸ªéœ€æ±‚ï¼Œ åœ¨unmarshalresponesä¹‹åï¼ˆæˆ–è€…ä¹‹å‰ï¼‰è¿˜è¦å†è¾“å‡ºä¸€æ¬¡responseçš„çº¯æ–‡æœ¬æ ¼å¼ä¾›debugå‚è€ƒã€‚\nå³éœ€è¦å¤šæ¬¡è¯»http.Resp.Bodyã€‚\né—®é¢˜ response.Body åªèƒ½è¯»ä¸€æ¬¡ï¼Œè¯»å®Œä¹‹åå†è¿›è¡Œreadæ“ä½œå°±ä¼šé‡åˆ°EOF errorã€‚\nåˆ†æé—®é¢˜ æ¨¡ç³Šè®°å¾—balooåœ¨ä¸€æ¬¡è¯·æ±‚ä¸­èƒ½å¤šæ¬¡(JSON() å’Œ String())è¯»å–response.Bodyå†…å®¹ã€‚\nä»”ç»†å»çœ‹äº†ä¸‹balooçš„æºä»£ç ï¼Œå‘ç°balooè‡ªå·±åœ¨å†…éƒ¨ å°è£…äº†ä¸€ä¸ªå¯¹è±¡ http.RawResonse ï¼Œä½¿ç”¨äº† iouti.NopCloserå‡½æ•°é‡æ–°å¡«å……äº†res.Body:\nfunc readBodyJSON(res *http.Response) ([]byte, error) { body, err := ioutil.ReadAll(res.Body) if err != nil { return []byte{}, err } // Re-fill body reader stream after reading it res.Body = ioutil.NopCloser(bytes.NewBuffer(body)) return body, err } è§£å†³æ–¹æ¡ˆ æœ‰äº† ioutil.NopCloserå‡½æ•°ï¼Œå¯ä»¥å¾ˆå¿«é€Ÿçš„å†™å‡ºdebugPluginï¼š\nfunc debugPlugin() (p plugin.Plugin) { f := func(ctx *context.Context, h context.Handler) { res, err := ioutil.ReadAll(ctx.Response.Body) fmt.Println(\u0026#34;response:\u0026#34;, string(res), err, \u0026#34;response Type:\u0026#34;, ctx.Response.Header.Get(\u0026#34;Content-Type\u0026#34;)) // should CLOSE, due to next Close method will be no-op ctx.Response.Body.Close() ctx.Response.Body = ioutil.NopCloser(bytes.NewBuffer(res)) h.Next(ctx) } p = plugin.NewResponsePlugin(f) return } æ³¨æ„ï¼šåº”è¯¥å…ˆ resp.Body.Close() æ‰ï¼Œç„¶åé‡æ–°å¡«å……readerã€‚\nå› ä¸ºæ–°çš„Response.Body.Close()æ˜¯ no-opæ“ä½œï¼Œä¸ä¼šå»close ä¹‹å‰çš„Bodyï¼Œå¯èƒ½ä¼šé€ æˆèµ„æºæ³„æ¼ã€‚\n","date":"2019-04-17T21:39:31+08:00","image":"https://tab.deoops.com/posts/read-again/nopcloser_hu50a7be3079bf16d477751bec8b519605_85339_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/read-again/","title":"nopCloserå‡½æ•°"},{"content":"å®¢æˆ·åé¦ˆæˆ‘ä»¬çš„äº§å“æœ‰ä¸ªå¾ˆå¥‡æ€ªçš„é—®é¢˜ã€‚\næ·»åŠ å®Œå•†å“åï¼Œå¯ä»¥çœ‹åˆ°å•†å“ï¼Œä½†æ˜¯ä¸€åˆ·æ–°é¡µé¢ï¼Œåˆšæ‰æ·»åŠ çš„å•†å“å°±æ¶ˆå¤±å•¦ã€‚\nä»¥å‰æ²¡ç¢°åˆ°è¿‡ï¼Œä¸€ç›´éƒ½ç”¨çš„å¥½å¥½çš„ä¸ºä»€ä¹ˆä»Šå¤©å°±ä¸è¡Œäº†å‘¢ï¼Ÿ\nåˆ†æé—®é¢˜ æ—¢ç„¶ä¸€åˆ·æ–°å³æ¶ˆå¤±äº†ï¼Œå°±è¯æ˜æ²¡æœ‰å†™å…¥åˆ°æ•°æ®åº“ã€‚\næ²¡å†™å…¥åˆ°æ•°æ®åº“æ˜¯ä»€ä¹ˆåŸå› å‘¢ï¼Ÿ API ä¹Ÿæ²¡æœ‰æŠ¥é”™å‘€ï¼Ÿ\næ›´åŠ å¥‡æ€ªçš„æ˜¯ï¼Œæœ‰çš„é¡µé¢æœ‰è¿™ä¸ªé—®é¢˜ï¼Œæœ‰çš„æ²¡æœ‰è¿™ä¸ªé—®é¢˜ã€‚\nåç«¯çš„API æœ‰çš„æ˜¯golangå†™çš„ï¼Œæœ‰çš„æ˜¯Javaå†™çš„ã€‚\ngolang ormå¯¹mysql æ•°æ®åº“çš„å†™æ“ä½œå­˜åœ¨ä¸Šé¢è¯´çš„åˆ·æ–°å°±ä¸¢å¤±çš„é—®é¢˜ï¼ŒJavaçš„ormå¯¹mysqlçš„å†™æ“ä½œæ²¡æœ‰é—®é¢˜ã€‚\nè¿™æ˜¯ä¸ºä»€ä¹ˆå‘¢ï¼Ÿ\nDBA æ’æŸ¥äº†å¾ˆä¹…å‘ç°åŸæ¥æ˜¯å®¢æˆ·é‚£è¾¹çš„DBAæŠŠ mysqlçš„ session autocommitçš„é…ç½®å…³é—­å•¦ã€‚\nautocommit\nç¿»äº†ä¸‹æ–‡æ¡£ï¼Œç¡®å®šã€€Javaçš„ormæ¡†æ¶ä¼šå¿½ç•¥mysql serverçš„é…ç½®é»˜è®¤è‡ªå·±commitï¼Œgolangçš„ormåˆ™æ²¡æœ‰è¿™ä¸ªä¼˜åŒ–ï¼ˆä¹Ÿè®¸æ˜¯æœ‰ä½†æˆ‘ä»¬æ²¡æœ‰å¯ç”¨ï¼Ÿï¼‰ã€‚\næ‰€ä»¥ä¼šå‡ºç° javaçš„åç«¯æ˜¯æ­£å¸¸çš„ï¼Œgolangçš„åç«¯å†™ä¸äº†mysqlã€‚ è§£å†³æ–¹æ¡ˆ å®¢æˆ·DBAå¼€å¯autocommité…ç½®é¡¹åï¼Œäº§å“ä¸šåŠ¡æ¢å¤æ­£å¸¸ã€‚\n","date":"2019-04-12T10:37:04+08:00","image":"https://tab.deoops.com/posts/mysql-autocommit/Start-ad-hoc-Transaction_hu404d58f8b5b266b7abe493c2dcfba32a_66141_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/mysql-autocommit/","title":"Mysql Autocommité—®é¢˜"},{"content":"å¯¹macvlan ä¸ç†Ÿæ‚‰çš„åŒå­¦ï¼Œå¯ä»¥å…ˆçœ‹ä¸‹è¿™ç¯‡macvlan virtual networkç®€ä»‹\né»˜è®¤æƒ…å†µä¸‹Linux kernelä¼šé˜»æ­¢(drop)å®¿ä¸»æœºï¼ˆhost eth0ï¼‰è™šæ‹Ÿå‡ºæ¥çš„ macvlan networkï¼ˆbridge modeï¼‰ å’Œå®¿ä¸»æœºhost eth0ï¼‰ä¹‹é—´ç½‘ç»œæ•°æ®åŒ…ã€‚\nè°ƒè¯•äº†ä¸€æ®µæ—¶é—´åï¼Œæˆ‘ä»¬å‘ç°äº†å¯ä»¥é€šè¿‡è·¯ç”±è¡¨æ¥ç»•è¿‡è¿™ä¸ªé™åˆ¶ã€‚ å…·ä½“å®æ–½çš„æ–¹æ³•å¦‚ä¸‹ï¼š\nåœ¨host network namesapcesä¸‹æ–°å¢ ä¸€ä¸ªmacvlan deviceï¼Œç„¶åæ·»åŠ è·¯ç”±è§„åˆ™å³å¯ã€‚\né€šä¿¡çš„ä¸¤ä¸ªæ–¹å‘ç®€å•è§£é‡Šå¦‚ä¸‹ï¼š\neth0(host) -\u0026gt; pod(macvlan) å®¿ä¸»æœºhost eth0 é€šè¿‡break0 è®¾å¤‡ å’Œroute tableçš„è·¯ç”±è§„åˆ™ å¯ä»¥è®¿é—®åˆ°podï¼ˆåœ¨macvlanä¸­ï¼‰\nshellè°ƒè¯•è„šæœ¬å¦‚ä¸‹ï¼š\nip link add break0 link eth0 type macvlan mode bridge # NOTE: if use /24 CIDR will auto add a route rule # (100.75.30.0/24 dev break0 proto kernel scope link src 100.75.30.1) # which we don\u0026#39;t need ifconfig break0 100.75.30.7/32 up ip r a 100.75.30.71 dev break0 # 100.75.30.71 is a pod ip for test å› ä¸ºkuryræ˜¯ç”¨pythoné…ç½®ç½‘ç»œçš„ï¼Œæ‰€ä»¥ä¹Ÿæä¾›å¯¹åº”çš„pythonè„šæœ¬å¦‚ä¸‹ï¼š\nfrom pyroute2 import IPDB def _create_break0(self): with IPDB() as ipdb: i = ipdb.interfaces.get(IF_NAME) if i: i.up().commit() return i.index try: with ipdb.create( ifname=IF_NAME, kind=MACVLAN_KIND, link=ipdb.interfaces[self.parent], macvlan_mode=MACVLAN_MODE_BRIDGE, ) as i: i.add_ip(self.addr + \u0026#34;/32\u0026#34;) i.up() return i.index except ipdb_exceptions.CreateException as e: LOG.info(\u0026#34;Exception when create break0 device %s\u0026#34;, e) return 0 def _route_spec(self, ip): return {\u0026#34;dst\u0026#34;: ip + \u0026#34;/32\u0026#34;, \u0026#34;oif\u0026#34;: self.idx} def add_route(self, ip): spec = self._route_spec(ip) with IPDB() as ipdb: try: ipdb.routes.add(spec).commit() except (ipdb_exceptions.CommitException, link_exceptions.NetlinkError) as e: LOG.info(\u0026#34;Exception %s when add route table \u0026#34; + ip, e) pod -\u0026gt; eth0(host) å› ä¸ºæ˜¯2å±‚æ‰“é€šçš„ï¼Œæ‰€ä»¥åªè¦æœ‰mac_addrå°±å¯ä»¥è®¿é—®ï¼Œå’Œpodä»¥åŠå®¿ä¸»æœºeth0å…·ä½“çš„IP åœ°å€æ²¡å…³ç³»ã€‚\nåœ¨pod é‡Œé¢ä½¿ç”¨ arp -n å¯ä»¥çœ‹åˆ°ï¼Œhost IPï¼ˆ100.75.30.51ï¼‰ å’Œ break0 ï¼ˆ100.75.30.7ï¼‰ çš„IP å¯¹åº”çš„æ˜¯åŒä¸€ä¸ªmac addrï¼Œ éƒ½æ˜¯ break0çš„mac addrã€‚\nåœ¨ä¸»æœºä¸Šæ·»åŠ  è·¯ç”± ip r add 100.75.30.71 dev break0 ï¼ˆ100.75.30.71 æ˜¯pod çš„IPåœ°å€ï¼‰ï¼Œ\nç„¶ååœ¨ pod ä¸Šping ä¸‹ host IPï¼Œ å®¿ä¸»æœºeth0çš„hostIP å’Œ break0 çš„ä¸¤ä¸ªæ¡ç›®å°±ä¼šåœ¨podçš„arp è¡¨é‡Œæ˜¾ç¤ºå‡ºæ¥ã€‚\nå¦‚æœåªæ˜¯ä» host ping podï¼Œ åˆ™ podçš„arp è¡¨åªæ˜¾ç¤º break0 è¿™ä¸ªæ¡ç›®ã€‚\n","date":"2019-03-11T11:33:48+08:00","image":"https://tab.deoops.com/posts/macvlan-route/Macvlan-network-with-traffic-flows_hu61f53e93031289750fcd2806a2b8e722_10345_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/macvlan-route/","title":"Macvlanè·¯ç”±è§„åˆ™"},{"content":"This article offers a sample of basic Markdown syntax that can be used in Hugo content files, also it shows whether basic HTML elements are decorated with CSS in a Hugo theme.\nHeadings The following HTML \u0026lt;h1\u0026gt;â€”\u0026lt;h6\u0026gt; elements represent six levels of section headings. \u0026lt;h1\u0026gt; is the highest section level while \u0026lt;h6\u0026gt; is the lowest.\nH1 H2 H3 H4 H5 H6 Paragraph Xerum, quo qui aut unt expliquam qui dolut labo. Aque venitatiusda cum, voluptionse latur sitiae dolessi aut parist aut dollo enim qui voluptate ma dolestendit peritin re plis aut quas inctum laceat est volestemque commosa as cus endigna tectur, offic to cor sequas etum rerum idem sintibus eiur? Quianimin porecus evelectur, cum que nis nust voloribus ratem aut omnimi, sitatur? Quiatem. Nam, omnis sum am facea corem alique molestrunt et eos evelece arcillit ut aut eos eos nus, sin conecerem erum fuga. Ri oditatquam, ad quibus unda veliamenimin cusam et facea ipsamus es exerum sitate dolores editium rerore eost, temped molorro ratiae volorro te reribus dolorer sperchicium faceata tiustia prat.\nItatur? Quiatae cullecum rem ent aut odis in re eossequodi nonsequ idebis ne sapicia is sinveli squiatum, core et que aut hariosam ex eat.\nBlockquotes The blockquote element represents content that is quoted from another source, optionally with a citation which must be within a footer or cite element, and optionally with in-line changes such as annotations and abbreviations.\nBlockquote without attribution Tiam, ad mint andaepu dandae nostion secatur sequo quae. Note that you can use Markdown syntax within a blockquote.\nBlockquote with attribution Don\u0026rsquo;t communicate by sharing memory, share memory by communicating. â€” Rob Pike1\nTables Tables aren\u0026rsquo;t part of the core Markdown spec, but Hugo supports supports them out-of-the-box.\nName Age Bob 27 Alice 23 Inline Markdown within tables Italics Bold Code italics bold code Code Blocks Code block with backticks \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block indented with four spaces \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026quot;en\u0026quot;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026quot;utf-8\u0026quot;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; Code block with Hugo\u0026rsquo;s internal highlight shortcode \u0026lt;!doctype html\u0026gt; \u0026lt;html lang=\u0026#34;en\u0026#34;\u0026gt; \u0026lt;head\u0026gt; \u0026lt;meta charset=\u0026#34;utf-8\u0026#34;\u0026gt; \u0026lt;title\u0026gt;Example HTML5 Document\u0026lt;/title\u0026gt; \u0026lt;/head\u0026gt; \u0026lt;body\u0026gt; \u0026lt;p\u0026gt;Test\u0026lt;/p\u0026gt; \u0026lt;/body\u0026gt; \u0026lt;/html\u0026gt; List Types Ordered List First item Second item Third item Unordered List List item Another item And another item Nested list Fruit Apple Orange Banana Dairy Milk Cheese Other Elements â€” abbr, sub, sup, kbd, mark GIF is a bitmap image format.\nH2O\nXn + Yn = Zn\nPress CTRL+ALT+Delete to end the session.\nMost salamanders are nocturnal, and hunt for insects, worms, and other small creatures.\nThe above quote is excerpted from Rob Pike\u0026rsquo;s talk during Gopherfest, November 18, 2015.\u0026#160;\u0026#x21a9;\u0026#xfe0e;\n","date":"2019-03-11T00:00:00Z","image":"https://tab.deoops.com/posts/markdown-syntax/pawel-czerwinski-8uZPynIu-rQ-unsplash_hud7e36f7e20e71be184458283bdae4646_55974_120x120_fill_q75_box_smart1.jpg","permalink":"https://tab.deoops.com/posts/markdown-syntax/","title":"Markdownè¯­æ³•æŒ‡å—"},{"content":"Mathematical notation in a Hugo project can be enabled by using third party JavaScript libraries.\nIn this example we will be using KaTeX\nCreate a partial under /layouts/partials/math.html Within this partial reference the Auto-render Extension or host these scripts locally. Include the partial in your templates like so: {{ if or .Params.math .Site.Params.math }} {{ partial \u0026#34;math.html\u0026#34; . }} {{ end }} To enable KaTex globally set the parameter math to true in a project\u0026rsquo;s configuration To enable KaTex on a per page basis include the parameter math: true in content files Note: Use the online reference of Supported TeX Functions\nExamples Block math: $$ \\varphi = 1+\\frac{1} {1+\\frac{1} {1+\\frac{1} {1+\\cdots} } } $$\n","date":"2019-03-08T00:00:00Z","image":"https://tab.deoops.com/posts/math-typesetting/katex_hudffa2aa6f1e028c3b6c1c9b85d2c1242_33963_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/math-typesetting/","title":"æ•°å­¦ç¬¦å·KaTeX"},{"content":"æœ€è¿‘ç»™å®¢æˆ·è°ƒè¯• macvlan networkæ—¶ï¼Œé‡åˆ°äº†Linux kernel æŠ¥é”™ SIOCSIFFKAGS: Device or resource busy. æ— æ³•åˆ›å»ºç½‘ç»œdeviceã€‚\nç»“æœé•¿æ—¶é—´çš„debugåˆ†æï¼Œ å‘ç°é—®é¢˜æ˜¯é«˜å¹¶å‘å‹æµ‹ åˆ›å»ºå’Œé‡Šæ”¾macvlan deviceçš„æ—¶å€™ï¼Œè®¾å¤‡çš„mac addresså‡ºç°äº†é‡å¤ã€‚\npsï¼šè¿™ä¸ªé—®é¢˜åªå‡ºç°åœ¨ macvlannetwork çš„è®¾å¤‡ä¸­ã€‚\nå¯ä»¥ç”¨ä¸‹é¢çš„shellè„šæœ¬æ¥å¤ç°macvlan Device or resource busyçš„é”™è¯¯ï¼š\n#!/bin/bash function setup { i=$1 ip l a m$i address 00:40:2F:4D:5E:6F link eth0 type macvlan mode bridge ip netns add ns$i ip l set m$i netns ns$i sleep 1 ip netns exec ns$i ifconfig m$i 10.0.0.$((i+1))/24 up echo $? } echo cleaning up ip -all netns d echo creating netsnses for i in `seq $1`; do echo $i.... #setup $i \u0026amp; setup $i done å¦‚æœæŠŠ macvlan ç±»å‹æ”¹ä¸º dummy (ä¸Šé¢è„šæœ¬ç¬¬5è¡Œ type macvlan æ”¹ä¸º type dummy) ï¼Œå³ä½¿ MAC address é‡å¤ä¹Ÿä¸ä¼šå¼•å‘kernel æŠ¥é”™ã€‚\n","date":"2019-03-07T11:17:49+08:00","image":"https://tab.deoops.com/posts/macvlan-busy/maxresdefault_hu0c8b163f503b127644f51a05a3769b8d_73452_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/macvlan-busy/","title":"æ— æ³•åˆ›å»ºmacvlanè®¾å¤‡"},{"content":"PLEG ä¸ç†Ÿæ‚‰PLEG(Pod Lifecycle Event Generator)çš„åŒå­¦ï¼Œå¯ä»¥å…ˆçœ‹ä¸‹è¿™ç¯‡æ–‡ç« What is PLEG?ã€‚\nè¿™ç¯‡æ–‡ç« å¯¹plegæ˜¯ä»€ä¹ˆå’Œå¸¸è§çš„unhealthyé—®é¢˜æœ‰å¾ˆè¯¦ç»†çš„ä»‹ç»ã€‚\ncni å½“k8sçš„ cni æ’ä»¶æ€§èƒ½è¾ƒå·®ï¼Œnodeä¸Šçš„pod æ•°é‡è¾ƒå¤šï¼ˆå¤§äº 80ï¼‰çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¸¸å¸¸ä¼šé‡åˆ°PLEGå‡ºé”™çš„é—®é¢˜:\nPLEG is not healthy: pleg was last seen active 6m55.488150776s ago; threshold is 3m0s\nè°ƒè¯•kuryr cniçš„æ—¶å€™ï¼Œå‘ç°å½“openstack neutronæœåŠ¡å‹åŠ›æ¯”è¾ƒå¤§çš„æ—¶å€™ã€‚\ncniè¿™è¾¹ç”³è¯·å’Œé‡Šæ”¾ portçš„æ—¶å»¶ä¼šç›¸åº”çš„å¢åŠ ï¼Œå¯¼è‡´è™šæ‹Ÿæœºå¤§é‡å †ç§¯æ— æ•ˆçš„netnsï¼Œ\nç„¶åå°±ä¼šé‡åˆ°ç”±kueblet PLEG not healthyå¼•èµ·çš„docker hang ä½é—®é¢˜ã€‚\ndocker é‡å¯ docker å’Œ kueblet å¯ä»¥æš‚æ—¶è§£å†³PLEG unhealthyã€‚\nsystemctl restart docker systemctl restart kubelet # do NOT use `docker rm -vf`, # which will kill running containers docker rm -v `docker ps -qa` å»ºè®®åŒæ—¶ä¿®æ”¹ kubelet å¯åŠ¨å‚æ•° \u0026ndash;housekeeping-interval=30s\n","date":"2019-02-11T10:33:42+08:00","image":"https://tab.deoops.com/posts/pleg-unhealth/reboot_hu7bd3807bcb59ca2798687ce57e12416d_147938_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/pleg-unhealth/","title":"podç”Ÿå‘½å‘¨æœŸäº‹ä»¶ç”Ÿæˆå™¨"},{"content":"base é€šè¿‡ä¿®æ”¹ibaseå’Œobaseå¯ä»¥å®ç°å„ç§è¿›åˆ¶çš„è½¬åŒ–ï¼Œæ¯”å¦‚åè¿›åˆ¶å’ŒäºŒè¿›åˆ¶å’Œåå…­è¿›åˆ¶ä¹‹é—´çš„è½¬æ¢ï¼›\nIf you arenâ€™t familiar with conversion between decimal, binary, and hexadecimal formats, you can use a calculator utility such as bc or dc to convert between different radix representations. For example, in bc, you can run the command obase=2; 240 to print the number 240 in binary (base 2) form.\n#!/bin/bash â¯ bc -q ibase 10 obase 10 1+ 3 *3 10 obase=2 245 11110101 255 11111111 192 11000000 168 10101000 1 1 172 10101100 obase=16 34 22 172 AC ^D% syntax bc An arbitrary precision calculator language. More information: https://manned.org/bc. - Start bc in interactive mode using the standard math library: bc -l - Calculate the result of an expression: bc \u0026lt;\u0026lt;\u0026lt; \u0026#34;(1 + 2) * 2 ^ 2\u0026#34; - Calculate the result of an expression and force the number of decimal places to 10: bc \u0026lt;\u0026lt;\u0026lt; \u0026#34;scale=10; 5 / 3\u0026#34; - Calculate the result of an expression with sine and cosine using mathlib: bc -l \u0026lt;\u0026lt;\u0026lt; \u0026#34;s(1) + c(1)\u0026#34; ","date":"2018-10-22T18:16:25+08:00","image":"https://tab.deoops.com/posts/bc-language/calculator_hu7fe9f2c05e9afb6d43e72c846db96c5b_49911_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/bc-language/","title":"bcè¯­è¨€"},{"content":"ä»Šå¤©æµ‹è¯•ç»™æˆ‘åé¦ˆäº†ä¸€ä¸ªpodé—®é¢˜ï¼Œæµ‹è¯•ç»™å‡ºçš„ use case æè¿°å¦‚ä¸‹ï¼š\né…ç½®ä¸€ä¸ªnginxçš„webæœåŠ¡ï¼›\nåœ¨ç”Ÿå‘½å‘¨æœŸä¸­é€‰æ‹©httpåè®®ï¼Œç«¯å£é…ç½®80ï¼Œè·¯å¾„é…ç½®/errorpathï¼› æœåŠ¡ä¸­podèƒ½æ­£å¸¸å¯åŠ¨ï¼› é¢„æœŸåœ¨podçš„äº‹ä»¶ä¸­åº”è¯¥æœ‰ä¸€ä¸ªâ€œFailedPostStartHookâ€é”™è¯¯ä¿¡æ¯ã€‚ æµ‹è¯•äººå‘˜å‘ç°ï¼Œç¬¬4ç‚¹çš„é¢„æœŸæ²¡æœ‰è¾¾åˆ°ï¼Œpod æ­£å¸¸å¯åŠ¨äº†ï¼Œå´æ²¡æœ‰ FailedPostStarHookäº‹ä»¶å‡ºç°ã€‚ ç®€å•åˆ†æäº†ä¸€ä¸‹ï¼Œæˆ‘å‘ç°æ˜¯æµ‹è¯•äººå‘˜æŠŠpodçš„lifecycleå’Œ podçš„liveness/readiness è¯ºæ··æ·†äº†ï¼Œä»è€Œå†™å‡ºäº†é”™çš„test caseã€‚\nLifecycle handlers é¦–å…ˆå›é¡¾ä¸‹pod lifecycleçš„ä½œç”¨ï¼š\nkubectl explain pod.spec.containers.lifecycle.postStart RESOURCE: postStart \u0026lt;Object\u0026gt; DESCRIPTION: PostStart is called immediately after a container is created. If the handler fails, the container is terminated and restarted according to its restart policy. Other management of the container blocks until the hook completes. More info: https://kubernetes.io/docs/concepts/containers/ container-lifecycle-hooks/#container-hooks/ Handler defines a specific action that should be taken ç®€å•ç¿»è¯‘ä¸‹å°±æ˜¯è¯´ï¼Œ kubernetes æä¾›çš„pod startå’Œexitçš„ lifecycle hooks æ–¹ä¾¿å¼€å‘äººå‘˜hookedåˆ°\nä¸‹é¢ä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸï¼š\né€šçŸ¥å¤–éƒ¨ä¸–ç•Œpodå·²ç»å¯åŠ¨å®Œæˆ (postStart) podä¼˜é›…çš„é€€å‡º (preStop) psï¼šinit containerå¯ä»¥è§£å†³ä¾èµ–é—®é¢˜ï¼Œä¸è¦å’ŒpostStart hooksæ··æ·†äº†å“¦ã€‚\nä¸¾ä¾‹å­ å½“postStart hookçš„handlerå‘é€httpè¯·æ±‚åˆ°æŒ‡å®šçš„portå’Œpathæ—¶ï¼Œ å¦‚æœexit code ä¸ä¸º0æ—¶ï¼Œ\nä¼šè§¦å‘ FailedPostStartHook äº‹ä»¶ï¼Œç„¶åæ‰§è¡Œç”¨æˆ·ç»™å®šçš„hook/handlerã€‚\næ³¨æ„ï¼šlifecycle hooksä¸ä¼šç†ä¼šhttp è‡ªèº«çš„ response codeå¥åº·ä¸å¦ï¼Œ\nåªè¦handler exit code ä¸º0 podå°±ä¼šæ­£å¸¸å¯åŠ¨ï¼Œä¸è§¦å‘ä»»ä½•äº‹ä»¶ã€‚\nå¯ä»¥é…ç½®ä¸€ä¸ªé”™è¯¯çš„ç«¯å£ä½¿äº§ç”ŸFailedPostStartHook eventï¼š\napiVersion: v1 kind: Pod metadata: name: lifecycle90 spec: containers: - image: nginx:latest name: ng imagePullPolicy: Never readinessProbe: httpGet: port: 80 path: / lifecycle: postStart: httpGet: port: 80 ## change this to 8080 or 9090 to get the FailedPostStartHook event path: /teststart preStop: httpGet: port: 80 path: /teststop ç›¸å…³ä»£ç  talk is cheap.\nhandleråªå…³å¿ƒgetHTTPRespBody è·å–bodyçš„è¿‡ç¨‹æ˜¯å¦æœ‰erräº§ç”Ÿï¼Œ å¹¶ä¸å…³å¿ƒhttp respond codeã€‚\ngetHTTPRespBody Liveness/readiness probe pod liveness/readiness probe åˆ™ä¼šæ£€æŸ¥ http code æ˜¯å¦ä¸º 2xxæ¥ç¡®å®šprobe æ˜¯å¦æˆåŠŸã€‚\nç›¸å…³ä»£ç  talk is cheap.\nrunProbe è°ƒç”¨http.Probeï¼ŒDoHTTPProbeä¼šæ£€æŸ¥http response codeã€‚\ndoHTTPProbe ä»æºç å¯ä»¥æ¸…æ¥šçš„çœ‹åˆ°ï¼Œ lifecyce çš„handler åªå‘é€äº†http è¯·æ±‚ï¼Œå¹¶æ²¡æœ‰æ£€æŸ¥ http response code, liveness/readiness çš„prober åˆ™åšäº†http response code çš„æ£€æŸ¥ã€‚\n","date":"2018-09-18T23:33:25+08:00","image":"https://tab.deoops.com/posts/pod-life-live/hook_hu272076145e79d12d10d979ff0bdeaf35_73849_120x120_fill_box_smart1_1.gif","permalink":"https://tab.deoops.com/posts/pod-life-live/","title":"Podç”Ÿå‘½å‘¨æœŸå’ŒLivenessçš„åŒºåˆ«"},{"content":"ä¹‹å‰å†™äº†ä¸€ç¯‡post é€‚é…è…¾è®¯äº‘backend çš„æ–‡ç« ï¼Œä»ä»£ç çš„è§’åº¦ç®€å•è®°å½•äº†flannel vpc backendå®ç°è¿‡ç¨‹ã€‚\nè¿™ç¯‡æ–‡ç« æ˜¯å¯¹å‰é¢æ–‡ç« çš„è¡¥å……ï¼Œå…¨å±€é¸Ÿç°æç»˜äº†flannel vpc backendç½‘ç»œæ•°æ®åŒ…çš„æµåŠ¨è¿‡ç¨‹ã€‚\næ€»ä½“æ¥çœ‹vpc å’Œ host-gw æ¨¡å¼æ˜¯å¾ˆç±»ä¼¼çš„ï¼Œç†è§£host-gatewayæ¨¡å¼ å¯¹ç†è§£vpc æ¨¡å¼å¾ˆæœ‰å¸®åŠ©ã€‚\nhost gw host gateway æ¨¡å¼ï¼š\nhost-gw adds route table entries on hosts, so that host know how to traffic container network packets.\nThis works on L2, because it only concerns hosts, switches and containers. switches does not care IP and route, hosts know containers exists, and how to route to them, containers just send and receive data.\nIf hosts are at different networks, L3 is introduced, and routers are involved. routers have no idea that containers exists, and any containers packet will be dropped, making communication impossible.\nOf course, you can add route table entries on routers, but that is out of control flannel.\nL2 ä¸ºä»€ä¹ˆhost-gwæ¨¡å¼ä¸‹ï¼ŒäºŒå±‚ç½‘ç»œä¸€å®šè¦æ‰“é€š:\nstackoverflow ä¸Šé¢å·²ç»æœ‰å¾ˆå¥½çš„å›ç­”ï¼Œæˆ‘æ‘˜æŠ„è¿‡æ¥ï¼š\nhost-gw adds route table entires on each host. And the entries are as following:\nDestination Gateway Genmask Flags Metric Ref Use Iface 0.0.0.0 10.110.110.1 0.0.0.0 UG 100 0 0 eth0 10.100.14.0 10.110.110.21 255.255.255.0 UG 0 0 0 eth0 10.100.38.0 0.0.0.0 255.255.255.0 U 0 0 0 docker0 10.110.110.0 0.0.0.0 255.255.255.0 U 100 0 0 eth0 169.254.169.254 10.110.110.1 255.255.255.255 UGH 100 0 0 eth0 The most import item is the value of Gateway(10.110.110.21).\nThe route table will change the destination mac address to the mac_address of node(10.110.110.21) which is connected L2 directly to 10.110.110.22(current node).\nIf not L2 connected, the packet can not be delivered to nodes(next-hop)\nvpc æ•°æ®åŒ… vpc backendæ¨¡å¼ä¸‹ç½‘ç»œæ•°æ®åŒ…çš„æµåŠ¨è¿‡ç¨‹å¦‚ä¸‹ï¼š\nFlanneld åœ¨æ¯ä¸ªnode èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ª cni0 çš„ç½‘æ¡¥bridgeè®¾å¤‡ï¼Œnodeé‡Œé¢çš„podä¹‹é—´çš„é€šä¿¡èµ°cni0ç½‘æ¡¥ï¼› Node å’Œ åœ¨æœ¬æœºä¸Šçš„pod é€šä¿¡é€šè¿‡nodeçš„route table è½¬å‘åˆ°cni0ï¼› vpc backendé€‚é…å™¨è°ƒç”¨vpc sdkåœ¨vpcç½‘ç»œä¸­ç»´æŠ¤äº†ä¸€ä¸ªvpc route tableï¼› Node å’Œå…¶å®ƒnodeé‡Œé¢çš„podé€šä¿¡ï¼Œæ˜¯å…ˆé€šè¿‡ vpc route table æ‰¾åˆ° pod å­ç½‘ æ‰€å¯¹åº”nodeï¼Œç„¶åå†é€šè¿‡è¿™ä¸ªnodeæŠŠç½‘ç»œæµé‡è½¬å‘åˆ°podï¼› è·¨node çš„pod é€šä¿¡é€šè¿‡è¿™ä¸ªroute tableæ‰¾åˆ°podç½‘æ®µæ‰€åœ¨çš„nodeï¼Œç„¶åè½½é€šè¿‡ node èŠ‚ç‚¹ä¸Šçš„route table è½¬å‘åˆ°å¯¹åº”node ä¸Šcni0è®¾å¤‡ä¸Šç„¶åæ‰¾åˆ°å¯¹åº”çš„podï¼› VPCä¸Šçš„æ™®é€švm(å³ï¼Œè¯¥vmä¸æ˜¯k8s node)å’Œ k8s podä¹‹é—´çš„é€šä¿¡ä¸ ä¸Šé¢ç¬¬4ï¼Œ5ç‚¹ é€šä¿¡æ˜¯ä¸€æ ·çš„ã€‚ L2åŒºåˆ« host-gw mode å› ä¸ºæ˜¯åœ¨node èŠ‚ç‚¹ä¸Š æ·»åŠ çš„ route è§„åˆ™ï¼Œæ‰€ä»¥æ‰€æœ‰çš„èŠ‚ç‚¹è¦äºŒå±‚switchæ‰“é€šï¼Œå¦åˆ™ ä¸‹ä¸€è·³(next-hop)è·³ä¸è¿‡å»ï¼Œæ²¡äººå¸®å¿™è½¬å‘äºŒå±‚æ•°æ®åŒ…(frame)ã€‚\nvpc backend mode å› ä¸ºæ˜¯åœ¨äº‘å‚å•†æä¾›çš„å¤–éƒ¨routerä¸Šæ·»åŠ çš„ route è§„åˆ™ï¼Œå¯¹vmåšåˆ°äº†æ— æ„ŸçŸ¥ï¼Œæ‰€ä»¥ vmä¹‹é—´æ— éœ€æ‰“é€š äºŒå±‚ switchã€‚\n","date":"2018-09-11T10:07:04+08:00","image":"https://tab.deoops.com/posts/flannel-vpc/flannel-vpc-mode_hu2599b793831e4d2e2f689a3c7eb97256_31225_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/flannel-vpc/","title":"VPCæ¨¡å¼"},{"content":"æœ€è¿‘å¼€å‘çš„é‡åˆ°ä¸€ä¸ªéœ€æ±‚æ˜¯åœ¨åˆ¤æ–­ ä¸¤ä¸ªç›®å½•æ˜¯å¦ç›¸äº’åŒ…å«ã€‚\næƒ³ç€ç”¨æ­£åˆ™è¡¨è¾¾å¼æˆ–è€…é€’å½’å»è§£å†³ï¼Œæ£é¼“ä¸€æ®µæ—¶é—´åå‘ç°æ€»æœ‰äº›edge case ä¸èƒ½coveråˆ°ï¼Œ\nåæ¥å‘ç°ç”¨ python çš„pathlib å¯ä»¥å¾ˆå¥½çš„è§£å†³ã€‚\nfrom pathlib import Path def overlapping(a, b): if a == b: return True a_path = Path(a) b_path = Path(b) return a_path in b_path.parents or b_path in a_path.parents ","date":"2018-09-10T21:20:33+08:00","image":"https://tab.deoops.com/posts/path-overlap/Half-overlapping-paths-of-AB_hu442aa320a58d7e682a982b572c7211d3_21904_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/path-overlap/","title":"å­ç›®å½•çˆ¶ç›®å½•"},{"content":"æœ‰ä¸€ä¸ªapp è·‘åœ¨podé‡Œé¢ï¼Œè¿™ä¸ªapp é»˜è®¤ä¼šè¾“å‡ºè‡ªå·±çš„è¿è¡Œæ—¥å¿—åˆ°syslogdï¼Œ\nè¯·é—®å¦‚ä½•è®©hostä¸»æœºä¸Šè¿è¡Œçš„syslogdæ—¥å¿—æ”¶é›†å™¨æ”¶é›†åˆ°ä¸Šé¢appè¾“å‡ºçš„è¿è¡Œæ—¥å¿—å‘¢ï¼Ÿ\n/dev/log ç­”æ¡ˆï¼šæŠŠ ä¸»æœºçš„ /dev/logç›®å½•æŒ‚è½½åˆ° pod é‡Œé¢çš„ /dev/logå³å¯ã€‚\nSome of these messages need to be brought to a system administratorâ€™s attention immediately. And it may not be just any system administrator â€“ there may be a particular system administrator who deals with a particular kind of message. Other messages just need to be recorded for future reference if there is a problem. Still others may need to have information extracted from them by an automated process that generates monthly reports.\nTo deal with these messages, most Unix systems have a facility called \u0026ldquo;Syslog.\u0026rdquo; It is generally based on a daemon called â€œSyslogdâ€ Syslogd listens for messages on a Unix domain socket named /dev/log.\nå‚è€ƒsyslog overview\nmountPath å…·ä½“æ¥è¯´å°±åœ¨ pod çš„yaml å®šä¹‰ä¸­ï¼Œæ·»åŠ  hostPath volumeï¼Œç„¶åæŒ‚è½½åˆ°podé‡Œï¼š\n- name: syslog mountPath: /dev/log volumes: - name: syslog hostPath: path: /dev/log åœ¨client-goç­‰sdkä¸­è¿™æ ·å†™å³å¯ï¼š\napiv1.Volume{ Name: \u0026#34;syslog\u0026#34;, VolumeSource: apiv1.VolumeSource{ HostPath: \u0026amp;apiv1.HostPathVolumeSource{ Path: \u0026#34;/dev/log\u0026#34;, }, }, }, }, Containers: []apiv1.Container{ apiv1.Container{ apiv1.VolumeMount{ Name: \u0026#34;syslog\u0026#34;, MountPath: \u0026#34;/dev/log\u0026#34;, }, }, }, ","date":"2018-09-03T20:46:00+08:00","image":"https://tab.deoops.com/posts/pod-syslog/local-domain-socket_huc790e5f02f9d94a1836f453997902818_137334_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/pod-syslog/","title":"æ”¶é›†å®¹å™¨syslog"},{"content":"ä¸€èˆ¬æ¥è¯´ï¼Œkubernetes çš„podæ˜¯ä¸åœ¨master èŠ‚ç‚¹ä¸Šè¿è¡Œçš„ã€‚\nå¦‚æœè¦æ±‚pod å¿…é¡»è¢«è°ƒåº¦åˆ°master èŠ‚ç‚¹ä¸Šè¿è¡Œï¼Œå¯ä»¥ä¿®æ”¹pod çš„ toleration å’Œ affinityã€‚\ntolerationå’Œaffinityï¼š åœ¨podåŠ ä¸Štolerationå’Œaffinityé…ç½®\nyaml spec: tolerations: - key: \u0026#34;node-role.kubernetes.io/master\u0026#34; operator: \u0026#34;Equal\u0026#34; value: \u0026#34;true\u0026#34; effect: \u0026#34;NoSchedule\u0026#34; affinity: nodeAffinity: requiredDuringSchedulingIgnoredDuringExecution: nodeSelectorTerms: - matchExpressions: - key: node-role.kubernetes.io/master operator: Exists go + Operator: apiv1.TolerationOpExists, + Effect: apiv1.TaintEffectNoSchedule, + }, + }, + Affinity: \u0026amp;apiv1.Affinity{ + NodeAffinity: \u0026amp;apiv1.NodeAffinity{ + RequiredDuringSchedulingIgnoredDuringExecution: \u0026amp;apiv1.NodeSelector{ + NodeSelectorTerms: []apiv1.NodeSelectorTerm{ + apiv1.NodeSelectorTerm{ + MatchExpressions: []apiv1.NodeSelectorRequirement{ + apiv1.NodeSelectorRequirement{ + Key: \u0026#34;node-role.kubernetes.io/master\u0026#34;, + Operator: apiv1.NodeSelectorOpExists, + }, + }, + }, + }, + }, ","date":"2018-08-18T20:57:52+08:00","image":"https://tab.deoops.com/posts/master-affinity/toleration_hu89d476b51a49cae5cfc73cf97d1c4cfc_30538_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://tab.deoops.com/posts/master-affinity/","title":"è°ƒåº¦åˆ°masterèŠ‚ç‚¹"},{"content":"å®¢æˆ·éœ€è¦æŠŠkubernetes apiserver/etcd/kubelet/kubectl ç­‰æ‰€æœ‰çš„è¯ä¹¦æœ‰æ•ˆæœŸä¿®æ”¹ä¸º100å¹´ã€‚\nå¾ˆæ˜æ˜¾è¿™æ˜¯ä¸€ä¸ªä¸åˆç†çš„éœ€æ±‚ï¼Œä¸è¿‡å®¢æˆ·è¯´ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆã€‚\näºæ˜¯ç»å‡ å¤©çš„è°ƒè¯•æœ‰äº†ä¸‹é¢çš„è¿™ä¸ª Makefileæ‰¹é‡ç”Ÿæˆæ‰€æœ‰(FILESå˜é‡)çš„è¯ä¹¦ã€‚\nå¦‚æœå¯¹makefileçš„è¯­æ³•ä¸ç†Ÿæ‚‰ï¼Œå¯ä»¥çœ‹çœ‹Makefileç®€ä»‹\nmakefile FILES = ca.crt ca.key sa.key sa.pub front-proxy-ca.crt front-proxy-ca.key etcd_ca.crt etcd_ca.key CONFS = admin.conf controller-manager.conf kubelet.conf scheduler.conf SELFS = kubelet.crt.self kubelet.crt.key #KEYs = ca.key front-proxy-ca.key etcd_ca.key sa.key #CAs = ca.crt front-proxy-ca.crt etcd_ca.crt #PUBs = sa.pub ## kubernetes will sign certificate ## automatically, so below ## csr/cert is for test purpose #CSR = apiserver.csr apiserver-kubelet-client.csr CERT_KEYS = apiserver.key apiserver-kubelet-client.key front-proxy-client.key CERTS = apiserver.cert apiserver-kubelet-client.cert front-proxy-client.cert # openssl genrsa -des3 -out rootCA.key 4096 CMD_CREATE_PRIVATE_KEY = openssl genrsa -out $@ 2048 CMD_CREATE_PUBLIC_KEY = openssl rsa -in $\u0026lt; -pubout -out $@ # openssl req -x509 -new -nodes -key rootCA.key -sha256 -days 1024 -out rootCA.crt CMD_CREATE_CA = openssl req -x509 -new -nodes -key $\u0026lt; -sha256 -days 36500 -out $@ -subj \u0026#39;/CN=kubernetes\u0026#39; # openssl req -new -key mydomain.com.key -out mydomain.com.csr CMD_CREATE_CSR = openssl req -new -key $\u0026lt; -out $@ -config $(word 2,$^) # openssl x509 -req -in mydomain.com.csr -CA rootCA.crt -CAkey rootCA.key -CAcreateserial -out mydomain.com.crt -days 500 -sha256 CMD_SIGN_CERT = openssl x509 -req -in $\u0026lt; -CA $(word 2,$^) -CAkey $(word 3,$^) -CAcreateserial -out $@ -days 36500 -sha256 -extfile $(word 4,$^) -extensions my_extensions # generata self sign certificate CMD_CREATE_CERT = openssl req -x509 -new -nodes -key $\u0026lt; -sha256 -days 36500 -out $@ -subj \u0026#39;/CN=nodeXXX@timestamp1531732165\u0026#39; CMD_MSG = @echo generating $@ ... MASTER_IP := 192.168.1.200 ## REMEMBER CHANGE ME .PHONY: all clean check self_sign rename all: ${FILES} ${CONFS} ${CERT_KEYS} ${CERTS} clean: -rm ${FILES} ${CONFS} ${CERT_KEYS} ${CERTS} self_sign: ${SELFS} check: for f in *.cert *.crt; do echo $$f; openssl x509 -noout -dates -in $$f; echo \u0026#39;===\u0026#39;; done rename: for f in *.cert; do echo $$f; mv $$f $${f%.*}.crt; echo \u0026#39;=====\u0026#39;; done %.key: ${CMD_MSG} ${CMD_CREATE_PRIVATE_KEY} %.pub: %.key ${CMD_MSG} ${CMD_CREATE_PUBLIC_KEY} %.self: %.key ${CMD_MSG} ${CMD_CREATE_CERT} %.crt: %.key ${CMD_MSG} ${CMD_CREATE_CA} %.csr: %.key %.csr.cnf ${CMD_MSG} ${CMD_CREATE_CSR} %.cert: %.csr ca.crt ca.key %.csr.cnf #%.cert: %.csr front-proxy-ca.crt front-proxy-ca.key %.csr.cnf ${CMD_MSG} ${CMD_SIGN_CERT} %.conf: %.cert %-conf.sh sh $(word 2,$^) ${MASTER_IP} ä¸Šé¢çš„Makefileè¿˜éœ€è¦å¯¹åº”çš„csrå’Œ conffilesã€‚\nadmin.csr.cnf cat \u0026lt;\u0026lt;EOF \u0026gt; admin.conf apiVersion: v1 clusters: - cluster: certificate-authority-data: $(cat ca.crt | base64 | tr -d \u0026#39;\\n\u0026#39;) server: https://$1:6443 name: kubernetes contexts: - context: cluster: kubernetes user: kubernetes-admin name: kubernetes-admin@kubernetes current-context: kubernetes-admin@kubernetes kind: Config preferences: {} users: - name: kubernetes-admin user: client-certificate-data: $(cat admin.cert | base64 | tr -d \u0026#39;\\n\u0026#39;) client-key-data: $(cat admin.key | base64 | tr -d \u0026#39;\\n\u0026#39;) EOF admin-conf.sh [ req ] prompt = no utf8 = yes distinguished_name = my_req_distinguished_name req_extensions = my_extensions [ my_req_distinguished_name ] C = dn ST = lol L = dota O = system:masters # change this CN = kubernetes-admin # change this [ my_extensions ] basicConstraints=CA:FALSE subjectKeyIdentifier = hash # subjectAltName=@my_subject_alt_names # # [ my_subject_alt_names ] # DNS.1 = *.oats.org # DNS.2 = *.oats.net # DNS.3 = *.oats.in # DNS.4 = oats.org # DNS.5 = oats.net # DNS.6 = oats.in kubeadm å®‰è£…k8sé›†ç¾¤çš„æ—¶å€™ï¼Œä½¿ç”¨kubeadm phase certså‘½ä»¤æ›´æ–°è¯ä¹¦å³å¯ï¼š\nkubeadm alpha phase certs all --config kubeadm-config.yaml kubeadm alpha phase kubelet config write-to-disk --config kubeadm-config.yaml kubeadm alpha phase kubelet write-env-file --config kubeadm-config.yaml kubeadm alpha phase kubeconfig kubelet --config kubeadm-config.yaml kubeadm alpha phase kubeconfig all --config kubeadm-config.yaml ## --experimental-cluster-signing-duration=187600h0m0s kubeadm alpha phase controlplane all --config kubeadm-config.yaml systemctl start kubelet kubeadm alpha phase mark-master --config kubeadm-config.yaml ## kubeadm join 172.16.0.5:6443 --token xvrmo8.lk0ec7ifzn8mdflu2 --discovery-token-unsafe-skip-ca-verification ","date":"2018-08-10T20:27:10+08:00","image":"https://tab.deoops.com/posts/k8s-certs/k8s_hucdb5e2014b72ce09271c5c17f97648be_22078_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://tab.deoops.com/posts/k8s-certs/","title":"æ›¿æ¢k8sæ‰€æœ‰è¯ä¹¦"},{"content":"update: flannelä»v0.14.0(2021/05/27)å¼€å§‹å·²ç»æ”¯æŒè…¾è®¯äº‘çš„vpc backendäº†ã€‚\nå®¢æˆ·éœ€è¦åœ¨è…¾è®¯äº‘ä¸Šéƒ¨ç½²kubernetesé›†ç¾¤è€Œä¸”é€‰ç”¨çš„ç½‘ç»œæ’ä»¶æ˜¯flannelï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦ä¸ºflannel æ·»åŠ  è…¾è®¯äº‘ vpc çš„ backend é€‚é…ã€‚\næˆ‘å¤§è‡´çœ‹äº†ä¸‹githubä¸Š é˜¿é‡Œäº‘ å’Œ aws é€‚é…å™¨çš„ä»£ç ï¼Œå‘ç°å¹¶ä¸å¤æ‚ï¼Œflannelå·²ç»æŠŠæ‰€æœ‰çš„dirty work flannel éƒ½åŒ…è£…å¥½APIäº†ã€‚\nç¨ç¨äº†è§£ä¸€äº›ç½‘ç»œè®¾å¤‡æˆ–è€…Linuxç½‘ç»œç›¸å…³çš„å‘½ä»¤ï¼ˆæ¯”å¦‚route tableï¼‰å°±å¯ä»¥æ¯”è¾ƒè½»æ¾çš„å†™å‡ºflannelé€‚é…å™¨ã€‚\næ•´ä¸ªé€‚é…è¿‡ç¨‹å¯ä»¥åˆ†ä¸ºä¸‹é¢4ä¸ªæ­¥éª¤ï¼š\nå®šä¹‰ TxVpcBackend struct, å®ç°New func åœ¨init funcä¸­æ³¨å†Œ; è°ƒç”¨è…¾è®¯äº‘SDK å®ç° RegisterNetwork method; æœ€ååœ¨main.goä¸­ æ³¨å†Œè…¾è®¯äº‘backend å³å¯ï¼› éƒ¨ç½²deployment çš„æ—¶å€™é€‰æ‹© tx-vpc çš„backend å³å¯. ä¸‹é¢ç»“åˆéƒ¨åˆ†ä»£ç å…·ä½“çš„è¯´ä¸‹å®ç°è¿‡ç¨‹ï¼š\nå¼€å‘ å®šä¹‰ç»“æ„ä½“ åªæ˜¯æ­ä¸€ä¸ªæ¶å­ï¼Œæ–¹ä¾¿æ³¨å†Œåˆ°flannel backendä¸Šï¼Œä¸å«å…·ä½“é€‚é…å™¨çš„é€»è¾‘ï¼š\ntype TxVpcBackend struct { sm subnet.Manager extIface *backend.ExternalInterface } func New(sm subnet.Manager, extIface *backend.ExternalInterface) (backend.Backend, error) { be := TxVpcBackend{ sm: sm, extIface: extIface, } return \u0026amp;be, nil } func init() { backend.Register(\u0026#34;tx-vpc\u0026#34;, New) } å®ç°RegisterNetwork func (be *TxVpcBackend) RegisterNetwork(ctx context.Context, config *subnet.Config) (backend.Network, error) { // 1. Parse our configuration cfg := struct { AccessKeyID string AccessKeySecret string }{} if len(config.Backend) \u0026gt; 0 { if err := json.Unmarshal(config.Backend, \u0026amp;cfg); err != nil { return nil, fmt.Errorf(\u0026#34;error decoding VPC backend config: %v\u0026#34;, err) } } log.Infof(\u0026#34;Unmarshal Configure : %v\\n\u0026#34;, cfg) // 2. Acquire the lease form subnet manager attrs := subnet.LeaseAttrs{ PublicIP: ip.FromIP(be.extIface.ExtAddr), } l, err := be.sm.AcquireLease(ctx, \u0026amp;attrs) switch err { case nil: case context.Canceled, context.DeadlineExceeded: return nil, err default: return nil, fmt.Errorf(\u0026#34;failed to acquire lease: %v\u0026#34;, err) } if cfg.AccessKeyID == \u0026#34;\u0026#34; || cfg.AccessKeySecret == \u0026#34;\u0026#34; { cfg.AccessKeyID = os.Getenv(\u0026#34;ACCESS_KEY_ID\u0026#34;) cfg.AccessKeySecret = os.Getenv(\u0026#34;ACCESS_KEY_SECRET\u0026#34;) if cfg.AccessKeyID == \u0026#34;\u0026#34; || cfg.AccessKeySecret == \u0026#34;\u0026#34; { return nil, fmt.Errorf(\u0026#34;ACCESS_KEY_ID and ACCESS_KEY_SECRET must be provided! \u0026#34;) } } err = createRoute(l.Subnet.String(), cfg.AccessKeyID, cfg.AccessKeySecret) if err != nil { log.Errorf(\u0026#34;Error DescribeVRouters: %s .\\n\u0026#34;, err.Error()) } return \u0026amp;backend.SimpleNetwork{ SubnetLease: l, ExtIface: be.extIface, }, nil } ä¸»è¦é€»è¾‘æ˜¯ ä½¿ç”¨è…¾è®¯äº‘çš„SDK åœ¨vpc ç½‘ç»œä¸‹åˆ›å»ºroute , å³ä¸Šé¢çš„\nerr = createRoute(l.Subnet.String(), cfg.AccessKeyID, cfg.AccessKeySecret\nå› ä¸ºcreateRoute Funcå’Œ è…¾è®¯äº‘sdk çš„å®ç°å¼ºç›¸å…³ï¼Œæ‰€ä»¥æˆ‘å°±ä¸å±•å¼€äº†ï¼Œä¸ªäººå¯ä»¥å»githubä¸ŠæŸ¥çœ‹è…¾è®¯äº‘çš„sdkæ–‡æ¡£ã€‚\ntargetRout æœ€åtargetRoute åº”è¯¥æ˜¯è¿™ä¸ªæ ·å­çš„ï¼š\ntargetRoute := \u0026amp;vpc.Route{ DestinationCidrBlock: common.StringPtr(dest), GatewayType: common.StringPtr(\u0026#34;NORMAL_CVM\u0026#34;), GatewayId: common.StringPtr(nextHop), RouteDescription: common.StringPtr(desc + \u0026#34; flannel podCIDR\u0026#34;), } registry åœ¨main.goæ–‡ä»¶ä¸­åŠ å¦‚import pkgå³å¯æ³¨å†Œè…¾è®¯äº‘é€‚é…å™¨ï¼š\n_ \u0026#34;github.com/coreos/flannel/backend/txvpc\u0026#34; éƒ¨ç½² ä¿®æ”¹deploymnet ä¿®æ”¹å®˜æ–¹çš„deployment yaml æ–‡ä»¶ä¸­ net-conf.jsonå­—æ®µï¼Œ æŠŠ\u0026quot;Type\u0026quot;: æ”¹æˆtx-vpcå³å¯ï¼š\nnet-conf.json: | { \u0026#34;Network\u0026#34;: \u0026#34;10.244.0.0/16\u0026#34;, \u0026#34;Backend\u0026#34;: { \u0026#34;Type\u0026#34;: \u0026#34;tx-vpc\u0026#34; } æ–°å»ºRAMè´¦æˆ· åœ¨è…¾è®¯äº‘çš„dashboardæ–°å»º RAM å¸æˆ·ï¼Œèµ‹äºˆvpcç½‘ç»œè¯»å†™æƒé™ã€‚\nè®°ä¸‹ AccessKeyID å’Œ AccessKeySecret;\nä¿®æ”¹deploymentä¸­å¡«å†™deploy.yamlä¸ºä¸Šä¸€æ­¥ä¸­è®°å½•çš„ AccessKeyID å’Œ AccessKeySecretå€¼ã€‚\næœ€åï¼Œç”¨kubectl éƒ¨ç½²flannleå³å¯ï¼š\nkubectl create -f deploy.yaml ","date":"2018-08-08T18:59:00+08:00","image":"https://tab.deoops.com/posts/tx-flannel/flannel-vpc_hue54105a7a72eb92cf36c8a151067b0c3_60319_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/tx-flannel/","title":"flannel vpc"},{"content":"ç½‘ç»œä¸Šå…³äº makefileçš„æ•™ç¨‹æœ‰å¾ˆå¤šï¼Œç”±äºæˆ‘æ—¥å¸¸ä¸æ˜¯å†™c/c++çš„ï¼Œ ä¸å¸¸ä½¿ç”¨makefileï¼Œéœ€è¦ç”¨çš„æ—¶å€™æ€»æ˜¯è¦é‡æ–°Googleæœç´¢makefileçš„è¯­æ³•ã€‚\nç´¢æ€§æ•´ç†å‡ºæ¥è¿™ç¯‡ makefile æ•™ç¨‹ï¼Œå¤‡å¿˜ã€‚\næ•™ç¨‹ Makefileç®€æ˜“æ•™ç¨‹ï¼š\nåŸºæœ¬è¯­æ³• target: dependency1 dependency2 ... [TAB] action1 [TAB] action2 ... ä¸‹é¢çš„makefileæ‘˜æŠ„è‡ªGNU Make in Detail for Beginnersï¼Œè¿™ç¯‡å…¥é—¨æ–‡ç« æŠŠmakefileçš„è¯­æ³•å†™çš„éå¸¸é€å½»ã€‚\næ¨èå¤§å®¶å¤šè¯»å‡ é\n##### makefile for compile C programs # Compiler to use CC = gcc # -g for debug, -O2 for optimise and -Wall additonal messages OPTIONS = -O2 -g -Wall # Directory for header file INCLUDES = -I . # List of objects to be build OBJS = main.o module.o .PHONY: all list clean all: ${OBJS} @echo \u0026#34;Building...\u0026#34; # print \u0026#34;Building...\u0026#34; message ${CC} ${OPTIONS} ${INCLUDES} ${OBJS} -o main_bin %.o: %.c # \u0026#39;%\u0026#39; pattern wildcard matching ${CC} ${OPTIONS} ${INCLUDES} -c %.c list: @echo $(shell ls) # print output of command `ls` clean: @echo Cleaning up... -rm -rf *.0 # \u0026#39;-\u0026#39; prefix for ignoring errors and continue execution -rm main_bin #### makefile for img manage FILES = $(shell find imgs -type f -iname \u0026#34;*.jpg\u0026#34; | sed \u0026#39;s/imgs/thumb/g\u0026#39;) CONVERT_CMD = convert -resize \u0026#34;100x100\u0026#34; $\u0026lt; $@ MSG = \u0026#34;\\nUpdating thumbnail\u0026#34; $@ all_thumb: ${FILES} thumb/%.jpg: imgs/%.jpg ${MSG} ${CONVERT_CMD} thumb/%.JPG: imgs/%.JPG ${MSG} ${CONVERT_CMD} clean_all: @echo Cleaning up files... -rm -rf thumb/*.{jpg,JPG} å˜é‡ èµ‹å€¼ Simple assignment (:=) We can assign values (RHS) to variables (LHS) with this operator, for example: CC := gcc. With simple assignment (:=), the value is expanded and stored to all occurrences in the Makefile when its first definition is found.\nFor example, when a CC := ${GCC} ${FLAGS} simple definition is first encountered, CC is set to gcc -W and wherever ${CC} occurs in actions, it is replaced with gcc -W.\nRecursive assignment (=) Recursive assignment (the operator used is =) involves variables and values that are not evaluated immediately on encountering their definition, but are re-evaluated every time they are encountered in an action that is being executed. As an example, say we have:\nGCC = gcc FLAGS = -W With the above lines, CC = ${GCC} {FLAGS} will be converted to gcc -W only when an action like ${CC} file.c is executed somewhere in the Makefile. With recursive assignation, if the GCC variable is changed later (for example, GCC = c++), then when it is next encountered in an action line that is being updated, it will be re-evaluated, and the new value will be used; ${CC} will now expand to c++ -W.\nWe will also have an interesting and useful application further in the article, where this feature is used to deal with varying cases of filename extensions of image files.\nConditional assignment (?=) Conditional assignment statements assign the given value to the variable only if the variable does not yet have a value.\nAppending (+=) The appending operation appends texts to an existing variable. For example:\nCC = gcc CC += -W CC now holds the value gcc -W.\nactionå†…ç½®å˜é‡ The % character can be used for wildcard pattern-matching, to provide generic targets. For example:\n%.o: %.c [TAB] actions When % appears in the dependency list, it is replaced with the same string that was used to perform substitution in the target. Inside actions, we can use special variables for matching filenames. Some of them are:\n$@ (full target name of the current target) $? (returns the dependencies that are newer than the current target) $* (returns the text that corresponds to % in the target) $\u0026lt; (name of the first dependency) dep.o: dep.src config1.cfg config2.cfg @echo the second preq is $(word 2,$^), the third is $(word 3,$^) $^ (name of all the dependencies with space as the delimiter) Instead of writing each of the file names in the actions and the target, we can use shorthand notations based on the above, to write more generic Makefiles. action modifiers We can change the behaviour of the actions we use by prefixing certain action modifiers to the actions. Two important action modifiers are:\n- (minus) Prefixing - to any action causes any error that occurs while executing the action to be ignored.\nBy default, execution of a Makefile stops when any command returns a non-zero (error) value. If an error occurs, a message is printed, with the status code of the command, and noting that the error has been ignored. Looking at the Makefile from our sample project: in the clean target, the rm target_bin command will produce an error if that file does not exist (this could happen if the project had never been compiled, or if make clean is run twice consecutively). To handle this, we can prefix the rm command with a minus, to ignore errors: -rm target_bin.\n@ (at) @ suppresses the standard print-action-to-standard-output behaviour of make, for the action/command that is prefixed with @. For example, to echo a custom message to standard output, we want only the output of the echo command, and donâ€™t want to print the echo command line itself. @echo Message will print â€œMessageâ€ without the echo command line being printed.\n.PHONY Use PHONY to avoid file-target name conflicts. Remember the all and clean special targets in our Makefile? What happens when the project directory has files with the names all or clean? The conflicts will cause errors. Use the .PHONY directive to specify which targets are not to be treated as files â€” for example: .PHONY: all clean.\nå…¶å®ƒ dry run Simulating make without actual execution. At times, maybe when developing the Makefile, we may want to trace the make execution (and view the logged messages) without actually running the actions, which is time consuming. Simply use make -n to do a â€œdry runâ€.\nshell Using the shell command output in a variable Sometimes we need to use the output from one command/action in other places in the Makefile â€” for example, checking versions/locations of installed libraries, or other files required for compilation. We can obtain the shell output using the shell command. For example, to return a list of files in the current directory into a variable, we would run: LS_OUT = $(shell ls).\nNested Makefiles Nested Makefiles (which are Makefiles in one or more subdirectories that are also executed by running the make command in the parent directory) can be useful for building smaller projects as part of a larger project. To do this, we set up a target whose action changes directory to the subdirectory, and invokes make again:\nsubtargets: cd subdirectory \u0026amp;\u0026amp; $(MAKE) Instead of running the make command, we used $(MAKE), an environment variable, to provide flexibility to include arguments. For example, if you were doing a â€œdry runâ€ invocation: if we used the make command directly for the subdirectory, the simulation option (-n) would not be passed, and the commands in the subdirectoryâ€™s Makefile would actually be executed. To enable use of the -n argument, use the $(MAKE) variable.\nå®è·µ åœ¨golangé¡¹ç›®é‡Œçš„å®è·µï¼š\n# Include variables from .envrc files -include .envrc # ==================================================================================== # # HELPERS # ==================================================================================== # ## help: print this help message .PHONY: help help: @echo \u0026#34;\\t##IMPORTANT##: please run \u0026#39;echo .envrc \u0026gt;\u0026gt; .gitignore\u0026#39; at very first time\u0026#34; @echo \u0026#39;Usage:\u0026#39; @sed -n \u0026#39;s/^##//p\u0026#39; ${MAKEFILE_LIST} | column -t -s \u0026#39;:\u0026#39; | sed -e \u0026#39;s/^/ /\u0026#39; # Create the new confirm target. .PHONY: confirm confirm: @echo -n \u0026#39;Are you sure? [y/N] \u0026#39; \u0026amp;\u0026amp; read ans \u0026amp;\u0026amp; [ $${ans:-N} = y ] # ==================================================================================== # # DEVELOPMENT # ==================================================================================== # ## run/main: run the cmd/main binary file .PHONY: run/main run/main: go run ./cmd ## run/debug: debug app use dlv .PHONY: run/debug run/debug: dlv debug ./cmd --headless --listen :4040 ## run/test: runs go test with default values .PHONY: run/test run/test: go test -timeout 300s -v -count=1 -race ./... ## run/update: runs go get -u \u0026amp;\u0026amp; go mod tidy .PHONY: run/update run/update: go get -u ./... go mod tidy ## db/psql: connection to the database using psql .PHONY: db/psql db/psql: @psql ${PG_DSN} ## db/generate use sqlc generated models and queries .PHONY: db/generate db/generate: @echo \u0026#39;sqlc generate in internal/sqlc fold\u0026#39; @cd internal/sqlc \u0026amp;\u0026amp; sqlc generate \u0026amp;\u0026amp; cd ../.. ## db/migrations/new name=$1: create a new database migration .PHONY: db/migrations/new db/migrations/new: @echo \u0026#39;Creating migrate files for ${name}\u0026#39; @migrate create -seq -ext=.sql -dir=./migrations ${name} ## db/migrations/up: apply all up database migrations .PHONY: db/migrations/up db/migrations/up: confirm @echo \u0026#39;Running up migrations...\u0026#39; @migrate -path ./migrations -database ${PG_DSN} up # ==================================================================================== # # QUALITY CONTROL # ==================================================================================== # ## audit: tidy dependencies and format, vet and test all code .PHONY: audit audit: @echo \u0026#39;Tidying and verifying module dependencies...\u0026#39; go mod tidy go mod verify @echo \u0026#39;Formatting code...\u0026#39; go fmt ./... @echo \u0026#39;Vetting code...\u0026#39; go vet ./... #staticcheck ./... # go install honnef.co/go/tools/cmd/staticcheck@latest @echo \u0026#39;Running tests...\u0026#39; go test -race -vet=off ./... ## vendor: tidy and vendor dependencies .PHONY: vendor vendor: @echo \u0026#39;Tidying and verifying module dependencies...\u0026#39; go mod tidy go mod verify @echo \u0026#39;Vendoring dependencies...\u0026#39; go mod vendor # ==================================================================================== # # BUILD # ==================================================================================== # #current_time = $(shell date --iso-8601=seconds) current_time = $(shell date -u +\u0026#34;%Y-%m-%dT%H:%M:%SZ\u0026#34;) git_description = $(shell git describe --always --dirty --tags --long) linker_flags = \u0026#39;-s -X main.buildTime=${current_time} -X main.version=${git_description}\u0026#39; ## build/api: build the cmd/api application .PHONY: build/api build/main: audit @echo \u0026#39;Building cmd/...\u0026#39; go build -ldflags=${linker_flags} -o=./bin/cmd ./cmd #go tool dist list GOOS=linux GOARCH=amd64 go build -ldflags=${linker_flags} -o=./bin/linux_amd64/cmd ./cmd ## build/dlv-debug: build the application with dlv gcflags .PHONY: build/dlv-debug build/dlv-debug: @echo \u0026#34;Building for delve debug...\u0026#34; @go build \\ -ldflags ${linker_flags} \\ -ldflags=-compressdwarf=false \\ -gcflags=all=-d=checkptr \\ -gcflags=\u0026#34;all=-N -l\u0026#34; \\ -o ./bin/debug ./cmd ","date":"2018-07-27T12:38:51+08:00","image":"https://tab.deoops.com/posts/makefile-tutorial/gnu-make_hu77bd53dd3603ba1d9252afbf71dec2d7_87202_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/makefile-tutorial/","title":"Makefileç®€ä»‹"},{"content":"åœ¨shellè„šæœ¬é‡Œä½¿ç”¨mkfifoå‘½ä»¤åˆ›å»ºnamed pipeså¯ä»¥å®ç°ç®€å•çš„äº‹ä»¶é©±åŠ¨ï¼Œ é¿å…pollï¼ˆè½®è¯¢ï¼‰å¸¦æ¥çš„æ—¶å»¶ï¼ˆnot real-timeï¼‰å’Œèµ„æºæ¶ˆè€—çš„é—®é¢˜ã€‚\nmkfifo â¯ man mkfifo | head -n 12 MKFIFO(1) General Commands Manual MKFIFO(1) NAME mkfifo â€“ make fifos SYNOPSIS mkfifo [-m mode] fifo_name ... DESCRIPTION mkfifo creates the fifos requested, in the order specified. By default, the resulting fifos have mode 0666 (rw-rw-rw-), limited by the current umask(2). ~ consumer æ¶ˆè´¹è€…ä»¥blockedçš„çŠ¶æ€ç›‘å¬äº‹ä»¶çš„å‘ç”Ÿï¼Œç„¶åhandle:\n#!/bin/bash pipe=/tmp/testpipe trap \u0026#34;rm -f $pipe\u0026#34; EXIT if [[ ! -p $pipe ]]; then mkfifo $pipe fi while true do if read line \u0026lt;$pipe; then if [[ \u0026#34;$line\u0026#34; == \u0026#39;quit\u0026#39; ]]; then break fi echo $line fi done echo \u0026#34;consumer exiting\u0026#34; producer ç”Ÿäº§è€…å¾€pipeé‡Œå†™å…¥å†…å®¹ï¼Œè§¦å‘äº‹ä»¶ï¼š\n#!/bin/bash pipe=/tmp/testpipe if [[ ! -p $pipe ]]; then echo \u0026#34;Reader not running\u0026#34; exit 1 fi msg=${1-\u0026#34;Hello from $$\u0026#34;} echo $msg \u0026gt;$pipe ","date":"2018-06-27T12:20:29+08:00","image":"https://tab.deoops.com/posts/shell-fifo/pm_hu82f0a6c526c861c02b7a3999a3e46b01_146865_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/shell-fifo/","title":"äº‹ä»¶é©±åŠ¨"},{"content":"ä»Šå¤©è°ƒè¯•å®¹å™¨åº”ç”¨çš„æ—¶å€™å‘ç°ï¼Œappè¿è¡Œä¸€æ®µæ—¶é—´åï¼Œå®¹å™¨å¤–æŒ‚çš„ä¸€ä¸ªvolumnä¼šå¶å‘æ€§çš„è¢«åˆ é™¤ã€‚ äºæ˜¯éœ€è¦ç›‘æ§ä¸‹åˆ°åº•æ˜¯è°/å“ªä¸ªè¿›ç¨‹æŠŠæ–‡ä»¶ç›®å½•ç»™åˆ é™¤äº†ã€‚\ngoogleä¸€é˜µå­åï¼Œå‘ç°å¯ä»¥ä½¿ç”¨auditd æœåŠ¡æ¥ç›‘æ§å’Œæœç´¢å‡ºéƒ½æœ‰é‚£äº›è¿›ç¨‹æ“ä½œå¤Ÿç›®æ ‡æ–‡ä»¶/ç›®å½•ã€‚\næ•´ä¸ªè¿‡ç¨‹åˆ†ä¸º3æ­¥ï¼š\nå¼€å¯ auditd æœåŠ¡ï¼› ä½¿ç”¨auditctl é…ç½® auditdæœåŠ¡ï¼› ä¸€æ®µæ—¶é—´ä¹‹å ä½¿ç”¨ ausearch æ¥æŸ¥çœ‹/æœç´¢å®¡è®¡çš„æ—¥å¿—ã€‚ å¯åŠ¨ç›‘æ§ å¼€å¯auditdæœåŠ¡ï¼š\nsystemctl start auditd ## you may need `mkdir /var/log/audit` æ·»åŠ ç›‘æ§è§„åˆ™ ç¼–è¾‘å®¡è®¡è§„åˆ™ï¼š\n## list existing rules auditctl -l ## clean existing rules auditctl -D ## watch /var/run/yourfolder auditctl -w /var/run/yourfolder -p war -k serachkey auditctlè¯­æ³• [root@ddeoops ~]# auditctl -h usage: auditctl [options] -a \u0026lt;l,a\u0026gt; Append rule to end of \u0026lt;l\u0026gt;ist with \u0026lt;a\u0026gt;ction -A \u0026lt;l,a\u0026gt; Add rule at beginning of \u0026lt;l\u0026gt;ist with \u0026lt;a\u0026gt;ction -b \u0026lt;backlog\u0026gt; Set max number of outstanding audit buffers allowed Default=64 -c Continue through errors in rules -C f=f Compare collected fields if available: Field name, operator(=,!=), field name -d \u0026lt;l,a\u0026gt; Delete rule from \u0026lt;l\u0026gt;ist with \u0026lt;a\u0026gt;ction l=task,exit,user,exclude a=never,always -D Delete all rules and watches -e [0..2] Set enabled flag -f [0..2] Set failure flag 0=silent 1=printk 2=panic -F f=v Build rule: field name, operator(=,!=,\u0026lt;,\u0026gt;,\u0026lt;=, \u0026gt;=,\u0026amp;,\u0026amp;=) value -h Help -i Ignore errors when reading rules from file -k \u0026lt;key\u0026gt; Set filter key on audit rule -l List rules -m text Send a user-space message -p [r|w|x|a] Set permissions filter on watch r=read, w=write, x=execute, a=attribute -q \u0026lt;mount,subtree\u0026gt; make subtree part of mount point\u0026#39;s dir watches -r \u0026lt;rate\u0026gt; Set limit in messages/sec (0=none) -R \u0026lt;file\u0026gt; read rules from file -s Report status -S syscall Build rule: syscall name or number -t Trim directory watches -v Version -w \u0026lt;path\u0026gt; Insert watch at \u0026lt;path\u0026gt; -W \u0026lt;path\u0026gt; Remove watch at \u0026lt;path\u0026gt; --loginuid-immutable Make loginuids unchangeable once set --reset-lost Reset the lost record counter åˆ†ææ—¥å¿— æŸ¥çœ‹/æœç´¢ å®¡è®¡æ—¥å¿—ï¼š\n[root@deoops ~]# ausearch -k wiserun -i type=SYSCALL msg=audit(2018å¹´06æœˆ20æ—¥ 14:22:33.669:8377) : arch=x86_64 syscall=unlinkat success=no exit=ENOTEMPTY(ç›®å½•éç©º) a0=0xffffffffffffff9c a1=0xc42038ca80 a2=0x200 a3=0x0 items=2 ppid=20523 pid=1890 auid=unset uid=root gid=root euid=root suid=root fsuid=root egid=root sgid=root fsgid=root tty=(none) ses=unset comm=yes_i_changed_you exe=/root/yes_i_changed_you key=wiserun type=SYSCALL msg=audit(2018å¹´06æœˆ20æ—¥ 14:22:33.669:8376) : arch=x86_64 syscall=unlinkat success=no exit=EISDIR(æ˜¯ä¸€ä¸ªç›®å½•) a0=0xffffffffffffff9c a1=0xc42038ca60 a2=0x0 a3=0x0 items=2 ppid=20523 pid=1890 auid=unset uid=root gid=root euid=root suid=root fsuid=root egid=root sgid=root fsgid=root tty=(none) ses=unset comm=yes_i_changed_you exe=/root/yes_i_changed_you key=wiserun type=SYSCALL msg=audit(2018å¹´06æœˆ20æ—¥ 14:22:33.669:8378) : arch=x86_64 syscall=openat success=yes exit=6 a0=0xffffffffffffff9c a1=0xc42038cae0 a2=O_RDONLY|O_CLOEXEC a3=0x0 items=1 ppid=20523 pid=1890 auid=unset uid=root gid=root euid=root suid=root fsuid=root egid=root sgid=root fsgid=root tty=(none) ses=unset comm=yes_i_changed_you exe=/root/yes_i_changed_you key=wiserun type=SYSCALL msg=audit(2018å¹´06æœˆ20æ—¥ 14:22:33.669:8379) : arch=x86_64 syscall=unlinkat success=no exit=EISDIR(æ˜¯ä¸€ä¸ªç›®å½•) a0=0xffffffffffffff9c a1=0xc42003e3c0 a2=0x0 a3=0x0 items=2 ppid=20523 pid=1890 auid=unset uid=root gid=root euid=root suid=root fsuid=root egid=root sgid=root fsgid=root tty=(none) ses=unset comm=yes_i_changed_you exe=/root/yes_i_changed_you key=wiserun type=SYSCALL msg=audit(2018å¹´06æœˆ20æ—¥ 14:22:33.669:8380) : arch=x86_64 syscall=unlinkat success=yes exit=0 a0=0xffffffffffffff9c a1=0xc42003e410 a2=0x200 a3=0x0 items=2 ppid=20523 pid=1890 auid=unset uid=root gid=root euid=root suid=root fsuid=root egid=root sgid=root fsgid=root tty=(none) ses=unset comm=yes_i_changed_you exe=/root/yes_i_changed_you key=wiserun type=SYSCALL msg=audit(2018å¹´06æœˆ20æ—¥ 14:22:33.669:8381) : arch=x86_64 syscall=unlinkat success=no exit=EISDIR(æ˜¯ä¸€ä¸ªç›®å½•) a0=0xffffffffffffff9c a1=0xc42038cb80 a2=0x0 a3=0x0 items=2 ppid=20523 pid=1890 auid=unset uid=root gid=root euid=root suid=root fsuid=root egid=root sgid=root fsgid=root tty=(none) ses=unset comm=yes_i_changed_you exe=/root/yes_i_changed_you key=wiserun type=SYSCALL msg=audit(2018å¹´06æœˆ20æ—¥ 14:22:33.669:8382) : arch=x86_64 syscall=unlinkat success=yes exit=0 a0=0xffffffffffffff9c a1=0xc42038cbc0 a2=0x200 a3=0x0 items=2 ppid=20523 pid=1890 auid=unset uid=root gid=root euid=root suid=root fsuid=root egid=root sgid=root fsgid=root tty=(none) ses=unset comm=yes_i_changed_you exe=/root/yes_i_changed_you key=wiserun ausearchè¯­æ³• [root@deoops ~]# ausearch -h usage: ausearch [options] -a,--event \u0026lt;Audit event id\u0026gt; search based on audit event id --arch \u0026lt;CPU\u0026gt; search based on the CPU architecture -c,--comm \u0026lt;Comm name\u0026gt; search based on command line name --checkpoint \u0026lt;checkpoint file\u0026gt; search from last complete event --debug Write malformed events that are skipped to stderr -e,--exit \u0026lt;Exit code or errno\u0026gt; search based on syscall exit code -f,--file \u0026lt;File name\u0026gt; search based on file name -ga,--gid-all \u0026lt;all Group id\u0026gt; search based on All group ids -ge,--gid-effective \u0026lt;effective Group id\u0026gt; search based on Effective group id -gi,--gid \u0026lt;Group Id\u0026gt; search based on group id -h,--help help -hn,--host \u0026lt;Host Name\u0026gt; search based on remote host name -i,--interpret Interpret results to be human readable -if,--input \u0026lt;Input File name\u0026gt; use this file instead of current logs --input-logs Use the logs even if stdin is a pipe --just-one Emit just one event -k,--key \u0026lt;key string\u0026gt; search based on key field -l, --line-buffered Flush output on every line -m,--message \u0026lt;Message type\u0026gt; search based on message type -n,--node \u0026lt;Node name\u0026gt; search based on machine\u0026#39;s name -o,--object \u0026lt;SE Linux Object context\u0026gt; search based on context of object -p,--pid \u0026lt;Process id\u0026gt; search based on process id -pp,--ppid \u0026lt;Parent Process id\u0026gt; search based on parent process id -r,--raw output is completely unformatted -sc,--syscall \u0026lt;SysCall name\u0026gt; search based on syscall name or number -se,--context \u0026lt;SE Linux context\u0026gt; search based on either subject or object --session \u0026lt;login session id\u0026gt; search based on login session id -su,--subject \u0026lt;SE Linux context\u0026gt; search based on context of the Subject -sv,--success \u0026lt;Success Value\u0026gt; search based on syscall or event success value -te,--end [end date] [end time] ending date \u0026amp; time for search -ts,--start [start date] [start time] starting data \u0026amp; time for search -tm,--terminal \u0026lt;TerMinal\u0026gt; search based on terminal -ua,--uid-all \u0026lt;all User id\u0026gt; search based on All user id\u0026#39;s -ue,--uid-effective \u0026lt;effective User id\u0026gt; search based on Effective user id -ui,--uid \u0026lt;User Id\u0026gt; search based on user id -ul,--loginuid \u0026lt;login id\u0026gt; search based on the User\u0026#39;s Login id -uu,--uuid \u0026lt;guest UUID\u0026gt; search for events related to the virtual machine with the given UUID. -v,--version version -vm,--vm-name \u0026lt;guest name\u0026gt; search for events related to the virtual machine with the name. -w,--word string matches are whole word -x,--executable \u0026lt;executable name\u0026gt; search based on executable name TIPS å¦‚æœéœ€è¦è®°å½•è¢«å®¡è®¡å¯¹è±¡è¢«åˆ é™¤äº‹ä»¶ï¼Œåˆ™éœ€è¦å®¡è®¡è¯¥å¯¹è±¡çš„ä¸Šä¸€çº§ç›®å½•ã€‚\nMonitor/audit file delete on Linux\n","date":"2018-06-20T17:02:58+08:00","image":"https://tab.deoops.com/posts/audit-file/audit_hu9569bb820aed3f9fb44d2a8c45252134_264385_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/audit-file/","title":"å®¡è®¡ç›®å½•"},{"content":"ä¼—æ‰€å‘¨çŸ¥centosçš„å†…æ ¸ç‰ˆæœ¬é€‰æ‹©å¾ˆä¿å®ˆï¼Œå¾ˆå¤šæ–°å†…æ ¸çš„æ–°ç‰¹æ€§ï¼Œç‰¹åˆ«æ˜¯ç½‘ç»œå’Œdebugæ–¹é¢çš„ç‰¹æ€§éƒ½æ²¡æœ‰ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥ç»™centoså‡çº§ä¸‹ kernelå§ã€‚\næ•´ä¸ªå‡çº§å®‰è£…çš„è¿‡ç¨‹å…¶å®æŒºç®€å•çš„ä¸€å…±åˆ†ä¸º4æ­¥ï¼š\næ‰¾åˆ°repoæºï¼› yumå®‰è£…æœ€æ–°çš„kernelï¼› ä¿®æ”¹grub2å¯åŠ¨é¡¹ï¼› ç§»é™¤æ—§çš„kernelã€‚ å®‰è£… elrepo è®¿é—®elrepo websiteæŸ¥çœ‹å¯¹åº” centos ç‰ˆæœ¬æœ€æ–°çš„kernel repoæºã€‚ ç„¶åä½¿ç”¨rpmæ·»åŠ kernelæºï¼š\nrpm --import https://www.elrepo.org/RPM-GPG-KEY-elrepo.org rpm -Uvh http://www.elrepo.org/elrepo-release-7.0-3.el7.elrepo.noarch.rpm install å®‰è£…å†…æ ¸ï¼š\nyum --disablerepo=\u0026#34;\\*\u0026#34; --enablerepo=\u0026#34;elrepo-kernel\u0026#34; list available yum --enablerepo=elrepo-kernel install kernel-ml kernel-ml-devel boot ä¿®æ”¹grub2å¯åŠ¨é¡¹ï¼Œå¼€æœºä½¿ç”¨æ–°çš„å†…æ ¸ï¼š\nawk -F\\\u0026#39; \u0026#39;$1==\u0026#34;menuentry \u0026#34; {print i++ \u0026#34; : \u0026#34; $2}\u0026#39; /etc/grub2.cfg grub2-set-default 0 init 6 cleanup åˆ é™¤æ—§å†…æ ¸\nyum install yum-utils package-cleanup --oldkernels --count=1 uname -a å‚è€ƒ How to Upgrade Kernel on CentOS 7\nHow to Install or Upgrade to Kernel 4.15 in CentOS 7\n","date":"2018-05-16T16:50:31+08:00","image":"https://tab.deoops.com/posts/kernel-upgrade/kernel_hu93aa80e4f919fc7fd0c6fdaad113f462_172612_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/kernel-upgrade/","title":"å†…æ ¸å‡çº§"},{"content":"ä½¿ç”¨vimæœ‰7ï¼Œ8å¹´äº†ï¼Œæ•´ç†ä¸€ä¸‹è‡ªå·±ç”¨åˆ°çš„vimé…ç½®ï¼Œæ–¹ä¾¿è‡ªæŸ¥ã€‚\nvim basic åŸºæœ¬è®¾ç½®ï¼Œè¯­æ³•é«˜äº®ï¼Œè¡Œå·ï¼Œç­‰ç­‰ï¼š\nexecute pathogen#infect() syntax on filetype plugin indent on set number paste å¤åˆ¶ç²˜è´´ï¼š disable auto indent\nset paste Notice the â€œâ€“ INSERT (paste) â€“â€ at the bottom of the Vim window.\nfold ä»£ç æŠ˜å ï¼š Folding wiki\n\u0026#34; close zc \u0026#34; open zo font å®‰è£…å­—ä½“ï¼š install powerline font\nwget https://github.com/powerline/powerline/raw/develop/font/PowerlineSymbols.otf open . # double click the otf file you\u0026#39;ve just downloaded. kubectl eidt issue ä½¿ç”¨kubectl editæ—¶ï¼Œå½“yamlæ–‡ä»¶çš„annotationè¡Œè¿‡å¤§ä¼šæŠ¥é”™:\nannotation: kubectl.kubernetes.io/last-applied-configuration is too large\n\u0026#34; annotation: kubectl.kubernetes.io/last-applied-configuration \u0026#34; is too large set maxmempattern=200000 neovim neovim v0.5.1 ä»Šå¹´ï¼ˆ2020ï¼‰ï¼Œæˆ‘ä»vim 8 è¿ç§»åˆ°äº†neovimï¼Œä¸‹é¢æ˜¯ ~/.config/nvim/init.vimçš„é…ç½®å†…å®¹\n\u0026#34; cp from ~/.vimrc \u0026#34; execute pathogen#infect() \u0026#34;syntax on \u0026#34;filetype plugin indent on language en_US.UTF-8 set rtp+=/usr/local/opt/fzf set number set encoding=utf-8 \u0026#34; You need to set ignorecase if you want to use what smartcase provides set ignorecase set smartcase \u0026#34; kubectl edit \u0026#34; annotation: kubectl.kubernetes.io/last-applied-configuration \u0026#34; is too large set maxmempattern=200000 \u0026#34;set foldmethod=syntax \u0026#34;set clipboard=unnamed \u0026#34;autocmd vimenter * NERDTree \u0026#34; \u0026#34;autocmd StdinReadPre * let s:std_in=1 \u0026#34;autocmd VimEnter * if argc() == 0 \u0026amp;\u0026amp; !exists(\u0026#34;s:std_in\u0026#34;) | NERDTree | endif autocmd StdinReadPre * let s:std_in=1 autocmd VimEnter * if argc() == 1 \u0026amp;\u0026amp; isdirectory(argv()[0]) \u0026amp;\u0026amp; !exists(\u0026#34;s:std_in\u0026#34;) | exe \u0026#39;NERDTree\u0026#39; argv()[0] | wincmd p | ene | exe \u0026#39;cd \u0026#39;.argv()[0] | endif call plug#begin(stdpath(\u0026#39;data\u0026#39;) .\u0026#39;/plugged\u0026#39;) \u0026#34; call plug#begin(\u0026#39;~/.vim/plugged\u0026#39;) \u0026#34; Make sure you use single quotes \u0026#34; Plug \u0026#39;tpope/vim-commentary\u0026#39; Plug \u0026#39;vim-airline/vim-airline\u0026#39; Plug \u0026#39;vim-airline/vim-airline-themes\u0026#39; \u0026#34; \u0026#34; Shorthand notation; fetches https://github.com/junegunn/vim-easy-align Plug \u0026#39;junegunn/vim-easy-align\u0026#39; \u0026#34; \u0026#34; \u0026#34; Any valid git URL is allowed Plug \u0026#39;https://github.com/junegunn/vim-github-dashboard.git\u0026#39; \u0026#34; \u0026#34; \u0026#34; Multiple Plug commands can be written in a single line using | separators Plug \u0026#39;SirVer/ultisnips\u0026#39; | Plug \u0026#39;honza/vim-snippets\u0026#39; \u0026#34; \u0026#34; \u0026#34; On-demand loading Plug \u0026#39;scrooloose/nerdtree\u0026#39;, { \u0026#39;on\u0026#39;: \u0026#39;NERDTreeToggle\u0026#39; } Plug \u0026#39;preservim/tagbar\u0026#39; \u0026#34; Plug \u0026#39;tpope/vim-fireplace\u0026#39;, { \u0026#39;for\u0026#39;: \u0026#39;clojure\u0026#39; } \u0026#34; \u0026#34; \u0026#34; Using a non-default branch Plug \u0026#39;rdnetto/YCM-Generator\u0026#39;, { \u0026#39;branch\u0026#39;: \u0026#39;stable\u0026#39; } \u0026#34; \u0026#34; \u0026#34; Using a tagged release; wildcard allowed (requires git 1.9.2 or above) Plug \u0026#39;fatih/vim-go\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;:GoUpdateBinaries\u0026#39; } \u0026#34; \u0026#34; \u0026#34; \u0026#34; Plugin outside ~/.vim/plugged with post-update hook Plug \u0026#39;junegunn/fzf\u0026#39;, { \u0026#39;dir\u0026#39;: \u0026#39;~/.fzf\u0026#39;, \u0026#39;do\u0026#39;: \u0026#39;./install --all\u0026#39; } Plug \u0026#39;junegunn/fzf.vim\u0026#39; \u0026#34; Track the engine. Plug \u0026#39;SirVer/ultisnips\u0026#39; \u0026#34; \u0026#34; Snippets are separated from the engine. Add this if you want them: Plug \u0026#39;honza/vim-snippets\u0026#39; if has(\u0026#39;nvim\u0026#39;) Plug \u0026#39;Shougo/deoplete.nvim\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;:UpdateRemotePlugins\u0026#39; } else Plug \u0026#39;Shougo/deoplete.nvim\u0026#39; Plug \u0026#39;roxma/nvim-yarp\u0026#39; Plug \u0026#39;roxma/vim-hug-neovim-rpc\u0026#39; endif Plug \u0026#39;tpope/vim-sensible\u0026#39; Plug \u0026#39;rust-lang/rust.vim\u0026#39; \u0026#34; for reactjs jsx \u0026#34; \u0026#34; \u0026#34; Plug \u0026#39;pangloss/vim-javascript\u0026#39; Plug \u0026#39;leafgarland/typescript-vim\u0026#39; Plug \u0026#39;peitalin/vim-jsx-typescript\u0026#39; Plug \u0026#39;styled-components/vim-styled-components\u0026#39;, { \u0026#39;branch\u0026#39;: \u0026#39;main\u0026#39; } \u0026#34; Plug \u0026#39;autozimu/LanguageClient-neovim\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;next\u0026#39;, \u0026#39;do\u0026#39;: \u0026#39;bash install.sh\u0026#39; } \u0026#34;Plug \u0026#39;jparise/vim-graphql\u0026#39; \u0026#34;Plug \u0026#39;neoclide/coc.nvim\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;release\u0026#39;} call plug#end() \u0026#34; let g:coc_global_extensions = [\u0026#39;coc-json\u0026#39;, \u0026#39;coc-tsserver\u0026#39;] \u0026#34; for js/ts synax \u0026#34; syntax highlighting can get out of sync i \u0026#34; https://thoughtbot.com/blog/modern-typescript-and-react-development-in-vim autocmd BufEnter *.{js,jsx,ts,tsx} :syntax sync fromstart autocmd BufLeave *.{js,jsx,ts,tsx} :syntax sync clear let g:deoplete#enable_at_startup = 1 let g:go_def_mode=\u0026#39;gopls\u0026#39; let g:go_info_mode=\u0026#39;gopls\u0026#39; let g:UltiSnipsEditSplit=\u0026#34;vertical\u0026#34; call deoplete#custom#option(\u0026#39;omni_patterns\u0026#39;, { \u0026#39;go\u0026#39;: \u0026#39;[^. *\\t]\\.\\w*\u0026#39; }) \u0026#34;set list \u0026#34;set listchars=tab:\u0026gt;- set tabstop=4 \u0026#34; \u0026#34;set expandtab \u0026#34;set shiftwidth=2 set autoindent set smartindent \u0026#34; let mapleader=\u0026#39;,\u0026#39;\tnmap \u0026lt;C-P\u0026gt; :FZF\u0026lt;CR\u0026gt; let NERDTreeShowHidden=1 \u0026#34; If more than one window and previous buffer was NERDTree, go back to it. autocmd BufEnter * if bufname(\u0026#39;#\u0026#39;) =~# \u0026#34;^NERD_tree_\u0026#34; \u0026amp;\u0026amp; winnr(\u0026#39;$\u0026#39;) \u0026gt; 1 | b# | endif let g:plug_window = \u0026#39;noautocmd vertical topleft new\u0026#39; if has(\u0026#39;nvim\u0026#39;) \u0026#34;highlight! link TermCursor Cursor highlight! TermCursorNC guibg=red guifg=white ctermbg=1 ctermfg=15 endif set clipboard+=unnamedplus let g:go_imports_autosave = 1 \u0026#34; nmap \u0026lt;silent\u0026gt; gd \u0026lt;Plug\u0026gt;(coc-definition) \u0026#34; nmap \u0026lt;silent\u0026gt; gy \u0026lt;Plug\u0026gt;(coc-type-definition) \u0026#34; nmap \u0026lt;silent\u0026gt; gr \u0026lt;Plug\u0026gt;(coc-references) \u0026#34; nmap \u0026lt;leader\u0026gt;rn \u0026lt;Plug\u0026gt;(coc-rename) \u0026#34;let g:LanguageClient_serverCommands = {\u0026#39;javascript\u0026#39;: [\u0026#39;javascript-typescript-stdio\u0026#39;]} ","date":"2018-05-14T11:42:23+08:00","image":"https://tab.deoops.com/posts/vim-conf/vim_huc1453ee2b26537225217496510c9e8ad_145424_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/vim-conf/","title":"vimé…ç½®"},{"content":"ç¦»èŒä¸€æ®µæ—¶é—´äº†ï¼Œéœ€è¦è‡ªå·±å†™ç‚¹å‰ç«¯ä»£ç ã€‚ å¥ˆä½•vimçš„jsæ’ä»¶å¯¹jsxçš„æ”¯æŒä¸å¤ªå‹å¥½ï¼Œæ‰€ä»¥è½¬å‘vscodeå†™ç‚¹jsxã€‚\nå†™äº†äº›react appä»£ç åï¼ŒIDEåˆ°å¤„é£˜çº¢è‰²çš„æ³¢æµªçº¿ã€°ï¸ã€°ï¸ã€°ï¸ï¼Œå¾ˆæ˜¯æ¼äººã€‚\nå…¨å±€é…ç½®react eslintå¥½å¤šäº†ï¼Œ è®°å½•ä¸‹é…ç½®çš„è¿‡ç¨‹å¤‡æŸ¥ã€‚\né…ç½® åŸºæœ¬ä¸Šæ˜¯ç”¨äº†airbnbçš„é…ç½®ï¼š\nå…·ä½“çš„æ­¥éª¤å¾ˆç®€å•ï¼Œä¸¤æ­¥å°±å¥½äº†ï¼š\nnpmå®‰è£…eslintå’Œè¦ç”¨åˆ°pluginï¼› æ ¹æ®éœ€æ±‚é…ç½®å…¨å±€çš„eslintrcæ–‡ä»¶ plugin npm install -g jshint npm install -g eslint eslint-config-airbnb-base eslint-plugin-import vi .eslintrc.js ls -alh /usr/local/bin/npm ls /usr/local/lib/node_modules/eslint-config-airbnb-base npm link eslint-config-airbnb-base ls node_modules npm link eslint-plugin-import npm i -g eslint-plugin-react npm i -g eslint-plugin-jsx-a11y npm link eslint-plugin-jsx-a11y eslint-plugin-react vi .eslintrc.js .elinttc.js // ~/.eslintrc.js module.exports = { parser: \u0026#34;babel-eslint\u0026#34;, \u0026#34;plugins\u0026#34;: [\u0026#34;react\u0026#34;], \u0026#34;extends\u0026#34;: [ \u0026#34;airbnb-base\u0026#34;, \u0026#34;eslint:recommended\u0026#34;, \u0026#34;plugin:react/recommended\u0026#34;, ], \u0026#34;rules\u0026#34;: { // \u0026#34;no-unused-vars\u0026#34;:0, \u0026#34;no-console\u0026#34;: \u0026#39;off\u0026#39;, \u0026#34;max-len\u0026#34;: [1,120,2,{ignoreComments: true}] // \u0026#34;prop-types\u0026#34;: [2] }, \u0026#34;env\u0026#34;: { \u0026#34;browser\u0026#34;: true, \u0026#34;node\u0026#34;: true, \u0026#34;jasmine\u0026#34;: true } }; å‚è€ƒ react eslint webpack babel\nUse ESLint Like a Pro with ES6 and React\n","date":"2018-04-16T16:34:09+08:00","image":"https://tab.deoops.com/posts/vscode-eslint/eslint-airbnb_hue35271ac4524df007877384f8b1c06a2_74499_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/vscode-eslint/","title":"é…ç½®vscode eslint"},{"content":"ä»Šå¤©åœ¨digitoceanä¸€å°æ–°ç”³è¯·çš„ä¸»æœºä¸Šéƒ¨ç½²webåº”ç”¨ã€‚éƒ¨ç½²å®Œæˆï¼Œæ‰“å¼€æµè§ˆå™¨å‘ç°æŠ¥é”™403ã€‚\néƒ¨ç½²çš„webåº”ç”¨å¾ˆç®€å•ï¼Œåç«¯ç”¨nginxåšäº†åå‘ä»£ç†ï¼Œåº”è¯¥æ²¡å•¥å¤§é—®é¢˜ã€‚\nè¿›ä¸€æ­¥æ‰“å¼€chromeçš„consoleï¼Œå‘ç°å¯¹static fileçš„è®¿é—®æŠ¥é”™403ï¼Œè¿˜æ²¡åˆ°åç«¯å°±å·²ç»æŠ¥é”™äº†ï¼Œ ä¼°è®¡åé¢çš„ upstream socketä¹Ÿä¼šæŠ¥é”™ã€‚\nsshç™»é™†åˆ°æœåŠ¡å™¨ä¸Šçœ‹äº†ä¸‹nginxçš„æ—¥å¿—ï¼Œå‘ç°æ˜¯æƒé™çš„é—®é¢˜ã€‚\nè¿›ä¸€æ­¥debugäº†ä¹‹åå‘ç°è™šæ‹Ÿæœºå¼€å¯selinuxï¼Œå½“æ—¶å¿ƒå¤´å°±ä¸€ç´§ï¼Œä¼°è®¡è¦æ”¹selinuxé…ç½®äº†ï¼Œè¿™æ˜¯ä¸ªéº»çƒ¦äº‹å„¿ã€‚\næƒ³ç®€å•ç‚¹ç›´æ¥å…³é—­selinuxï¼Œè½¬å¿µä¸€æƒ³digitoceançš„ä¸»æœºç›´æ¥æš´éœ²åœ¨internerä¸Šï¼Œå¼€ç€selinux å…¶å®æ˜¯ä¸ªå¾ˆå¥½çš„ä¿æŠ¤ã€‚digitoceanæ‰“å¼€è‡ªæœ‰å®ƒæ‰“å¼€çš„é“ç†ï¼Œæˆ‘çŒœå¯èƒ½æœ‰å¾ˆå¤švmè¢«æ”»ç ´æ²¦ä¸ºåƒµå°¸ç½‘ç»œäº†ã€‚\ngoogleæœç´¢äº†selinuxçš„web serverå¸¸ç”¨çš„é…ç½®ï¼ŒéªŒè¯åï¼Œè§£å†³äº†nginx 403çš„é—®é¢˜ã€‚è®°å½•åˆ†äº«å¦‚ä¸‹ï¼š\ncheck seLinux æŸ¥çœ‹ç³»ç»ŸçŠ¶æ€ æŸ¥çœ‹selinuxé…ç½®å’ŒçŠ¶æ€\n[root@deo ~]# sestatus -v SELinux status: enabled SELinuxfs mount: /sys/fs/selinux SELinux root directory: /etc/selinux Loaded policy name: targeted Current mode: enforcing Mode from config file: enforcing Policy MLS status: enabled Policy deny_unknown status: allowed Max kernel policy version: 28 Process contexts: Current context: unconfined_u:unconfined_r:unconfined_t:s0-s0:c0.c1023 Init context: system_u:system_r:init_t:s0 /usr/sbin/sshd system_u:system_r:sshd_t:s0-s0:c0.c1023 File contexts: Controlling terminal: unconfined_u:object_r:user_devpts_t:s0 /etc/passwd system_u:object_r:passwd_file_t:s0 /etc/shadow system_u:object_r:shadow_t:s0 /bin/bash system_u:object_r:shell_exec_t:s0 /bin/login system_u:object_r:login_exec_t:s0 /bin/sh system_u:object_r:bin_t:s0 -\u0026gt; system_u:object_r:shell_exec_t:s0 /sbin/agetty system_u:object_r:getty_exec_t:s0 /sbin/init system_u:object_r:bin_t:s0 -\u0026gt; system_u:object_r:init_exec_t:s0 /usr/sbin/sshd system_u:object_r:sshd_exec_t:s0 æŸ¥çœ‹æ–‡ä»¶ç›®å½•çš„selinux label [root@deo ]# ls -Z /opt/todolist -rw-r--r--. root root unconfined_u:object_r:admin_home_t:s0 index.html drwxr-xr-x. root root unconfined_u:object_r:admin_home_t:s0 static [root@deo ]# ls -Z /usr/share/nginx/html -rw-r--r--. root root system_u:object_r:httpd_sys_content_t:s0 50x.html -rw-r--r--. root root system_u:object_r:httpd_sys_content_t:s0 index.html meat ä¸‹é¢ä¸¤ç§æ–¹æ³•é€‰ä¸€ç§å°±å¯ä»¥äº†\nlabel ä¿®æ”¹ç›®å½•labelä½¿å¾—selinux æ”¾è¡Œnginx:\nchcon -Rt httpd_sys_content_t /opt/todolist/ ls -Z /opt/todolist/ -rw-r--r--. root root unconfined_u:object_r:httpd_sys_content_t:s0 index.html drwxr-xr-x. root root unconfined_u:object_r:httpd_sys_content_t:s0 static setsebool -P httpd_can_network_connect 1 ; setsebool -P httpd_enable_homedirs on chmod 701 /home/dir semanage æˆ–è€…ä½¿ç”¨semanageå‘½ä»¤ä¿®æ”¹enforcement modeï¼š\n~ [root@jp ~]# cat fix_selinux_ng.sh semanage permissive -a httpd_tp segmanageè¯­æ³•ï¼š\n[root@jp ~]# semanage -h usage: semanage [-h] {import,export,login,user,port,ibpkey,ibendport,interface,module,node,fcontext,boolean,permissive,dontaudit} ... semanage is used to configure certain elements of SELinux policy with-out requiring modification to or recompilation from policy source. positional arguments: {import,export,login,user,port,ibpkey,ibendport,interface,module,node,fcontext,boolean,permissive,dontaudit} import Import local customizations export Output local customizations login Manage login mappings between linux users and SELinux confined users user Manage SELinux confined users (Roles and levels for an SELinux user) port Manage network port type definitions ibpkey Manage infiniband ibpkey type definitions ibendport Manage infiniband end port type definitions interface Manage network interface type definitions module Manage SELinux policy modules node Manage network node type definitions fcontext Manage file context mapping definitions boolean Manage booleans to selectively enable functionality permissive Manage process type enforcement mode dontaudit Disable/Enable dontaudit rules in policy optional arguments: -h, --help show this help message and exit å‚è€ƒ Fixing 403 errors when using nginx with SELinux\nNGinX cannot connect to Jenkins on CentOS 7\nNginx refuses to read new directory in /home\n","date":"2018-04-16T16:10:45+08:00","image":"https://tab.deoops.com/posts/http-selinux/selinux_hu2703889cd274f47cf99c8f755f05e2d0_11156_120x120_fill_q75_h2_box_smart1_2.webp","permalink":"https://tab.deoops.com/posts/http-selinux/","title":"é…ç½®http selinux"},{"content":"é»˜è®¤é…ç½®å‘½ä»¤git logä¼šåœ¨æ–°çš„çª—å£æ‰“å°æ—¥å¿—å†…å®¹ï¼Œéœ€è¦æ•²ä¸€ä¸‹é”®ç›˜q æ‰èƒ½è¿”å›å½“å‰ç›®å½•ï¼Œä¸æ–¹ä¾¿è¿ç»­æŸ¥çœ‹:\nâœ lgthw_orign git:(otherbranch) git log --oneline --decorate --all --graph ## NOTE content below will be displayed on new window/buff * 40303b7 (HEAD -\u0026gt; otherbranch) thirdcommit | * 3e6e2f7 (master) secondcommit |/ * f40475e (tag: firstcommittag) firstcommit (END) ## press `q` to exist âœ lgthw_orign git:(master) git log --no-pager fatal: unrecognized argument: --no-pager å¯ä»¥æŠŠé»˜è®¤çš„åˆ†é¡µæ”¹ä¸ºinlineæ¨¡å¼ï¼Œå¯ä»¥æ›´å¿«çš„æŸ¥çœ‹è¿ç»­çš„æ—¥å¿—ï¼š\nmeat # use --no-pager options # or set pager to cat git config --global core.pager cat # or set pager to less # git config --global core.pager \u0026#34;less -erX\u0026#34; demo âœ lgthw_orign git:(master) git log --oneline --decorate --all --graph * f40475e (HEAD -\u0026gt; master) firstcommit âœ lgthw_orign git:(master) git branch otherbranch âœ lgthw_orign git:(master) git tag firstcommittag âœ lgthw_orign git:(master) git log --oneline --decorate --all --graph * f40475e (HEAD -\u0026gt; master, tag: firstcommittag, otherbranch) firstcommit âœ lgthw_orign git:(master) date \u0026gt;\u0026gt; afile âœ lgthw_orign git:(master) âœ— git commit -am secondcommit [master 3e6e2f7] secondcommit 1 file changed, 1 insertion(+) âœ lgthw_orign git:(master) git checkout . âœ lgthw_orign git:(master) git log --oneline --decorate --all --graph * 3e6e2f7 (HEAD -\u0026gt; master) secondcommit * f40475e (tag: firstcommittag, otherbranch) firstcommit âœ lgthw_orign git:(master) git checkout otherbranch Switched to branch \u0026#39;otherbranch\u0026#39; âœ lgthw_orign git:(otherbranch) git log --oneline --decorate --all --graph * 3e6e2f7 (master) secondcommit * f40475e (HEAD -\u0026gt; otherbranch, tag: firstcommittag) firstcommit âœ lgthw_orign git:(otherbranch) date \u0026gt;\u0026gt; afile âœ lgthw_orign git:(otherbranch) âœ— git commit -am thirdcommit [otherbranch 40303b7] thirdcommit 1 file changed, 1 insertion(+) âœ lgthw_orign git:(otherbranch) git log --oneline --decorate --all --graph * 40303b7 (HEAD -\u0026gt; otherbranch) thirdcommit | * 3e6e2f7 (master) secondcommit |/ * f40475e (tag: firstcommittag) firstcommit å‚è€ƒ Changing the Display of Git Log\nFYI, cat is not the ideal pager for me, since it displays the full git log from the beginning if I don\u0026rsquo;t append a -1 in the end of the command. more was not a good candidate either, since colors was not well displayed in the console with more I preferred to keep less as the pager, but display content in the console. So for me : git config \u0026ndash;global core.pager \u0026ldquo;less -erX\u0026rdquo; (important option here is the -X option)\n","date":"2018-04-14T10:38:59+08:00","image":"https://tab.deoops.com/posts/git-pager/pager_hu4a9bc118edabcc52dadf803528096b0c_288981_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/git-pager/","title":"åˆ†é¡µæ‰“å°æ—¥å¿—"},{"content":"é‡åˆ°ä¸€ä¸ªå¥‡æ€ªçš„é—®é¢˜æ‰§è¡Œcertbotä¼šæŠ¥é”™ï¼Œmoudle conflictå’Œ No moduleï¼Œä½†æ˜¯yum install certbotçš„æ—¶å€™æ²¡æœ‰æŠ¥é”™ã€‚\ncertbot Traceback (most recent call last): File \u0026#34;/bin/certbot\u0026#34;, line 7, in \u0026lt;module\u0026gt; from certbot.main import main File \u0026#34;/usr/lib/python2.7/site-packages/certbot/main.py\u0026#34;, line 17, in \u0026lt;module\u0026gt; from certbot import account File \u0026#34;/usr/lib/python2.7/site-packages/certbot/account.py\u0026#34;, line 17, in \u0026lt;module\u0026gt; from acme import messages File \u0026#34;/usr/lib/python2.7/site-packages/acme/messages.py\u0026#34;, line 7, in \u0026lt;module\u0026gt; from acme import challenges File \u0026#34;/usr/lib/python2.7/site-packages/acme/challenges.py\u0026#34;, line 11, in \u0026lt;module\u0026gt; import requests File \u0026#34;/usr/lib/python2.7/site-packages/requests/__init__.py\u0026#34;, line 58, in \u0026lt;module\u0026gt; from . import utils File \u0026#34;/usr/lib/python2.7/site-packages/requests/utils.py\u0026#34;, line 32, in \u0026lt;module\u0026gt; from .exceptions import InvalidURL File \u0026#34;/usr/lib/python2.7/site-packages/requests/exceptions.py\u0026#34;, line 10, in \u0026lt;module\u0026gt; from .packages.urllib3.exceptions import HTTPError as BaseHTTPError File \u0026#34;/usr/lib/python2.7/site-packages/requests/packages/__init__.py\u0026#34;, line 95, in load_module raise ImportError(\u0026#34;No module named \u0026#39;%s\u0026#39;\u0026#34; % (name,)) ImportError: No module named \u0026#39;requests.packages.urllib3\u0026#39; pip install requests urllib3 pyOpenSSL --force --upgrade certbot An unexpected error occurred: VersionConflict: (setuptools 0.9.8 (/usr/lib/python2.7/site-packages), Requirement.parse(\u0026#39;setuptools\u0026gt;=1.0\u0026#39;)) pip install --upgrade pip setuptools certbot ls meat å¼„äº†å¾ˆä¹…å†³å®šæŠ›å¼ƒyumç›´æ¥ä½¿ç”¨ pipå®‰è£…certbotï¼Œå®‰è£…å®Œæˆåï¼Œå‘ç°ä¸å†æŠ¥é”™ï¼š\nyum install openssl-devel python-devel pip install --upgrade pip setuptools pip install certbot pip install requests urllib3 pyOpenSSL --force --upgrade certbot -d tab.deoops.com --manual --preferred-challenges dns certonly å°ç»“ æœ¬æ¥æ˜¯ä¸æƒ³å†™è¿™ç¯‡åšæ–‡çš„ï¼Œä¼°æ‘¸ç€letsencryptå®˜æ–¹ è¿Ÿæ—©ä¼šä¿®å¤certbot rpmåŒ…çš„ï¼Œç»“æœä¸€ç­‰å°±æ˜¯ä¸¤ä¸ªæœˆï¼Œ letsencryptéƒ½æ²¡ä¿®å¤ rpmåŒ…ã€‚\næœ€è¿‘å¤šå°æœåŠ¡å™¨çš„certbotå®‰è£…åˆé‡åˆ°è¿™ä¸ªä¸å…¼å®¹çš„é—®é¢˜ï¼Œæ¯æ¬¡å»å…¶å®ƒçš„æœåŠ¡å™¨ä¸Šæ‰¾command historyæœ‰ç‚¹éº»çƒ¦ï¼Œæ‰€ä»¥è®°ä¸‹æ¥æ–¹ä¾¿æŸ¥æ‰¾ã€‚\n","date":"2018-03-30T10:21:25+08:00","image":"https://tab.deoops.com/posts/python-import/pip_hu14873f9ce72059666dd108380cb75b5f_111886_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/python-import/","title":"pipåŒ…å†²çª"},{"content":"å®¢æˆ·éœ€è¦éƒ¨ç½²ä¸€å¥— moodle æ•™å­¦ç³»ç»Ÿã€‚\nå»moodleå®˜ç½‘å¤§è‡´çœ‹äº†ä¸€åœˆï¼Œå‘ç°moodle æ˜¯ä¸€ä¸ªå…¸å‹çš„PHP webåº”ç”¨ã€‚\nå…¶å®è¿™ç§LAMP (Linux, Apache, MySQL, PHP/Perl/Python)çš„åº”ç”¨ï¼Œ\næˆ‘ä¸€èˆ¬ä¼šç”¨docker componseå¿«é€Ÿéƒ¨ç½²çš„ï¼Œæ¯”å¦‚è¿™ä¸ªdocker componseçœ‹ä¸Šå»å°±å¾ˆä¸é”™ã€‚\nä½†æ˜¯å®¢æˆ·ä¸æƒ³ç”¨dockerï¼Œè¦æ±‚ç›´æ¥åœ¨vmä¸Šéƒ¨ç½²ã€‚\nåˆæ­¥ç¡®è®¤éƒ¨ç½²ç¯å¢ƒä¸ºï¼š nginx(let's encrypt) + php 7.2 + pg 10 + Centos 7.4 ã€‚\nå®‰è£…è½¯ä»¶ åˆå§‹åŒ–ä¸»æœº hostnamectl set-hostname deoops.com # disable passwd login; use ssh-key only vi /etc/ssh/sshd_config yum update -y yum upgrade -y init 6 # add remi repo rpm -Uvh https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm rpm -Uvh http://rpms.famillecollet.com/enterprise/remi-release-7.rpm å®‰è£…nginx yum install nginx yum -y install yum-utils yum-config-manager --enable rhui-REGION-rhel-server-extras rhui-REGION-rhel-server-optional ## å®‰è£…let\u0026#39;s encrypt certbot yum install certbot-nginx systemctl enable nginx systemctl start nginx ## ç­¾å‘è¯ä¹¦ certbot --nginx certonly ls -alh /etc/nginx/ å®‰è£…php dependency yum --enablerepo=remi,remi-php72 install php-fpm php-common php-opcache php-pecl-apcu php-cli php-pear php-pdo php-mysqlnd php-pgsql php-pecl-mongodb php-pecl-redis php-pecl-memcache php-pecl-memcached php-gd php-mbstring php-mcrypt php-xml é…ç½®nginx + php-fpm è¯¦ç»†çš„é…ç½®å†…å®¹çœ‹è¿™é‡Œ\nvi /etc/nginx/nginx.conf ls mv mood.conf /etc/nginx/conf.d/ ls -ahl /etc/php-fpm.d/ mv www.conf /etc/php-fpm.d/ mv php.ini /etc/ systemctl start php-fpm.service systemctl enable php-fpm.service å®‰è£…postgresql 10 fdisk -l bash newDisk.sh /dev/vdb mkdir /media/data/mood mkdir /media/data/pgdata yum install https://download.postgresql.org/pub/repos/yum/10/redhat/rhel-7-x86_64/pgdg-centos10-10-2.noarch.rpm -y yum install postgresql10 -y yum install postgresql10-server postgresql10-contrib -y ls -alh /var/lib/pgsql/10/data/ chown -R postgres:postgres /media/data/pgdata vi /usr/lib/systemd/system/postgresql-10.service /usr/pgsql-10/bin/postgresql-10-setup initdb systemctl enable postgresql-10 systemctl start postgresql-10 é…ç½®postgresql hba netstat -nlp vi /media/data/pgdata/pg_hba.conf systemctl restart postgresql-10 netstat -nlp å®‰è£…moodle 34 ls mv moodle-latest-34.tgz zh_cn.zip /media/data/mood/ cd /media/data/mood/ ls tar xzf moodle-latest-34.tgz vi /etc/nginx/conf.d/mood.conf chown -R nginx:nginx /media/data/mood ls -alh /var/lib/php/session/ ls -alh /run/php-fpm/ netstat -nlp | grep php chown -R nginx:nginx /var/lib/php/session/ systemctl restart php-fpm su - postgres å®‰è£…moodleä¾èµ–åŒ… å®‰è£… zip,xmlrpc,soapç­‰ä¾èµ–åŒ…ï¼š\nyum --enablerepo=remi,remi-php72 install php72-php-zip systemctl restart php-fpm.service systemctl restart nginx.service init 6 yum --enablerepo=remi,remi-php72 install php72-php-pecl-zip yum --enablerepo=remi,remi-php72 install php-zip systemctl restart php-fpm.service systemctl restart nginx yum --enablerepo=remi,remi-php72 install php-intl yum --enablerepo=remi,remi-php72 install phpxmlrpc yum --enablerepo=remi,remi-php72 install php-xmlrpc yum --enablerepo=remi,remi-php72 install php-soap systemctl restart nginx systemctl restart php-fpm.service é…ç½® é…ç½®nginx php-fpm moodleä½¿ç”¨çš„nginx é…ç½®ï¼ŒåŸºæœ¬é€‚ç”¨äºæ‰€æœ‰çš„php åº”ç”¨ï¼š\n# PHP Upstream Handler upstream php-handler { server unix:/run/php-fpm/php-fpm.sock; } server { server_name moodle-demo.deoops.com; ssl on; listen [::]:443 ssl ipv6only=on; # managed by Certbot listen 443 ssl; # managed by Certbot ssl_certificate /etc/letsencrypt/live/moodle-demo.deoops.com/fullchain.pem; # managed by Certbot ssl_certificate_key /etc/letsencrypt/live/moodle-demo.deoops.com/privkey.pem; # managed by Certbot include /etc/letsencrypt/options-ssl-nginx.conf; # managed by Certbot ssl_dhparam /etc/letsencrypt/ssl-dhparams.pem; # managed by Certbot root /media/data/mood/moodle; rewrite ^/(.*\\.php)(/)(.*)$ /$1?file=/$3 last; location ^~ / { try_files $uri $uri/ /index.php?q=$request_uri; index index.php index.html index.htm; location ~ \\.php$ { include fastcgi.conf; fastcgi_pass php-handler; } } } # http -\u0026gt; https server { if ($host = moodle-demo.deoops.com) { return 301 https://$host$request_uri; } # managed by Certbot listen 80 ; listen [::]:80 ; server_name moodle-demo.deoops.com; return 404; # managed by Certbot } é…ç½®httpsè¯ä¹¦ é…ç½®let\u0026rsquo;s encryptè‡ªæ›´æ–°crontab job:\ncertbot renew --dry-run crontab -e crontab -l 0 0,12 * * * python -c \u0026#39;import random; import time; time.sleep(random.random() * 3600)\u0026#39; \u0026amp;\u0026amp; certbot renew å‚è€ƒ moodle: set up postgresql counts and database\nPHP(php-fpm) nginx\n","date":"2018-03-20T13:58:27+08:00","image":"https://tab.deoops.com/posts/install-moodle/moodle_huc8bc81a9f0a50eb186d9f1a801c3ecb2_27882_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/install-moodle/","title":"éƒ¨ç½²moodle"},{"content":"å·¥ä½œéœ€è¦å®šæ—¶å¤‡ä»½postgresql slaveæ•°æ®åº“æ•°æ®æ•°æ®ï¼ŒæœåŠ¡å™¨ä¸Šè¿è¡Œäº†ä¸¤ä¸ªslaveå®ä¾‹ï¼Œéš¶å±äºä¸¤ä¸ªä¸åŒçš„masterã€‚\nå¤‡ä»½ ä¸¤ä¸ªslave serverå®ä¾‹åˆ†åˆ«ç›‘å¬åœ¨ 5432å’Œ 4432ç«¯å£\n#!/bin/bash # # Daily PostgreSQL maintenance: vacuuming and backuping. # ## set -e for port in 5432 4432; do BACKDIR=\u0026#34;/data/pg_back/$port\u0026#34; [ -d $BACKDIR ] || mkdir -p $BACKDIR echo \u0026#34;[`date`] begin Maintaining pg on port $port\u0026#34; # no need to use -U option for DB in $(psql -l -t -p $port |awk \u0026#39;{ print $1}\u0026#39; |grep -vE \u0026#39;^-|:|^List|^Name|template[0|1]|postgres|\\|\u0026#39;); do ### swith form \u0026#39;awk and grep\u0026#39; hacks to psql options and \u0026#39;select sql\u0026#39; ### which is more dbaer professioner :) for DB in $(psql -AqXtc \u0026#39;SELECT datname FROM pg_database WHERE datistemplate = false;\u0026#39;); do echo \u0026#34; [`date`] Maintaining $DB\u0026#34; PREFIX=\u0026#34;$BACKDIR/$DB\u0026#34; # NO need to do `vacuum` on slaves # do `vacunm` on master instead # echo \u0026#39;VACUUM\u0026#39; | psql -U postgres -hlocalhost -d $DB DUMP=\u0026#34;$PREFIX.`date \u0026#39;+%Y%m%d\u0026#39;`.sql.gz\u0026#34; # no need for -U postgres option pg_dump -p $port $DB | gzip -c \u0026gt; $DUMP PREV=\u0026#34;$PREFIX.`date -d\u0026#39;1 day ago\u0026#39; \u0026#39;+%Y%m%d\u0026#39;`.sql.gz\u0026#34; # md5sum -b $DUMP \u0026gt; $DUMP.md5 md5=($(md5sum -b $DUMP)) echo $md5 \u0026gt; $DUMP.md5 if [ -f $PREV.md5 ] \u0026amp;\u0026amp; diff $PREV.md5 $DUMP.md5; then rm -f $PREV $PREV.md5 fi ## delete too old backup TOOOLD=\u0026#34;$PREFIX.`date -d\u0026#39;15 day ago\u0026#39; \u0026#39;+%Y%m%d\u0026#39;`.sql.gz\u0026#34; [ -f $TOOOLD ] || rm -f $TOOOLD done echo \u0026#34;[`date`] Maintain pg on port $port finished\u0026#34; done å‚è€ƒï¼šAutomatic Offsite PostgreSQL Backups Without a Password\nå‚è€ƒï¼šOnly get hash value using md5sum (without filename) å®šæ—¶ chmod +x pg_backup.sh su - postgres crontab -e # 16 2 * * * /var/lib/pgsql/pg_backup.sh \u0026gt;\u0026gt; /var/log/psql_corn_bak.log # */3 * * * * /var/lib/pgsql/pg_backup.sh \u0026gt;\u0026gt; /var/log/psql_corn_bak.log 2\u0026gt;\u0026amp;1 ## every 3 minutes psql ä¸€èˆ¬æƒ…å†µä¸‹psqlçš„å·¥ä½œæ¨¡å¼æ˜¯å’Œäººçš„ç›¸äº’äº¤äº’æ¨¡å¼(interpreter)ï¼Œåœ¨shellè„šæœ¬é‡Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„options -AqXt -c ä¼šæ›´å®ç”¨å†™\n-A: The output is not aligned; by default, the output is aligned. -q (quiet): This option forces psql not to write a welcome message or any other informational output. -t: This option tells psql to write the tuples only, without any header information. -X: This option informs psql to ignore the psql configuration that is stored in ~/.psqlrc file. -o: This option specifies psql to output the query result to a certain location. -F: This option determines the field separator between columns. This option can be used to generate CSV, which is useful to import data to Excel files. PGOPTIONS: psql can use PGOPTIONS to add command-line options to send to the server at runtime. This can be used to control statement behavior such as to allow index scan only or to specify the statement timeout. demo #!/bin/bash connection_number=`PGOPTIONS=\u0026#39;--statement_timeout=0\u0026#39; psql -AqXt -c\u0026#34;SELECT count(*) FROM pg_stat_activity\u0026#34;` # The result of the command psql -AqXt â€“d postgres -c \u0026#34;SELECT count(*) FROM pg_stat_activity\u0026#34; is assigned to a bash variable. #The options -AqXt, as discussed previously, cause psql to return only the result without any decoration, as follows: psql -AqXt -c \u0026#34;SELECT count(*) FROM pg_stat_activity\u0026#34; 1 ","date":"2018-02-24T11:21:55+08:00","image":"https://tab.deoops.com/posts/postgresql-backup/postgresql-backup_hu30910665284931ace4f57faa1e01d828_94157_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/postgresql-backup/","title":"æ•°æ®åº“å¤‡ä»½"},{"content":"ä¸€èˆ¬postgresé«˜å¯ç”¨é›†ç¾¤æ˜¯ä¸€ä¸ªmasteré…ä¸€ä¸ªslaveï¼Œä½†æ˜¯å¼€å‘è¿™è¾¹éœ€è¦åšdbçš„è¯»å†™åˆ†ç¦»ï¼Œæ‰€ä»¥è¿ç»´è¿™è¾¹ åˆæ·»åŠ äº†ä¸€å°slaveä¸“é—¨æš´éœ²å‡ºæ¥åšè¯»æ“ä½œã€‚åŸæ¥çš„slaveè¿˜æ˜¯åªåšå¤‡ä»½ã€‚\nHA ä¸€ä¸»ä¸€ä»é«˜å¯ç”¨çš„é…ç½®å¯ä»¥å‚è€ƒä¸‹é¢è¿™ç¯‡æ–‡ç«  postgres streaming replicationï¼Œæœ‰æ—¶é—´çš„è¯æˆ‘å¯èƒ½ä¼šæ¬è¿ä¸€ä¸‹ :)\nå®‰è£…é…ç½® å› ä¸ºpgæ•°æ®åº“é›†ç¾¤å·²ç»é…ç½®å¥½äº†ä¸€ä¸»ä¸€ä»ï¼Œæ‰€ä»¥åœ¨masterä¸»æœºä¸Šä¸éœ€è¦é…ç½®pg_hba.conf, æˆ–è€…CREATE ROLEç­‰ç­‰ã€‚\næ·»åŠ ç¬¬äºŒä¸ªslaveéœ€è¦æ³¨æ„ä»¥ä¸‹ä¸¤ç‚¹ï¼š\nç­‰å¾…pg_basebackupreplicas streamæ•°æ®åŒæ­¥å®Œæˆåï¼Œå†å¯åŠ¨ postgresql-9.6 service; ä¿®æ”¹PG_DATA_DIRç›®å½•çš„æƒé™; rm /etc/yum.repos.d/pgdg-96-redhat.repo yum install https://download.postgresql.org/pub/repos/yum/9.6/redhat/rhel-7-x86_64/pgdg-centos96-9.6-3.noarch.rpm yum install -y postgresql96 yum install -y postgresql96-server yum install -y postgresql96-contrib vi /usr/lib/systemd/system/postgresql-9.6.service mkdir /data/pg9.6 chown postgres:postgres /data/pg9.6/ ls -alh /data/pg9.6/ pg_basebackup --help ## you can add option --checkpoint=fast for an instance backup ## qhich is not recommend pg_basebackup -X stream -D /data/pg9.6/ -P -R -h 10.3.3.3 -U replicator ls /data/pg9.6/ cat /data/pg9.6/recovery.conf vi /data/pg9.6/postgresql.conf pwd systemctl start postgresql-9.6.service ls -alh /data/pg9.6/ chown -R postgres:postgres /data/pg9.6 chmod 700 /data/pg9.6 systemctl start postgresql-9.6.service netstat -nlp | grep 5432 su - postgres systemctl enable postgresql-9.6.service check åœ¨masterä¸»æœºä¸ŠæŸ¥çœ‹pg_stat_replicationè¡¨æ•°æ®ï¼ŒéªŒè¯ç¬¬äºŒä¸ªslaveæ˜¯å¦æ­£å¸¸å·¥ä½œï¼š\n# on MASTER machine [dba_lol@pg_master ~]$ sudo su - postgres ä¸Šä¸€æ¬¡ç™»å½•ï¼šäº” 2æœˆ 23 17:12:02 HKT 2018pts/1 ä¸Š -bash-4.2$ psql psql (9.6.6) Type \u0026#34;help\u0026#34; for help. postgres=# select * from pg_stat_replication; pid | usesysid | usename | application_name | client_addr | client_hostname | client_port | backend_start | backend_xmin | state | sent_location | write_location | flush_location | replay_location | sync_priorit y | sync_state ------+----------+---------+------------------+-------------+-----------------+-------------+-------------------------------+--------------+-----------+---------------+----------------+----------------+-----------------+------------- --+------------ 6720 | 19367 | replicator | walreceiver | 10.2.2.2 | | 49308 | 2018-01-24 18:20:47.114058+08 | | streaming | 82/6B07DD60 | 82/6B07DD60 | 82/6B07DD60 | 82/6B07DD20 | 0 | async 446 | 19367 | replicator | walreceiver | 10.2.2.4 | | 54836 | 2018-02-21 13:21:39.420745+08 | | streaming | 82/6B07DD60 | 82/6B07DD60 | 82/6B07DD60 | 82/6B07DD20 | 0 | async (2 rows) postgres=# PS add slave to slave ç¼–è¾‘recover.conf æ–‡ä»¶ çš„ primary_conninfoåœ°å€ä¿¡æ¯å¯ä»¥å®ç°slave -\u0026gt; slaveçš„æ•°æ®åŒæ­¥ã€‚\n","date":"2018-02-05T21:55:41+08:00","image":"https://tab.deoops.com/posts/postgre-two-slaves/postgres-replication_huca2c20491ce105e13b07fad9910c3805_99263_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/postgre-two-slaves/","title":"ä¸¤ä¸ªå¥´éš¶"},{"content":"å‡ å¤©ä¹‹å‰è¯•ç”¨è¿‡äº†kongæ•ˆæœä¸ç†æƒ³ ï¼Œä»Šå¤©æ¥ä½¿ç”¨ä¸‹å°ç±³å‡ºå“ï¼ˆå­˜ç–‘ï¼Ÿï¼‰çš„ orangeç½‘å…³ã€‚\nä¸€ä¸ªæ˜æ˜¾çš„åŒºåˆ«æ˜¯ kongçš„åç«¯å­˜å‚¨ä½¿ç”¨äº†postgresqlï¼Œorangeä½¿ç”¨çš„æ˜¯mysqlã€‚\nå¥½äº†ï¼ŒåºŸè¯ä¸å¤šè¯´ï¼Œè´´å‡ºå®‰è£…éƒ¨ç½²çš„è¿‡ç¨‹å¦‚ä¸‹ï¼š\nå®‰è£… mysql #!/bin/bash wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm sudo rpm -ivh mysql-community-release-el7-5.noarch.rpm sudo yum update sudo yum install mysql-server sudo systemctl start mysqld sudo systemctl enable mysqld sudo mysql_secure_installation vi save_your_root_pwd git clone https://github.com/sumory/orange.git cd orange/ ls cd install/ ls head orange-v0.6.4.sql head -n 100 orange-v0.6.4.sql head -n 50 orange-v0.6.4.sql mysql -V mysql -u root -p cd orange/ cd install/ ls mysql -u o_usr -p o_database \u0026lt; orange-v0.6.4.sql mysql -u o_usr -p o_database orange #!/bin/bash yum remove kong-community-edition ## get rid of annoying lua 5.1 version conflict cd /data/nginx/conf/ cp api.conf api.conf.bak.18.03.09 ## always backup conf files : ) nginx -s stop netstat -nlp | grep 443 mv /usr/sbin/nginx /usr/sbin/nginx_old yum install yum-utils yum-config-manager --add-repo https://openresty.org/package/centos/openresty.repo yum install openresty openresty-resty -y git clone https://github.com/sumory/orange.git git clone https://github.com/sumory/lor.git pwd mv lor ~ mv orange ~ cd ls cd lor/ make install cd ../orange/ make install cd ln -s /usr/local/bin/orange /bin/orange ln -s /usr/local/openresty/nginx/sbin/nginx /bin/nginx mv /home/deoops/orange.conf /home/deoops/nginx.conf /usr/local/orange/conf/ vi /usr/local/orange/conf/orange.conf ## make sure orange.conf has the right mysql server info vi /data/nginx/conf/api.conf chown root:root /usr/local/orange/conf/*.conf orange start netstat -nlp | grep 443 å°ç»“ ç”¨äº†å‡ å¤©ï¼Œæ„Ÿè§‰UIæ¯”èµ·kongæ¥è¯´ç®€å•äº›ï¼Œå¼€ç®±å³ç”¨çš„åŠŸèƒ½æ¯”kongä¹Ÿå¤šä¸€äº›ã€‚ ç¨³å®šæ€§è¿˜æœ‰å¾…è¿›ä¸€æ­¥çš„è§‚å¯Ÿã€‚\n","date":"2018-02-05T19:37:23+08:00","image":"https://tab.deoops.com/posts/try-orange/orange_huaf4bb76d1e84ff1eb3641c169af667d6_43273_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/try-orange/","title":"orangeç½‘å…³"},{"content":"updated: kongä¸æ»¡è¶³è¦æ±‚ï¼Œåé¢è°ƒç ”äº†å¦å¤–ä¸€ä¸ªAPIäº§å“ orange\n2015å¹´æ¥è§¦openrestyçš„æ—¶å€™æ¥è§¦è¿‡kongï¼Œäº†è§£åˆ°kongæ˜¯åŸºäºopenrestyäºŒæ¬¡å¼€å‘çš„å•†ä¸šäº§å“ï¼Œ\næ­£å¥½ç›®å‰æ–°å…¬å¸è¦è°ƒç ”ç¨³å®šå¥½ç”¨çš„API Gatewayäº§å“ï¼Œæ‰€ä»¥æœ¬æ–‡ç®€å•è®°å½•ä¸‹æˆ‘å¯¹kongçš„å®‰è£…é…ç½®æ„Ÿå—ã€‚\nå®‰è£… yum install https://bintray.com/kong/kong-community-edition-rpm/download_file?file_path=centos/7/kong-community-edition-0.12.1.el7.noarch.rpm kong systemctl stop nginx netstat -nlp netstat -nlp|grep 80 ls date vi /etc/kong/kong.conf.default vipw su - postgres create user kong; create database kong ownner kong; create database kong owner kong; cd /etc/kong/ cp kong.conf.default kong.conf vi kong.conf kong migrations up psql -U kong tail /media/data/pgdata/log/postgresql-Wed.log vi /media/data/pgdata/pg_hba.conf systemctl restart postgresql-10.service kong migrations up kong kong check kong start netstat -nlp | grep 80 which nginx curl localhost: netstat -nlp vi /usr/local/kong/nginx-kong.conf which -a nginx kong kong restart --nginx-conf /etc/nginx/nginx.conf cp /etc/nginx/nginx.conf /etc/nginx/nginx.conf.tmpl vi /etc/nginx/nginx.conf.tmpl kong restart --nginx-conf /etc/nginx/nginx.conf.tmpl which -a npm å®‰è£…æ§åˆ¶å° ä½¿ç”¨\nwhich -a docker yum remove docker docker-common docker-selinux docker-engine yum install -y yum-utils device-mapper-persistent-data lvm2 yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo yum install docker-ce systemctl start docker docker run hello-world curl -sSL https://get.daocloud.io/daotools/set_mirror.sh | sh -s http://2b77623e.m.daocloud.io systemctl restart docker systemctl enable docker docker run -d --rm -p 8080:8080 pgbi/kong-dashboard start --kong-url http://10.0.0.1:8001 --basic-auth usrtest=pwdtest docker ps -a ### registe the very first api through kong admin api curl -i -X POST --url http://10.0.0.11:8001/apis --data \u0026#39;name=admin-api\u0026#39; --data \u0026#39;hosts=a.k.deoops.com\u0026#39; --data \u0026#39;upstream_url=http://localhost:8080\u0026#39; å°ç»“ å¼€æºKong çš„é™åˆ¶æ¯”è¾ƒå¤šï¼Œåå‘ä»£ç†é…ç½®åŸºæœ¬ä¸Šé æ’ä»¶ï¼Œå¯¹ç°å­˜çš„nginxçš„confå…¼å®¹æ€§ä¸å‹å¥½ã€‚ ç®€å•çš„proxy_cacheé…ç½®ä¸€å®šè¦ä¼ä¸šç‰ˆæ‰æ”¯æŒï¼Œä¸‹é¢çš„æ›´åŠ ç²¾ç»†é…ç½®ä¹Ÿæ²¡æœ‰æ”¯æŒï¼š\nvalid_referers *.deoops.cn deoops.cn *.deoops.com deoops.com; add_header \u0026#39;Access-Control-Allow-Headers\u0026#39; \u0026#39;os, ver, hwid, innerver, channel, net, token, et\u0026#39;; proxy_cache my_cache; proxy_cache_valid 200 302 304 10s; proxy_ignore_headers Expires Cache-Control Set-Cookie; proxy_cache_key $host$request_uri$is_args$args$http_token; if ($request_uri ~ img_vercode ){ set $no_proxy_cache 1; } if ($remote_addr = 114.13.118.24){ set $no_proxy_cache 1; } ","date":"2018-02-03T18:05:04+08:00","image":"https://tab.deoops.com/posts/try-kong/kong_hu72b17c962d5d607193e13498b681225b_9130_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/try-kong/","title":"kongç½‘å…³"},{"content":"å‡è®¾ä¸€ä¸ªgolangé¡¹ç›®çš„ä¸‰ä¸ªæºæ–‡ä»¶a.go,b.go, c.goï¼Œéƒ½å®šä¹‰äº†function inint(){}å‡½æ•°ï¼Œ\nå…¶ä¸­c.goæ–‡ä»¶åˆå§‹åŒ–äº†ä¸€ä¸ªå…¨å±€å˜é‡globalVarï¼ŒåŒæ—¶a.go æˆ–è€…b.goçš„init func å¼•ç”¨äº†è¿™ä¸ªå…¨å±€å˜é‡globalVarã€‚\né‚£ä¹ˆè¿™ä¸ªæ—¶å€™å°±ä¼šå‡ºç°ä¸€ä¸ªé—®é¢˜ï¼Œåœ¨a.goå’Œ b.goçš„init funcä¸­ globalVarçš„å¼•ç”¨æ˜¯ç©ºå€¼ã€‚\nç¤ºä¾‹ æ–‡ä»¶ç»“æ„ â¯ tree . â”œâ”€â”€ a.go â”œâ”€â”€ b.go â”œâ”€â”€ c.go â”œâ”€â”€ go.mod â””â”€â”€ main.go 0 directories, 5 files æºä»£ç  // file `a.go` package main import \u0026#34;fmt\u0026#34; func init() { // globalVar is empty fmt.Println(\u0026#34;globalVar in a.go:\u0026#34;, globalVar) } // file `b.go` package main import \u0026#34;fmt\u0026#34; func init() { // globalVar is empty fmt.Println(\u0026#34;globalVar in b.go:\u0026#34;, globalVar) } // file `c.go` package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func init() { globalVar = initVar() fmt.Println(\u0026#34;globalVar in c.go:\u0026#34;, globalVar) } func initVar() string { time.Sleep(20 * time.Millisecond) return \u0026#34;late is better than never\u0026#34; } // file `main.go` package main import \u0026#34;fmt\u0026#34; var globalVar = \u0026#34;\u0026#34; func main() { fmt.Println(\u0026#34;vim-go\u0026#34;) } result â¯ go build -o demo â¯ ./demo globalVar in a.go: globalVar in b.go: globalVar in c.go: late is better than never vim-go è§£å†³åŠæ³• ç®€å•çš„è§£å†³åŠæ³•å¯ä»¥æ˜¯é‡å‘½åc.goä¸º0a.goä¿è¯0a.goä¸­çš„initæœ€æ—©æ‰§è¡Œå®Œæˆï¼Œ\nmv c.go 01.go è¿™ä¸ªè§£å†³æ–¹æ¡ˆçš„ä¼˜ç‚¹æ˜¯å¯ä»¥ä¸ç”¨ä¿®æ”¹ä»£ç ï¼Œä½†æ˜¯ä¸å¤Ÿä¼˜é›…ã€‚\næ¯”è¾ƒå¥½çš„è§£å†³æ–¹å¼åº”è¯¥æ˜¯ï¼Œä¸è¦åœ¨init funcé‡Œåˆå§‹åŒ–å…¨å±€å˜é‡ï¼Œåº”è¯¥ç›´æ¥åœ¨top block contextä¸­å¯¹å…¨å±€å˜é‡åˆå§‹åŒ–ï¼š\n// file `c.go` package main var globalVar = initVar() func init() { // ... } ","date":"2018-01-23T16:23:01+08:00","image":"https://tab.deoops.com/posts/golang-init/init_hu78bbcb6727b96f6a349cc768fb1f363a_291492_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/golang-init/","title":"initä¼˜å…ˆçº§"},{"content":"æ¢äº†ä»½å·¥ä½œï¼Œæ–°å…¬å¸æ˜¯åšåŠ å¯†å¸äº¤æ˜“æ‰€çš„ï¼ŒæœåŠ¡å™¨éƒ½åœ¨å›½å¤–ã€‚æ‰€ä»¥æœ‰æœºä¼šæ¥è§¦åˆ°äº†å¾®è½¯çš„azureäº‘æœåŠ¡ï¼Œ æœåŠ¡å™¨åŸºæœ¬éƒ½åœ¨äºšå¤ªåŒºæ–°åŠ å¡ã€‚\npsï¼šè¿™æ˜¯æˆ‘ç¬¬ä¸€æ¬¡å®æ“å•å°é…ç½®32c64gçš„è™šæ‹Ÿæœºï¼Œçºªå¿µä¸€ä¸‹ã€‚ä»¥å‰å·¥ä½œä¸­æœ€å¤šå°±8c16gï¼Œæ•°é‡çš„è¯ä¸¤ä¸‰ç™¾å°æœºå™¨ã€‚\nhistory uname -a # kernel info cat /etc/redhat-release df -alh # query disk info ifconfig ping 10.0.0.6 ssh 10.0.0.6 ls .ssh/ mv azagent .ssh/id_rsa ls -alh .ssh/id_rsa ssh 10.0.0.6 ping jd.com yum install yum-utils sudo yum install yum-utils yum -y upgrade sudo yum -y upgrade sudo yum -y update sudo yum-config-manager --add-repo https://openresty.org/package/centos/openresty.repo sudo yum install openresty # install web server sudo vi /etc/ssh/sshd_config systemctl status sshd systemctl restart sshd sudo systemctl restart sshd yum install ansible sudo yum install ansible sudo systemctl status openresty sudo systemctl enable openresty sudo systemctl start openresty curl -I localhost uptime date sudo install git sudo yum install git locate openresty rpm -qc openresty # query configuration file wget https://copr.fedorainfracloud.org/coprs/dheche/prometheus/repo/epel-7/dheche-prometheus-epel-7.repo ls head dheche-prometheus-epel-7.repo suod mv dheche-prometheus-epel-7.repo /etc/yum.repos.d/prometheus.repo sudo mv dheche-prometheus-epel-7.repo /etc/yum.repos.d/prometheus.repo sudo yum install prometheus sudo yum install prometheus-node sudo vi /etc/yum.repos.d/prometheus.repo sudo yum install prometheus sudo yum install prometheus2 sudo yum install node_exporter sudo yum install alertmanager vi /etc/hosts sudo vi /etc/hosts ssh ten sudo vi /etc/yum.conf ls /var/cache/yum/x86_64/7/prometheus/ ls /var/cache/yum/x86_64/7/prometheus/packages/ ls -alh /var/cache/yum/x86_64/7/prometheus/packages/ ls sudo yum install yum-utils history sudo yumdownloader prometheus ls ls -alh sudo yumdownloader prometheus2 # download installed rmp packages sudo yumdownloader node_exporter.x86_64 sudo yumdownloader alertmanager.x86_64 ls -alh scp node_exporter-0.15.2-1.el7.centos.x86_64.rpm ten: ssh ten ssh ten \u0026#39;sudo systemctl enable node_exporter\u0026#39; ssh ten \u0026#39;sudo systemctl start node_exporter\u0026#39; sudo systemctl start node_exporter sudo systemctl enable node_exporter sudo systemctl enable alertmanger sudo systemctl enable alertmanager sudo systemctl start alertmanager netstat -nlp sudo -i # su to root pwd ls rm prometheus-1.8.2-1.el7.centos.x86_64.rpm ls sudo systemctl enable prometheus sudo systemctl start prometheus cat/etc/passwd rpm -qc prometheus2 ls -alh /etc/default/prometheus id prometheus cat /etc/default/prometheus ls -alh /etc/prometheus/ sudo -i æ€»çš„è¯´æ¥æ•²äº†100æ¥æ¡æŒ‡ä»¤ï¼Œæ¯”è¾ƒé‡è¦çš„æ˜¯ä¸‹é¢ä¸‰æ¡æŒ‡ä»¤ï¼š\nsudo -iåˆ‡æ¢ä¸ºrootç”¨æˆ·ï¼› yumdownloader ä¿å­˜é€šè¿‡yumå®‰è£…çš„rpmåŒ… (é…åˆyum -C install å’ŒSCPå¯ä»¥åŠ å¿«LANä¸‹æ‰€æœ‰ä¸»æœºçš„å®‰è£…é€Ÿåº¦)ï¼› rpm -qc æŸ¥è¯¢å®‰è£…åŒ…é…ç½®ä¿¡æ¯; timeout é»˜è®¤æƒ…å†µä¸‹ï¼ŒAzure çš„Linuxä¸»æœºçš„sshd æœåŠ¡ä¼šæŠŠé—²ç€è¶…è¿‡1åˆ†é’Ÿçš„å®¢æˆ·ç«¯è¸¢ä¸‹çº¿ssh session timeoutã€‚ ä¿®æ”¹æœ¬åœ°ssh å®¢æˆ·ç«¯è¿æ¥é…ç½®æ·»åŠ ServerAliveIntervalç­‰é…ç½®é¡¹å°±å¯ä»¥è§„é¿ä¸Šé¢è¯´çš„timeouté™åˆ¶ï¼š\n#### .ssh/config snippet HOST singapore2 HostName 40.50.60.70 IdentityFile ~/.ssh/az ServerAliveInterval 120 ServerAliveCountMax 30 ConnectTimeout 30 ","date":"2017-11-15T10:48:20+08:00","image":"https://tab.deoops.com/posts/azure-centos/Azure_hu06c085390a6f76b660a41a8f6ece78bc_31082_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/azure-centos/","title":"è¯•ç”¨Azure Centosè™šæ‹Ÿæœº"},{"content":"TLDR; find: æœ‰å¾ˆå¤šè¿‡æ»¤è§„åˆ™æŸ¥æ‰¾æ–‡ä»¶/ç›®å½•/è®¾å¤‡ï¼Œè€Œä¸”å¯ä»¥é€’å½’æŸ¥è¯¢æŸä¸€ä¸ªç›®å½•ä¸‹çš„ç›®å½•æˆ–æ–‡ä»¶ï¼Œæœ€åé™¤äº†æ‰“å°æŸ¥è¯¢ç»“æœä»¥å¤–ï¼Œè¿˜å¯ä»¥åšå…¶å®ƒæ“ä½œï¼ˆæ¯”å¦‚åˆ é™¤è¯¥æ–‡ä»¶ï¼‰ï¼› locate: åˆ™ç®€å•å¾ˆå¤šï¼Œæ ¹æ®å…³é”®å­— åœ¨ç¼“å­˜indexä¸­ æ£€ç´¢å‡ºå«æœ‰è¯¥å…³é”®å­—çš„æ–‡ä»¶æˆ–è€…ç›®å½•ï¼› fzf: å®æ—¶æ¨¡ç³ŠæŸ¥è¯¢ï¼Œå¯ä»¥é›†æˆåˆ°å¸¸ç”¨çš„IDEä¸­ï¼ˆæ¯”å¦‚fzf.vim)ã€‚ demo find The syntax of the Find command is:\nfind [-H] [-L] [-P] [-D debugopts] [-Olevel] [starting-point...] [expression]\n#!/bin/bash find . -name \u0026#34;*tar*gz\u0026#34; -delete find . -name \u0026#34;*tar*xz\u0026#34; -delete find . -name \u0026#34;*tar.xz\u0026#34; du -sh . find . -name \u0026#34;*zip*\u0026#34; -delete find . -type f | perl -lne \u0026#39;print if -B\u0026#39; | xargs rm -f # delete all binary files under . recursivly locate The syntax of the Locate command is:\nlocate [OPTION]... PATTERN..\næŸ¥è¯¢postgreql dbçš„é…ç½®æ–‡ä»¶ï¼š\n#!/bin/bash locate *hba_conf* # equal to this su - postgres psql show config_file; show hba_file; fzf tldr fzf fzf Command-line fuzzy finder. Similar to sk. More information: https://github.com/junegunn/fzf. - Start fzf on all files in the specified directory: find path/to/directory -type f | fzf - Start fzf for running processes: ps aux | fzf - Select multiple files with Shift + Tab and write to a file: find path/to/directory -type f | fzf --multi \u0026gt; filename - Start fzf with a specified query: fzf --query \u0026#34;query\u0026#34; - Start fzf on entries that start with core and end with either go, rb, or py: fzf --query \u0026#34;^core go$ | rb$ | py$\u0026#34; - Start fzf on entries that not match pyc and match exactly travis: fzf --query \u0026#34;!pyc \u0026#39;travis\u0026#34; See also: sk fzf search result ","date":"2017-09-16T08:09:57+08:00","image":"https://tab.deoops.com/posts/find-locate/fzf-command_hu9f9cae896af5f1cefeda9b7392bef7a4_42033_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/find-locate/","title":"æŸ¥æ‰¾æ–‡ä»¶"},{"content":"ä»£ç† proxies (æ­£å‘)ä»£ç† ä»£ç†ä¸€èˆ¬æ˜¯æŒ‡æ­£å‘ä»£ç†ï¼Œæ¯”å¦‚ç¿»å¢™è½¯ä»¶shadowsockså°±æ˜¯ä¸€ç§æ­£å‘ä»£ç†ã€‚ shadowsocksé€šè¿‡socks 5åè®® åœ¨ä»£ç†æœåŠ¡å™¨ä¸Šï¼Œ\nä»£ç†æˆ‘ä»¬ï¼ˆclientï¼‰å»è®¿é—®è¢«å¢™çš„èµ„æºï¼ˆgoogle/twitter/Facebookç­‰æœåŠ¡å™¨ï¼‰ã€‚\nforward proxy server A proxy server, sometimes referred to as a forward proxy, is a server that routes traffic between client(s) and another system, usually external to the network. By doing so, it can regulate traffic according to preset policies, convert and mask client IP addresses, enforce security protocols, and block unknown traffic.\nåå‘ä»£ç† åå‘ä»£ç†æ˜¯è¯´æˆ‘ä»¬ï¼ˆclientï¼‰è¢«ä»£ç†äº†ï¼Œ æˆ‘ä»¬è‡ªå·±è¿˜ä¸çŸ¥é“ã€‚ æˆ‘ä»¬ä»¥ä¸ºå’Œæˆ‘ä»¬æ‰“äº¤é“çš„ï¼ˆå¤„ç†æˆ‘ä»¬çš„è¯·æ±‚ï¼‰çš„æ˜¯nginx æœåŠ¡å™¨ï¼Œå…¶å®nginxçœŸæ­£å¤„ç†æˆ‘ä»¬è¯·æ±‚çš„æ˜¯ngixåé¢çš„upstreamåœ¨ å¤„ç†æˆ‘ä»¬çš„è¯·æ±‚é€»è¾‘ã€‚\nreverse proxy server A reverse proxy is a type of proxy server. Unlike a traditional proxy server, which is used to protect clients, a reverse proxy is used to protect servers. A reverse proxy is a server that accepts a request from a client, forwards the request to another one of many other servers, and returns the results from the server that actually processed the request to the client as if the proxy server had processed the request itself. The client only communicates directly with the reverse proxy server and it does not know that some other server actually processed its request.\nconfig ### common set_header # /opt/nginx/conf.d/common.proxy; proxy_hide_header Vary; proxy_set_header Accept-Encoding \u0026#39;\u0026#39;; proxy_ignore_headers Cache-Control Expires; proxy_set_header Cookie $http_cookie; proxy_set_header Referer $http_referer; proxy_set_header X-Forwarded-Host $host; proxy_set_header X-Forwarded-Server $host; proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; # csrf proxy_set_header X-CSRF-TOKEN $http_x_xsrf_token; proxy_buffer_size 128; proxy_buffers 16 64k; proxy_busy_buffers_size 128; proxy_temp_file_write_size 128; demo ä¸‹é¢çš„ä¸¤ä¸ªdemoéƒ½ä½¿ç”¨äº†include /opt/nginx/conf.d/common.proxyæŒ‡ä»¤ï¼Œæ¥åŒ…å«ä¸Šé¢çš„proxyé…ç½®ã€‚\nhttp ### demo1-http upstream upV1 { server 172.26.2.5:9090 fail_timeout=0; server 172.26.2.6:9090 fail_timeout=0; } upstream upV2 { server 172.26.2.5:8080 fail_timeout=0; server 172.26.2.6:8080 fail_timeout=0; } server { listen 80 default backlog=16384; server_name api.deoops.com; access_log /data/nginx/logs/grafana_access.log main; error_log /data/nginx/logs/grafanar_err.log ; include /opt/nginx/conf.d/common.proxy; location /v1 { proxy_redirect off; proxy_pass http://upV1; } location /v2 { proxy_redirect off; proxy_pass http://upV2; } } https ### demo2-https server { listen 443 default ssl; server_name deoops.com; root /usr/local/nginx/html; index index.html; proxy_ssl_session_reuse off; ssl_session_cache shared:SSL:1m; ssl_session_timeout 10m; ssl_certificate /var/lib/teleport/deoops.com/cert.pem; ssl_certificate_key /var/lib/teleport/deoops.com/key.pem; ssl_verify_client off; ssl_protocols SSLv3 TLSv1 TLSv1.1 TLSv1.2; ssl_ciphers RC4:HIGH:!aNULL:!MD5; ssl_prefer_server_ciphers on; location / { proxy_redirect off; proxy_set_header Host $http_host; proxy_set_header X-Real-IP $remote_addr; proxy_set_header X-Forwared-For $proxy_add_x_forwarded_for; proxy_pass https://localhost:33000; } } ","date":"2017-05-19T10:30:05+08:00","image":"https://tab.deoops.com/posts/nginx-proxy/reverse-proxy-packet-flow_hu8a37caf62bee1d6c91ad288e729da131_104181_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/nginx-proxy/","title":"ä»£ç†å’Œåå‘ä»£ç†"},{"content":"ä¼—æ‰€å‘¨çŸ¥nginxæœ‰å¾ˆå¼ºçš„åˆ†å‘é™æ€æ–‡ä»¶çš„èƒ½åŠ›ï¼Œå¾ˆå¤šæ—¶å€™nginxå¯¹é™æ€èµ„æºåˆ†å‘èƒ½åŠ›çš„ç“¶é¢ˆå’Œredisä¸€æ ·åœ¨ä¸»æœºçš„ç½‘å¡ä¸Šã€‚\n(ä¸€èˆ¬è™šæ‹Ÿæœºçš„ç½‘å¡åªæœ‰500mbpsï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯ä¸‡å…†çš„ç‰©ç†ç½‘å¡å°±å½“æˆ‘æ²¡è¯´ï¼‰\nå’Œrediså¯¹æ¯”ï¼Œnginxæœ‰å¦å¤–ä¸€ä¸ªç“¶é¢ˆåœ¨æœåŠ¡å™¨çš„ç¡¬ç›˜IOä¸Šï¼ŒSSDç¡¬ç›˜æƒ…å†µä¼šå¥½ä¸€äº›ï¼Œ æ‰€ä»¥å¾ˆå¤šæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šæŠŠ nginxçš„cache åšåœ¨ç³»ç»Ÿçš„ssdç¡¬ç›˜ä¸Šï¼Œ\nå…¶å®è¿˜å¯ä»¥ç›´æ¥æŠŠcacheæ”¾åˆ°å†…å­˜æ–‡ä»¶ç³»ç»Ÿé‡Œï¼Œè¿›ä¸€æ­¥æå‡ç£ç›˜ioååã€‚\ntmpfs differences between ramfs and tmpfs\n#!/bin/bash mkdir /mnt/ramdisk mount -t tmpfs -o size=512m tmpfs /mnt/ramdisk echo \u0026#39;tmpfs /mnt/ramdisk tmpfs nodev,nosuid,noexec,nodiratime,size=1024M 0 0\u0026#39; \u0026gt;\u0026gt; /etc/fstab nginx http cache config http { more_set_headers \u0026#39;Server: CachedLOL\u0026#39;; proxy_cache_path /var/cache/nginx levels=1:2 use_temp_path=on keys_zone=one:500m max_size=5g inactive=120m; proxy_temp_path /var/cache/nginx/tmp 1 2; } location conf upstream upV1 { server 172.26.2.5:9090 fail_timeout=0; server 172.26.2.6:9090 fail_timeout=0; } server { listen 80 default backlog=16384; server_name tab.deoops.com; location ~* ( /static.*|/list.+|/ )$ { proxy_redirect off; proxy_cache one; proxy_ignore_headers \u0026#34;Set-Cookie\u0026#34;; proxy_hide_header \u0026#34;Set-Cookie\u0026#34;; add_header X-Cache $upstream_cache_status; proxy_cache_key $uri$is_args$args$mobile; proxy_cache_min_uses 1; proxy_cache_valid 120m; proxy_cache_use_stale error timeout; proxy_buffering on; proxy_pass http://upV1; } ","date":"2017-04-29T15:36:18+08:00","image":"https://tab.deoops.com/posts/nginx-cache/tmpfs_hu7dcef1ecd08a87c487abf54ac3038b05_40316_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/nginx-cache/","title":"ç¼“å­˜é™æ€æ–‡ä»¶"},{"content":"å¼€å‘éœ€è¦èƒ½è°ƒç”¨facebookçš„æ¥å£ï¼Œæˆ‘ä»¬è¿ç»´è¿™è¾¹éœ€è¦é…ç½®ä¸€å°æµ‹è¯•æœåŠ¡å™¨èƒ½è®¿é—®facebookï¼Œç”¨shadowsocks å’Œsquid ä»£ç†ï¼Œæ€§èƒ½ä¸å¤Ÿå¥½ã€‚æ‰€ä»¥å†³å®šä¸Šopenvpnã€‚\nç®€å•è®°å½•ä¸‹openVPNçš„å®‰è£…é…ç½®è¿‡ç¨‹ï¼ŒæœåŠ¡ç«¯å’Œå®¢æˆ·ç«¯ä½¿ç”¨çš„æ“ä½œç³»ç»Ÿå‡æ˜¯centos 7ã€‚\næœåŠ¡ç«¯ å®‰è£… #!/bin/bash yum install epel-release -y yum install openvpn openssl -y è‡ªç­¾åè¯ä¹¦ ä½¿ç”¨opensslå·¥å…·ç”Ÿäº§è‡ªç­¾åçš„caï¼Œè¯ä¹¦ï¼Œclient.keyï¼Œå¹¶æŠŠè¿™äº›è¯ä¹¦ä¼ ç»™å®¢æˆ·ç«¯ï¼š\n#!/bin/bash ### CA openssl dhparam -out /etc/openvpn/dh.pem 2048 openssl genrsa -out /etc/openvpn/ca.key 2048 openssl req -new -key /etc/openvpn/ca.key -out /etc/openvpn/ca.csr -subj /CN=OpenVPN-CA/ openssl x509 -req -in /etc/openvpn/ca.csr -out /etc/openvpn/ca.crt -signkey /etc/openvpn/ca.key -days 3650 echo 01 \u0026gt; /etc/openvpn/ca.srl chmod 600 /etc/openvpn/ca.key ### Server openssl genrsa -out /etc/openvpn/server.key 2048 openssl req -new -key /etc/openvpn/server.key -out /etc/openvpn/server.csr -subj /CN=OpenVPN/ openssl x509 -req -in /etc/openvpn/server.csr -out /etc/openvpn/server.crt -CA /etc/openvpn/ca.crt -CAkey /etc/openvpn/ca.key -days 3650 chmod 600 /etc/openvpn/server.key ### Client openssl genrsa -out /etc/openvpn/client.key 2048 openssl req -new -key /etc/openvpn/client.key -out /etc/openvpn/client.csr -subj /CN=OpenVPN-Client/ openssl x509 -req -in /etc/openvpn/client.csr -out /etc/openvpn/client.crt -CA /etc/openvpn/ca.crt -CAkey /etc/openvpn/ca.key -days 3650 chmod 600 /etc/openvpn/client.key ### æŠŠclinetçš„è¯ä¹¦ç§é’¥å’Œcaæ­£å¼ä¼ ç»™å®¢æˆ·ç«¯ scp /etc/openvpn/ca.crt /etc/openvpn/client.crt /etc/openvpn/client.key client: é…ç½® æœåŠ¡ç«¯é…ç½®æ–‡ä»¶: # /etc/openvpn/server.conf server 10.8.0.0 255.255.255.0 verb 3 key /etc/openvpn/server.key ca /etc/openvpn/ca.crt cert /etc/openvpn/server.crt dh /etc/openvpn/dh.pem keepalive 10 120 persist-key persist-tun comp-lzo push \u0026#34;redirect-gateway def1 bypass-dhcp\u0026#34; push \u0026#34;dhcp-option DNS 8.8.8.8\u0026#34; push \u0026#34;dhcp-option DNS 8.8.4.4\u0026#34; user nobody group nogroup proto udp port 1194 dev tun1194 status openvpn-status.log kernel iptables æ‰“å¼€æœåŠ¡å™¨è·¯ç”±é…ç½®ï¼š\n#!/bin/bash echo \u0026#39;net.ipv4.ip_forward=1\u0026#39; \u0026gt;\u0026gt; /etc/sysctl.conf sysctl -p iptables -t nat -A POSTROUTING -s 10.8.0.0/24 -o eth0 -j MASQUERADE å¯åŠ¨ æœåŠ¡å™¨å¯åŠ¨openVPNæœåŠ¡ï¼š\n#!/bin/bash systemctl enable openvpn@server systemctl start openvpn@server å®¢æˆ·ç«¯ å®‰è£… #!/bin/bash yum install epel-release -y yum install openvpn -y é…ç½® è¯ä¹¦ æŠŠå‰é¢æœåŠ¡ç«¯ç­¾åçš„è¯ä¹¦ç§»åŠ¨åˆ°é…ç½®ç›®å½•ä¸‹ï¼š\n#!/bin/bash mv ~/ca.crt /etc/openvpn mv ~/client* /etc/openvpn/ é…ç½®æ–‡ä»¶ # /etc/openvpn/client.conf client nobind dev tun redirect-gateway def1 bypass-dhcp remote CHANGE_TO_YOUR_SERVER_IP 1194 udp comp-lzo yes #duplicate-cn key /etc/openvpn/client.key cert /etc/openvpn/client.crt ca /etc/openvpn/ca.crt å¯åŠ¨ å®¢æˆ·ç«¯å¯åŠ¨openVPNæœåŠ¡ï¼š\n#!/bin/bash systemctl enable openvpn@client systemctl start openvpn@client å‚è€ƒHow to Install OpenVPN on CentOS 7\n","date":"2017-02-20T13:24:19+08:00","image":"https://tab.deoops.com/posts/install-openvpn/openvpnflows_hu2d0b3a655f7670ace66d99e0fd5bbe0d_106468_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/install-openvpn/","title":"å®‰è£…é…ç½®openvpn"},{"content":"æœ¬æ–‡ä¸å®šæœŸæ›´æ–° :)\nA system administrator\u0026rsquo;s guide to getting started with Ansible\nad-hoc ç®¡ç†é›†ç¾¤çš„æ—¶å€™ï¼Œå¸¸å¸¸æ¥ä¸åŠå†™playbooksï¼Œåªéœ€è¦æ‰§è¡Œä¸€äº›ad-hocæŸ¥çœ‹æŸäº›ä¸»æœºçš„çŠ¶æ€ï¼Œ æˆ–è€…æ‰¹é‡ä¿®æ”¹/ä¸Šä¼ é…ç½®æ–‡ä»¶åˆ°æŸäº›ä¸»æœºã€‚\nansible all -m copy -a \\ \u0026#39;src=dvd.repo dest=/etc/yum.repos.d owner=root group=root mode=0644\u0026#39; -b playbook ansible-playbook -i prod_hosts demo.yml --skip-tag downloaded host file [api] tt ansible_host=test tt3 ansible_host=test3 tt8 ansible_host=test8 [db] pg1 ansible_host=db88 pg2 ansible_host=db98 task # demo.yml --- - hosts: db vars: tar_src: \u0026#34;tars/postgres_exporter_v0.4.1_linux-amd64.tar.gz\u0026#34; tar_dest: \u0026#34;/usr/bin/\u0026#34; service_src: \u0026#34;services/postgres_exporter.service\u0026#34; service_dest: \u0026#34;/usr/lib/systemd/system/\u0026#34; # works on centos; ubuntu is \u0026#39;/etc/systemd/system/ tasks: - debug: var=ansible_default_ipv4.address - name: untar to /usr/bin unarchive: src: \u0026#34;{{ tar_src }}\u0026#34; dest: \u0026#34;{{ tar_dest }}\u0026#34; become: true - name: download and untar prometheus tarball tags: downloaded unarchive: src: \u0026#34;{{ prometheus_tarball_url }}\u0026#34; dest: \u0026#34;{{ prometheus_install_path }}\u0026#34; copy: no - name: copy service file copy: src: \u0026#34;{{ service_src }}\u0026#34; dest: \u0026#34;{{ service_dest }}\u0026#34; become: true - name: ensure node_export is ebalbe and running systemd: name: postgres_exporter enabled: yes daemon_reload: yes state: started become: true ","date":"2016-04-16T11:33:05+08:00","image":"https://tab.deoops.com/posts/ansible-memo/ansible_hu3bbbeae4508296fbc307f486d3109a0d_38952_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/ansible-memo/","title":"Ansible"},{"content":"æˆ‘ä»¬ä¸€èˆ¬ä¼šè°ƒæ•´å†…æ ¸tcpå‚æ•°ä»¥æé«˜webæœåŠ¡å™¨(æ¯”å¦‚ngin)çš„æ€§èƒ½ã€‚\nsysctl åŠ è½½Linux å†…æ ¸é…ç½®\nsysctl -p /etc/sysctl.d/xxx-xxx.conf meat # /etc/sysctl.d/00-network.conf # Receive Queue Size per CPU Core, number of packets # Example server: 8 cores net.core.netdev_max_backlog = 4096 # SYN Backlog Queue, number of half-open connections net.ipv4.tcp_max_syn_backlog = 32768 # Accept Queue Limit, maximum number of established # connections waiting for accept() per listener. net.core.somaxconn = 65535 # Maximum number of SYN and SYN+ACK retries before # packet expires. net.ipv4.tcp_syn_retries = 1 net.ipv4.tcp_synack_retries = 1 # Timeout in seconds to close client connections in # TIME_WAIT after receiving FIN packet. net.ipv4.tcp_fin_timeout = 5 # Disable SYN cookie flood protection net.ipv4.tcp_syncookies = 0 # Maximum number of threads system can have, total. # Commented, may not be needed. See user limits. #kernel.threads-max = 3261780 # Maximum number of file descriptors system can have, total. # Commented, may not be needed. See user limits. #fs.file-max = 3261780 ","date":"2016-04-05T18:58:52+08:00","image":"https://tab.deoops.com/posts/tcp-tune/sysctl_hue759758d58191cbb59e001a219022668_168191_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/tcp-tune/","title":"tcpæ€§èƒ½è°ƒä¼˜"},{"content":"å¾ˆä¹…ä»¥å‰æœ‰å¹¸é‡åˆ°ä¸€æ¬¾å¾ˆå¹²å‡€ç®€æ´ blog saasäº§å“ï¼Œå¯ä»¥é€šè¿‡emailå’Œdropboxå†™/å¤‡ä»½æ–‡ç« ã€‚\nä»Šå¤©å‘ç°scripttogr å·²ç»å…³é—­ä¸è¿è¥äº†ã€‚\nå¯æƒœäº†ã€‚\nå¥½çš„äº§å“ä¸ä¸€å®šèƒ½æ´»ä¸‹å»ï¼Œå¯æƒœäº†ã€‚\n","date":"2015-07-13T19:29:06+08:00","image":"https://tab.deoops.com/posts/blog-scripttogr/scriptogr_hua4314aba5df0dc7a2b72f3a924b77952_65215_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/blog-scripttogr/","title":"å†è§scripttogrğŸ‘‹"},{"content":"ä½¿ç”¨opkgå®‰è£…è½¯ä»¶æ—¶ï¼Œå¸¸å¸¸éœ€è¦å¯¹å€™è½¯ä»¶åŒ…è¿›è¡Œåˆå§‹åŒ–æˆ–è€…è‡ªå®šä¹‰åŒ–æ“ä½œï¼Œè¿™ç§å¼€å‘éœ€æ±‚ä¸€èˆ¬å†™ç»™shellè„šæœ¬å°±å¯ä»¥å¯¹ä»˜äº†ã€‚ ç°åœ¨çš„é—®é¢˜æ˜¯å½“è¿™äº›è„šæœ¬å¤šäº†ä¹‹åï¼ŒåŸä½œè€…ä¹Ÿä¸æ„¿æ„ä¿®æ”¹å®‰è£…åŒ…ï¼Œæˆ‘ä»¬æ€ä¹ˆåˆ†å‘è¿™äº›è‡ªå®šä¹‰çš„è„šæœ¬ï¼Œèƒ½ä¸èƒ½æŠŠè‡ªå®šä¹‰çš„è¿™äº›è„šæœ¬ç¼–è¯‘åˆ°opkgåŒ…é‡Œï¼Ÿ\nä½ç½® æŠŠæœ¬åœ°çš„shellè„šæœ¬æ”¾åœ¨openwert ä»“åº“çš„è¿™ä¸ªç›®å½•ï¼Œç¼–è¯‘openwrtçš„æ—¶å€™å°±ä¼šè¢«æ‰“åŒ…åˆ°å¯¹åº”opkgäºŒè¿›åˆ¶æ–‡ä»¶ä¸­ï¼š\n/barrier_breaker/package/package-abc # package makefileæ–‡ä»¶æ‰€åœ¨ package-abc/files # shellè„šæœ¬æ”¾ç½®ç›®å½• æ­¥éª¤ ä¿®æ”¹Makefile åœ¨packageç›®å½•ä¸‹ä»»æ„æ‰¾ä¸€ä¸ªpackageç›®å½•ï¼Œæ¯”å¦‚chinadns, ç„¶åä¿®æ”¹Makefileæ–‡ä»¶ã€‚ åœ¨installè¯­å¥åæ·»åŠ  :\n$(INSTALL_BIN) ./files/your_script.sh $(1)/etc/config/your_script.sh æ”¾ç½®è„šæœ¬ å°†è„šæœ¬your_script.shæ”¾ç½®åœ¨filesç›®å½•ä¸‹ï¼›\né€‰æ‹©opkg åœ¨make menuconfig å›¾åƒç•Œé¢ä¸­é€‰æ‹©ä¿®æ”¹è¿‡çš„åŒ…ï¼ˆchinadnsï¼‰\né™„ package å’Œæ³¨å…¥æ–‡ä»¶ç›¸å…³çš„éƒ¨åˆ†makefileä»£ç :\n## include $(TOPDIR)/rules.mk PKG_NAME:=xxx PKG_RELEASE:=1 PKG_SOURCE:=$(PKG_NAME)-$(PKG_VERSION).tar.gz PKG_SOURCE_URL:=https://github.com/xxx/releases/download/v$(PKG_VERSION) PKG_MD5SUM:=f772a750580243cfxcsfd2xc39d7b9171b1 PKG_BUILD_DIR:=$(BUILD_DIR)/$(PKG_NAME) include $(INCLUDE_DIR)/package.mk ## define Package/xxx SECTION:=net CATEGORY:=Network TITLE:=xxx endef ### define Package/xxx/description button haha upgrade. endef ### #define Package/xxx/conffiles #/etc/config/system #/etc/hotplug.d/button/00-button #endef ### define Package/wps_button/install #$(INSTALL_DIR) $(1)/etc/init.d $(INSTALL_BIN) ./files/xxx $(1)/etc/config/xxx #$(INSTALL_DATA) ./files/system.conf $(1)/etc/config/system endef ### $(eval $(call BuildPackage,xxx)) ## ","date":"2015-06-18T13:32:58+08:00","image":"https://tab.deoops.com/posts/opkg-inject/opkg_hudcc7dbad3673a4c7158406c58241e484_47683_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/opkg-inject/","title":"è„šæœ¬æ³¨å…¥"},{"content":"è¿ç»´äººå‘˜/ç³»ç»Ÿç®¡ç†å‘˜æ¯å¤©è¦åœ¨ç»ˆç«¯æ•²å…¥å¤§é‡å‘½ä»¤ï¼Œä¹Ÿè¦ä¿®æ”¹æŸ¥çœ‹å¤§é‡æ–‡æœ¬é…ç½®æ–‡ä»¶ï¼Œæ—¥å¿—ä¿¡æ¯ã€‚ ç”šè‡³å¯ä»¥å¤¸å¼ ä¸€ç‚¹è¯´Linux/Unix system adminçš„å…¨éƒ¨å·¥ä½œå°±æ˜¯å’Œå­—ç¬¦ä¸²æ‰“äº¤é“ã€‚\nbinary å¤§å®¶éƒ½çŸ¥é“æ–‡æœ¬æ–‡ä»¶æ˜¯å­—ç¬¦ä¸²ç»„æˆçš„ï¼Œå…¶å®äºŒè¿›åˆ¶æ–‡ä»¶é‡Œé¢å…¶å®ä¹ŸåŒ…å«äº†å¾ˆå¤šå­—ç¬¦ä¸²ï¼š\nâœ infra-api git:(dev) file infra-api infra-api: Mach-O 64-bit executable x86_64 âœ infra-api git:(dev) strings infra-api | head flag hash mime path sort sync time *int AAAA Addr âœ infra-api git:(dev) å‘½ä»¤ æ”¶é›†ä¸€äº›å¸¸ç”¨çš„shell å­—ç¬¦ä¸²æ“ä½œå‘½ä»¤\ncut â¯ tldr cut Cut out fields from stdin or files. More information: https://www.gnu.org/software/coreutils/cut. - Cut out the first sixteen characters of each line of stdin: cut -c 1-16 - Cut out the first sixteen characters of each line of the given files: cut -c 1-16 file - Cut out everything from the 3rd character to the end of each line: cut -c 3- - Cut out the fifth field of each line, using a colon as a field delimiter (default delimiter is tab): cut -d\u0026#39;:\u0026#39; -f5 - Cut out the 2nd and 10th fields of each line, using a semicolon as a delimiter: cut -d\u0026#39;;\u0026#39; -f2,10 - Cut out the fields 3 through to the end of each line, using a space as a delimiter: cut -d\u0026#39; \u0026#39; -f3- cat/less catï¼Œä¸»è¦æœ‰ä¸‰å¤§ä½¿ç”¨åœºæ™¯ï¼š\nä¸€æ¬¡æ˜¾ç¤ºæ•´ä¸ªæ–‡ä»¶ cat filename; ä»æ ‡å‡†è¾“å…¥æµï¼ˆé”®ç›˜ï¼‰æ–°å»ºä¸€ä¸ªæ–‡ä»¶ã€‚cat \u0026gt; filename; å°†å‡ ä¸ªæ–‡ä»¶åˆå¹¶ä¸ºä¸€ä¸ªæ–‡ä»¶ï¼š cat file1 file2 \u0026gt; fileã€‚ å‚æ•°ï¼š -n æˆ– \u0026ndash;number ç”± 1 å¼€å§‹å¯¹æ‰€æœ‰è¾“å‡ºçš„è¡Œæ•°ç¼–å· -b æˆ– \u0026ndash;number-nonblank å’Œ -n ç›¸ä¼¼ï¼Œåªä¸è¿‡å¯¹äºç©ºç™½è¡Œä¸ç¼–å· -s æˆ– \u0026ndash;squeeze-blank å½“é‡åˆ°æœ‰è¿ç»­ä¸¤è¡Œä»¥ä¸Šçš„ç©ºç™½è¡Œï¼Œå°±ä»£æ¢ä¸ºä¸€è¡Œçš„ç©ºç™½è¡Œ -v æˆ– \u0026ndash;show-nonprinting ä¾‹ï¼š\næŠŠ textfile1 çš„æ¡£æ¡ˆå†…å®¹åŠ ä¸Šè¡Œå·åè¾“å…¥ textfile2 è¿™ä¸ªæ¡£æ¡ˆé‡Œ cat -n textfile1 \u0026gt; textfile2 æŠŠ textfile1 å’Œ textfile2 çš„æ¡£æ¡ˆå†…å®¹åŠ ä¸Šè¡Œå·ï¼ˆç©ºç™½è¡Œä¸åŠ ï¼‰ä¹‹åå°†å†…å®¹é™„åŠ åˆ° textfile3 é‡Œã€‚ cat -b textfile1 textfile2 \u0026gt;\u0026gt; textfile3 æ¸…ç©ºtest.txt cat /dev/null \u0026gt; /etc/test.txt å¦å¤–ï¼Œæœ¬æ–‡è¯»å–æ–‡ä»¶çš„æ“ä½œå¯ç”¨lesså‘½ä»¤æ›¿ä»£ï¼Œlesså‘½ä»¤é€Ÿåº¦ä¼šæ›´å¿«äº›\nawk awkå¯ä»¥ç®—ç‹¬ç«‹çš„ä¸€é—¨ç¼–ç¨‹è¯­è¨€ï¼Œä¸¾ä¸¤ä¸ªä¾‹å­ï¼š\næˆªå–è·¯ç”±å™¨MACåœ°å€åå››ä½ $(cat /sys/class/ieee80211/${dev}/macaddress) | awk -F \u0026#34;:\u0026#34; \u0026#39;{ print $5\u0026#34;\u0026#34;$6 }\u0026#39; | tr a-z A-Z echo sd:3s:xf:0h:w4:n8 | awk -F \u0026#34;:\u0026#34; \u0026#39;{ print $5\u0026#34;\u0026#34;$6 }\u0026#39; | tr a-z A-Z W4N8 å¯¹æŸä¸€åˆ—æ±‚å’Œ awk -F\u0026#39;,\u0026#39; \u0026#39;{sum+=$2;} END{print sum;}\u0026#39; file.txt è¿è¡Œæ–¹å¼ å‘½ä»¤è¡Œæ–¹å¼ awk [-F field-separator] \u0026#39;commands\u0026#39; input-file(s) å…¶ä¸­ï¼Œcommands æ˜¯awkå‘½ä»¤ï¼Œ[-FåŸŸåˆ†éš”ç¬¦]æ˜¯å¯é€‰çš„ã€‚ input-file(s) æ˜¯å¾…å¤„ç†çš„æ–‡ä»¶ã€‚ åœ¨awkä¸­ï¼Œæ–‡ä»¶çš„æ¯ä¸€è¡Œä¸­ï¼Œç”±åŸŸåˆ†éš”ç¬¦åˆ†å¼€çš„æ¯ä¸€é¡¹ç§°ä¸ºä¸€ä¸ªåŸŸã€‚é€šå¸¸ï¼Œåœ¨ä¸æŒ‡å-FåŸŸåˆ†éš”ç¬¦çš„æƒ…å†µä¸‹ï¼Œé»˜è®¤çš„åŸŸåˆ†éš”ç¬¦æ˜¯ç©ºæ ¼ã€‚\nè„šæœ¬æ–¹å¼ å°†æ‰€æœ‰çš„awkæŒ‡ä»¤å†™å…¥ä¸€ä¸ªæ–‡ä»¶ï¼Œå¹¶ä½¿awkç¨‹åºå¯æ‰§è¡Œï¼Œç„¶åæŠŠawkè§£é‡Šå™¨ä½œä¸ºè„šæœ¬çš„é¦–è¡Œï¼Œå³å¯è¿è¡Œawkè„šæœ¬ã€‚ æŠŠè„šæœ¬é¦–è¡Œï¼ˆmagic bangï¼‰ï¼š#!/bin/sh æ¢æˆï¼š #!/bin/awk å³å¯ï¼Œä»¥ which awk çš„è¾“å‡ºä¸ºå‡†ã€‚\nå°†æ‰€æœ‰çš„awkå‘½ä»¤æ’å…¥ä¸€ä¸ªå•ç‹¬æ–‡ä»¶ï¼Œç„¶åè°ƒç”¨ï¼š\nawk -f awk-script-file input-file(s) å…¶ä¸­ï¼Œ-fé€‰é¡¹åŠ è½½awk-script-fileä¸­çš„awkè„šæœ¬ï¼Œinput-file(s)è·Ÿä¸Šé¢çš„æ˜¯ä¸€æ ·çš„ã€‚\ntr tr å‘½ä»¤ä»æ ‡å‡†è¾“å…¥åˆ é™¤æˆ–æ›¿æ¢å­—ç¬¦ï¼Œå¹¶å°†ç»“æœå†™å…¥æ ‡å‡†è¾“å‡ºã€‚æ ¹æ®ç”± String1 å’Œ String2 å˜é‡æŒ‡å®šçš„å­—ç¬¦ä¸²ä»¥åŠæŒ‡å®šçš„æ ‡å¿—ï¼Œtr å‘½ä»¤å¯æ‰§è¡Œä¸‰ç§æ“ä½œã€‚\næœ¬æ–‡ä½¿ç”¨äº†ç®€å•çš„æ›¿æ¢æ“ä½œã€‚å°å†™å­—æ¯è½¬ä¸ºå¤§å†™å­—æ¯ã€‚\n","date":"2015-05-17T15:11:27+08:00","image":"https://tab.deoops.com/posts/shell-string/comma-seperator_hua66cc9b82d283c00f3eead5bea7f7922_5819_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/shell-string/","title":"å­—ç¬¦ä¸²"},{"content":"å¾ˆå¤šè·¯ç”±å™¨çš„flashå®¹é‡åªæœ‰4må¤§ï¼Œæ‰€ä»¥ç»å¤§å¤šæ•°openwrtå›ºä»¶ä¹Ÿæ˜¯4må¤§å°ã€‚ å½“æˆ‘ä»¬æ‰‹åŠ¨æ”¹é€ è·¯ç”±å™¨åŠ å¤§flashå®¹é‡åï¼Œå¯ä»¥è°ƒæ•´openwrté»˜è®¤è®¾ç½®ä½¿å¾—ç¼–è¯‘å‡ºæ¥çš„factoryå¯ä»¥æœ‰8mçš„å¤§å°ï¼Œ ä»è€Œå®‰è£…æ›´å¤šçš„å†…ç½®è½¯ä»¶ã€‚\næœ¬æ–‡ä»¥wr703nè·¯ç”±å™¨ ä¸ºä¾‹å­ï¼Œç®€å•ä»‹ç»ä¸€ä¸‹å¦‚ä½•åŠ å¤§å›ºä»¶çš„å®¹é‡ï¼Œè®©æˆ‘ä»¬é¢„å®‰è£…æ›´å¤šå†…ç½®è½¯ä»¶ã€‚\næŸ¥çœ‹ # ./tools/firmware-utils/src/mktplinkfw.c fw_max_lenä¸º0xfc0000ï¼Œ16M flash fw_max_lenä¸º0x7c0000ï¼Œ8M flash ä¿®æ”¹ # ./target/linux/ar71xx/image/Makefile # å°†703nçš„4Mlzmaæ”¹ä¸º8Mlzmaæˆ–16Mlzma $(eval $(call SingleProfile,TPLINK-LZMA,$(fs_64kraw),TLWR703,tl-wr703n-v1,TL-WR703N,ttyATH0,115200,0x07030101,1,8Mlzma)) ","date":"2015-05-07T11:45:48+08:00","image":"https://tab.deoops.com/posts/firmware-size/wr703n_hubffc7a239a3de7b3f5b1ee9ca3ee129e_14730_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/firmware-size/","title":"å¢åŠ å›ºä»¶å¤§å°"},{"content":"äº¤å‰ç¼–è¯‘ åœ¨ubuntuä¸‹å®‰è£…ç¼–è¯‘å·¥å…·ï¼ˆgcc,xmllib,cmake, git ç­‰)ï¼› gitå…‹éš†openwrtä»“åº“ï¼šgit clone git://git.openwrt.org/14.07/openwrt.gitï¼› è‡ªå®šä¹‰kernel targetï¼š æºä»£ç åšä¸¤å¤„ä¿®æ”¹ :\ntarget/linux/ramips/image/Makefile /base-files/lib/ramips.sh target/linux/ramips/base-files/lib/preinit/06_set_iface_mac åœ¨å¼¹å‡ºçš„make menuconfig å›¾åƒç•Œé¢ä¸­é€‰æ‹©cpuå‹å·ï¼› æ‰“å¼€vpnå¼€å§‹ç¼–è¯‘å›ºä»¶ã€‚ ç»“æœ äº¤å‰ç¼–è¯‘å®Œæˆåï¼Œæ ¹æ®ä¸Šä¸€æ­¥é€‰æ‹©çš„å®‰è£…åŒ…çš„å¤šå°‘ï¼Œbinç›®å½•ä¸‹ä¼šç”Ÿæˆå¯¹åº”çš„opkgåŒ…ï¼Œå’Œå›ºä»¶ï¼š\nfactoryæ–‡ä»¶ï¼Œå¯ä»¥ç§°ä½œåº•åŒ…ï¼› sysupgradeæ–‡ä»¶ï¼Œå¯ä»¥ç§°ä½œå‡çº§åŒ…ï¼› web/ubootçƒ§å½•åˆ·æœº æ¥é€šè·¯ç”±å™¨ç”µæºï¼ŒæŒ‰ä½WPSæŒ‰é’®ä¸æ”¾ï¼Œç„¶åæŒ‰ç”µæºé”®å¼€æœºï¼Œ power LEDå¿«é—ªå³æ¾å¼€WPSé”®ï¼Œæ­¤æ—¶è·¯ç”±å™¨å·²åŠ å…¥å‡çº§æ¨¡å¼ï¼› è®¿é—®è·¯ç”±å™¨webåœ°å€ï¼ˆå¦‚ï¼šhttp://192.168.1.1), æŒ‰ç…§webç•Œé¢æç¤ºé€‰å–factoryæ–‡ä»¶å®Œæˆå›ºä»¶çƒ§å½•åˆ·æœºï¼› ssh/ftp çƒ§å½• å¯ä»¥ç›´æ¥æ‰§è¡Œsysupgradeå‘½ä»¤çƒ§å½•ä¼°è®¡ï¼š\nssh-keygen -f \u0026#34;/home/openwrt-qqm/.ssh/known_hosts\u0026#34; -R 192.168.1.1 #å¯ä»¥çœç•¥æ­¤æ¡å‘½ä»¤ scp xxxxxx-squashfs-sysupgrade.bin root@192.168.1.1:/tmp/ ssh root@192.168.1.1 cd /tmp/ sysupgrade -n xxxxxxxxxxx-sysupgrade.bin opkg çƒ§å½•å®Œç³»ç»Ÿå›ºä»¶åï¼Œå¯ä»¥ä½¿ç”¨opkgå®‰è£…è½¯ä»¶åŒ…ï¼Œæ¯”å¦‚china-dns, shadowsocks, openvpnï¼Œç­‰ç­‰ã€‚\nhg255d router ","date":"2015-03-17T09:09:58+08:00","image":"https://tab.deoops.com/posts/router-hg255d/hg255d_hu95abe093e5988d14ccd200bc31cd3495_35267_120x120_fill_q75_box_smart1.jpg","permalink":"https://tab.deoops.com/posts/router-hg255d/","title":"åˆ·æœºHG255d"},{"content":"åˆšåˆšåœ¨google+ä¸Šçœ‹åˆ°google æ¨å‡ºäº†è‡ªå·±çš„åŸŸåæ³¨å†ŒæœåŠ¡ï¼Œæˆªä¸¤å¼ å›¾ï¼Œçºªå¿µä¸‹ã€‚\ngoogleæ¨å¹¿è‡ªå·±çš„ com.google åŸŸåæ³¨å†Œæ‰˜ç®¡æœåŠ¡ï¼ŒæŠŠé¦–é¡µå˜æˆäº†é•œåƒæ¨¡å¼ google domain æœç´¢æ­£å¸¸ï¼Œä¸è¿‡æœç´¢ç»“æœä¹Ÿä½¿ç”¨äº†é•œåƒæ•ˆæœï¼š serach page ","date":"2014-06-17T14:22:06+08:00","image":"https://tab.deoops.com/posts/google-domain/google-domain_hu8addcdeb3c155fbae74eb60aed2e0ca1_53610_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/google-domain/","title":"Google Domain"},{"content":"ä»Firefoxçš„æŸ¥çœ‹å…ƒç´ \u0026gt;æŸ¥çœ‹å™¨å…¥æ‰‹ï¼Œå‘ç°æœ‰æå¤´ã€‚ç„¶ååˆè°·æ­ŒæŸ¥é˜…äº†äº›èµ„æ–™ï¼Œå‘ç°æˆ‘æƒ³çš„æ–¹æ³•å¯¹firefoxæµè§ˆå™¨çš„ä¾èµ–æ€§å¤ªå¼ºï¼Œæœ€å¤šä¹Ÿå°±èƒ½åšæˆfirefoxçš„ä¸€ä¸ªæ’ä»¶ã€‚\nç®€è¦è®°ä¸‹æˆ‘åŸæ¥çš„æ€è·¯ï¼š\nhtmlæºæ–‡æ¡£ï¼Œç”¨wordæ‰“å¼€çš„è¯ï¼Œå°±å¯ä»¥è‡ªåŠ¨å»é™¤æ‰€æœ‰çš„\u0026lt;tag\u0026gt;ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç”¨perlå†™äº›æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ‰€ä»¥æåˆ°htmlæºæ–‡æ¡£å°±æœ‰æå¤´ã€‚\nç™¾åº¦æ–‡åº“å•Šï¼Œè±†ä¸å•Šï¼Œåˆ€å®¢88å•Šï¼Œä»€ä¹ˆçš„ï¼Œè¡¨é¢ä¸Šå¥½åƒæŠŠæºæ–‡æ¡£è—çš„å¥½å¥½çš„ï¼Œä½†æ˜¯åªè¦ç”¨firefoxæŸ¥çœ‹ä¸‹å…ƒç´ ï¼Œä»–ä»¬å°±æ€‚äº†ï¼Œç©¿ä»€ä¹ˆè‰²çš„å†…è£¤éƒ½çœ‹çš„ä¸€æ¸…äºŒæ¥šã€‚\nç„¶åï¼Œæˆä¹Ÿè§ä½•è´¥ä¹Ÿè§ä½•ï¼Œä¸æƒ³å¤ªä¾èµ–firefoxã€‚\næ‰€ä»¥ï¼Œä½œç½¢ã€‚\nä¸è¿‡ä¹Ÿæœ‰äº›å°æ”¶è·ï¼Œå¯ä»¥åšäº›å°çš„æ¶ä½œå‰§ã€‚\næ¯”å¦‚ä¸‹å›¾ä¸€ï¼Œå’Œä¸‹å›¾äºŒçš„æ¶ä½œå‰§ï¼š\nquiz ï¼ˆå›¾ä¸€ï¼Œæ¶æçš„æ˜¯ç™¾åº¦æ–‡åº“çš„æ¯ä¸ªè€ƒè¯•è¯•å·æ–‡æ¡£ï¼Œè¿˜ä¸ç®—å¤ªæ­ªï¼‰\nweibo ï¼ˆå›¾äºŒï¼Œæ¶æçš„æ˜¯æ–‡ç« ã€‚ã€‚ã€‚~~è¯è¯´äººå®¶åŠˆäººå®¶çš„è…¿ä¸ä½ ä½•å¹²ï¼Ÿ ~~è¯è¯´æˆ‘æ²¡æœ‰èŠ‚æ“åˆä¸ä»–ä»¬åŠˆä¸åŠˆè…¿ä½•å¹²ï¼Ÿï¼‰\n","date":"2014-05-12T16:05:52+08:00","image":"https://tab.deoops.com/posts/wai-lou/wl_hu1ef2eff8c91d20922d459e203a102b41_263557_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/wai-lou/","title":"æ­ªæ¥¼"},{"content":"æ¥è¿ä¸‹äº†ä¸€å‘¨çš„é›¨ï¼Œæ—©ä¸Šé†’æ¥çš„æ—¶å€™æ„Ÿè§‰è¢«å­æœ‰ç‚¹æ½®æ½®çš„ã€‚\nå¬ç€å¤–é¢çš„é›¨å£°ï¼Œæ€ç´¢ç€è¦ä¸è¦èµ·åºŠï¼Œå¿½ç„¶æ„è¯†åˆ°æ˜å¤©è¦ä¸Šç­ï¼Œäºæ˜¯åˆè’™å¤´ç¡è¿‡ã€‚\nåˆè¿‡äº†ä¼šï¼Œé†’äº†ï¼Œèµ·åºŠæ´—æ¼±ï¼Œåˆ·ç‰™çš„æ—¶å€™æˆ‘å–œæ¬¢å¬æ­Œï¼Œæ´—è„¸çš„æ—¶å€™ä¹Ÿå–œæ¬¢å¬æ­Œï¼Œæ´—æ¾¡çš„æ—¶å€™ä¹Ÿæ˜¯ï¼Œè¿˜æœ‰æ´—å¤´çš„æ—¶å€™ã€‚\næ„Ÿè§‰æ˜¨å¤©æ™šé¤è¿˜æ²¡æœ‰æ¶ˆåŒ–å®Œå…¨ï¼Œæ‰€ä»¥å°±ä¸æ€¥ç€åƒæ—©é¤ã€‚å››å¤„æ™ƒäº†æ™ƒï¼Œä¸‹é›¨æ„Ÿè§‰å¹²ä»€ä¹ˆéƒ½æ²¡åŠ²ï¼Œæ‰“å¼€ç”µè„‘ï¼Œç„¶åæ˜¯google.com.hk\ngoogle doodles å“¦ï¼Œä»Šå¤©æ˜¯æ¯äº²èŠ‚å•Šã€‚ æ€ç»ªä¸€ä¸‹å­è¢«æ‰“å¼€äº†å¥½å¤§ä¸ªç¼ºå£ï¼Œå¥½å¤šæƒ…æ„Ÿå‘æˆ‘è¢­æ¥ï¼Œ\nçœ¼çœ‹æˆ‘å°±è¦è¢«ç§ç§å¹¸ç¦çš„ã€å§”å±ˆçš„ã€äº²åˆ‡çš„ã€ç¾å¥½çš„ã€æ‡Šæ‚”çš„ã€æ‹æ‹ä¸èˆçš„ï¼Œç­‰ç­‰ï¼Œå›å¿†åŒ…å›´ï¼Œ\næ¯•ä¸šä¸€å¹´å¤šï¼Œæ¼‚æ³Šåœ¨å¤–çš„æˆ‘çªç„¶å‘ç°æˆ‘å¥½æ— åŠ©ï¼Œç„¶åä¸çŸ¥é“ä¸ºå•¥ï¼Œè¿™äº›å›å¿†å°±çªç„¶é—´æ¨¡ç³ŠçƒŸæ¶ˆäº‘æ•£äº†ã€‚\nchild æ…¢æ…¢æ¥å§ï¼Œç”Ÿæ´»æ€»ä¼šæ˜¯æƒ³è¦çš„é‚£æ ·çš„ã€‚\nä¸‹æ¥¼ä¹°æ—©ç‚¹å»äº†ï¼Œè¯è¯´è¿™æŠŠä¼æœ‰ç‚¹å°äº†å§ã€‚\numbrella æ’‘ç€ä¼åœ¨é›¨é‡Œèµ°ç€ï¼Œæƒ³èµ·åˆšæ¥è¿™å·¥ä½œçš„æ—¶å€™ï¼Œå’ŒæŸä¸ªäººä¸€èµ·æ‰“ä¼ï¼Œè¿˜ç»™äº†å¥¹50å—é’±ï¼Œç°åœ¨è¿˜æ²¡è¿˜ç»™æˆ‘ã€‚\nAnyway ï¼ŒHAPPY MOTHER\u0026rsquo;S DAY! mother ","date":"2014-05-10T16:21:02+08:00","image":"https://tab.deoops.com/posts/da-yu/rain_hucaec8e4da44ebda5edf82238e0330ad2_83156_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/da-yu/","title":"é›¨å¥½å¤§"},{"content":"åœ¨å¤©æœå‘†ä¹…äº†ï¼Œæœ‰ç‚¹è¿«å®³å¦„æƒ³ç—‡ã€‚ç”¨vpngateå‡ºæ¥è½¬è½¬çœ‹çœ‹ï¼Œå‘ç°ç¡®å®æ˜¯æˆ‘æƒ³å¤šäº†ã€‚\nanywayï¼Œè°¢è°¢vpngateï¼ŒæŒºä¸é”™çš„vpnã€‚\n","date":"2014-05-09T16:39:24+08:00","image":"https://tab.deoops.com/posts/try-vpngate/vpngate_hu20fc8f9a8163927a082655de56da28e2_239034_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/try-vpngate/","title":"è°¢è°¢vpngate"},{"content":"æ–‡ç« å·²ä¸¢å¤± :(\n","date":"2014-05-08T16:34:49+08:00","image":"https://tab.deoops.com/posts/flow-3d/software_flow_science_hu30f49a79fd758234ca8cd7ff1ae76c1b_254580_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/flow-3d/","title":"ç¬¬ä¸ƒç« FLOW3dé“¸é€ æ¨¡å…·çƒ­å¾ªç¯åˆ†æ"},{"content":"updated at 2014/2/16 å‘å¤ªå¤§ï¼ŒæŒ‘æˆ˜å¤ªå¤šï¼ŒæŒ‘æˆ˜å¤±è´¥ï¼Œæ”¾å¼ƒå•¦ :)\nçœ‹å®ŒRuby On Rails tutorialï¼Œæ„Ÿè§‰çƒ­è¡€æ²¸è…¾ã€‚ æ¥å§ï¼Œå°‘å¹´ï¼Œæ¥å†™ä¸ªCMSå§ã€‚\nmodel æ•°æ®åº“è®¾è®¡\ngenerate ç”Ÿæˆmodel schemaæ•°æ®æ¨¡å‹ï¼š\nrails g model App \\ title:string icon:binary descript:text \\ get_url:string hits:integer downloaded:integer score:decimal \\ version:string require_os_version:string author:references rails g model Author name:string descript:text website:string populate å¡«å……å‡æ•°æ®ï¼Œä¾¿äºæµ‹è¯•ã€‚ faker gem\n#db/seed.rb 30.times do |n| ne = Faker::App.author dt = Faker::Lorem.paragraph we = Faker::Internet.url Author.create!(name: ne, descript: dt, website: we ) end users = Author.order(:created_at).take(17) 50.times do users.each do |u| te = Faker::App.name dt = Faker::Hacker.say_something_smart gu = Faker::Internet.url hs = Faker::Number.number(5) dd = Faker::Number.number(4) se = Faker::Commerce.price vn = Faker::App.version rn = \u0026#34;android 1.6+ | ios 6.0+\u0026#34; u.apps.create!(icon: nil, title: te, descript: dt, get_url: gu, hits: hs, downloaded: dd, score: se, version: vn, require_os_version: rn) end end æ•°æ®å½•å…¥ æ‰‹åŠ¨/äººå·¥å½•å…¥ formè¡¨å• æœºå™¨æŠ“å– nokogiri gem UI/static_pages_controller controller æ–°å»ºcontroller\nrails g controller StaticPages index rails g controller Apps update destroy #destroy widget rails d controller widgets rails d model Widget scss è°ƒæ•´scss\n# ä¿®æ”¹gemfile gem \u0026#39;bootstrap-will_paginate\u0026#39; gem \u0026#39;will_paginate\u0026#39; gem \u0026#39;bootstrap-sass\u0026#39; rename scssæ–‡ä»¶\nmv path/to/application.css path/to/application.scss @import \u0026#34;bootstrap-sprockets\u0026#34;; @import \u0026#34;bootstrap\u0026#34;; /* mixins, variables, etc. */ $gray-medium-light: #eaeaea; @mixin box_sizing { -moz-box-sizing: border-box; -webkit-box-sizing: border-box; box-sizing: border-box; } /* universal */ html { overflow-y: scroll; } body { padding-top: 60px; } /* ....... */ erb æ·»åŠ titleè‡ªå®šä¹‰æ”¯æŒ\n# application.html.erbæ·»åŠ  \u0026lt;title\u0026gt;\u0026lt;%= full_title(yield(:title)) %\u0026gt;\u0026lt;/title\u0026gt; # static_pages_helper.rbæ·»åŠ  def full_title(page_title = \u0026#39;\u0026#39;) base_title = \u0026#34;LOL\u0026#34; if page_title.empty? base_title else \u0026#34;#{page_title} | #{base_title}\u0026#34; end end action ç¼–è¾‘index action\n# static_pages_controller.rb def index App.per_page = 8 @apps = App.paginate(page: params[:page]) end # views/static_pages/insex.html.erb \u0026lt;% provide(:title, \u0026#34;All apps\u0026#34;) %\u0026gt; # é¡µé¢æ ‡é¢˜ \u0026lt;%= render @apps %\u0026gt; \u0026lt;%= will_paginate @apps %\u0026gt; # views/apps/_app.html.erb \u0026lt;span\u0026gt; \u0026lt;%= app.title %\u0026gt; * * \u0026lt;/span\u0026gt; ","date":"2013-12-23T13:28:34+08:00","image":"https://tab.deoops.com/posts/rails-cms/ror_hu2407918d44206a06e3da94e6d5a4c08a_66970_120x120_fill_q75_box_smart1.jpeg","permalink":"https://tab.deoops.com/posts/rails-cms/","title":"æƒ³å†™ä¸ªcms"},{"content":"è·Ÿç€rails tutorial å­¦ä¹ railsæ¡†æ¶æ—¶ï¼Œé‡åˆ°äº†dbé“¾æ¥çš„é—®é¢˜\né—®é¢˜ rake db:create failed PG::ConnectionBad: could not connect to server: No such file or directory Is the server running locally and accepting connections on Unix domain socket \u0026#34;/var/pgsql_socket/.s.PGSQL.5432\u0026#34;? Googleä¹‹åå‘ç°æ˜¯database.ymlé…ç½®æ–‡ä»¶æ²¡æœ‰åŠ ä¸Šhostï¼šlocalhosté…ç½®é¡¹ã€‚\nè¿‡ä¸€ä¼šï¼Œå‘ç°PATHæ²¡æœ‰åŒ…å«psqlå‘½ä»¤ã€‚\nvi ~/.bash_profile #æ·»åŠ ä¸‹é¢ä¸€è¡Œå†…å®¹ export PATH=\u0026#34;/Applications/Postgres.app/Contents/Versions/9.4/bin:$PATH\u0026#34; exit ## or echo export PATH=\u0026#34;/Applications/Postgres.app/Contents/Versions/9.4/bin:$PATH\u0026#34; \u0026gt;\u0026gt; ~/.zshrc ç»ˆäºrake db:migrate æˆåŠŸã€‚\né™„å½• é™„ä¸Šdatabase.ymlï¼ˆproductionç¯å¢ƒä½¿ç”¨herokuç¯å¢ƒå˜é‡)\ndefault: \u0026amp;default adapter: postgresql encoding: unicode # For details on connection pooling, see rails configuration guide # http://guides.rubyonrails.org/configuring.html#database-pooling pool: 5 development: \u0026lt;\u0026lt;: *default host: localhost database: xxx_development test: \u0026lt;\u0026lt;: *default host: localhost database: xxx_test production: \u0026lt;\u0026lt;: *default database: xxx username: xxx password: \u0026lt;%= ENV[\u0026#39;xxx_xxx_PASSWORD\u0026#39;] %\u0026gt; ","date":"2013-11-07T10:06:54+08:00","image":"https://tab.deoops.com/posts/rails-pg/rails-pg_hu20816ecef9f64b14409d959567a3af94_88803_120x120_fill_box_smart1_3.png","permalink":"https://tab.deoops.com/posts/rails-pg/","title":"è¿æ¥æ•°æ®åº“"}]