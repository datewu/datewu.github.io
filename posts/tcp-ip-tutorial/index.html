<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="翻译tcp/ip入门教程"><title>TCP/IP教程</title><link rel=canonical href=https://tab.deoops.com/posts/tcp-ip-tutorial/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="TCP/IP教程"><meta property="og:description" content="翻译tcp/ip入门教程"><meta property="og:url" content="https://tab.deoops.com/posts/tcp-ip-tutorial/"><meta property="og:site_name" content="鬼画桃符"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:tag" content="tcp/ip"><meta property="article:tag" content="tutorial"><meta property="article:tag" content="network"><meta property="article:published_time" content="2020-04-13T22:25:56+08:00"><meta property="article:modified_time" content="2021-01-13T22:25:56+08:00"><meta property="og:image" content="https://tab.deoops.com/posts/tcp-ip-tutorial/The-logical-mapping-between-OSI-basic-reference-model-and-the-TCP-IP-stack.png"><meta name=twitter:title content="TCP/IP教程"><meta name=twitter:description content="翻译tcp/ip入门教程"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tab.deoops.com/posts/tcp-ip-tutorial/The-logical-mapping-between-OSI-basic-reference-model-and-the-TCP-IP-stack.png"></head><body class="article-page has-toc"><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
extended"><div id=article-toolbar><a href=/ class=back-home><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-chevron-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="15 6 9 12 15 18"/></svg><span>返回</span></a></div><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/tcp-ip-tutorial/><img src=/posts/tcp-ip-tutorial/_hucbca32dcf96b8048fcbe36f855742c0a_81541_377a770778d0534ba64419fd8a492d6e.png srcset="/posts/tcp-ip-tutorial/_hucbca32dcf96b8048fcbe36f855742c0a_81541_377a770778d0534ba64419fd8a492d6e.png 800w, /posts/tcp-ip-tutorial/_hucbca32dcf96b8048fcbe36f855742c0a_81541_c28d04bd854baeff5dbaee3ee8bf0464.png 1600w" width=800 height=382 loading=lazy alt="Featured image of post TCP/IP教程"></a></div><div class=article-details><header class=article-category><a href=/categories/%E8%AF%AD%E6%B3%95/ style=background-color:#2a9d8f;color:#fff>语法</a>
<a href=/categories/%E5%BC%80%E5%8F%91/ style=background-color:#2a9d8f;color:#fff>开发</a></header><h2 class=article-title><a href=/posts/tcp-ip-tutorial/>TCP/IP教程</a></h2><h3 class=article-subtitle>翻译tcp/ip入门教程</h3><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Apr 13, 2020</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 4 分钟</time></div><div><time class=article-lastmod>最后更新于 Jan 13, 2021 22:25 +0800</time></div></footer></div></header><section class=article-content><p>本文不定期更新 :)</p><p>上个礼拜逛<a class=link href=https://news.ycombinator.com/ target=_blank rel=noopener>Hacker News</a>看到推荐了一份写于1991年介绍TCP/IP协议的文章<a class=link href=https://tools.ietf.org/html/rfc1180 target=_blank rel=noopener>A TCP/IP Tutorial</a>。</p><p>初略的扫了几眼，发现不错，加入了收藏夹。</p><p>昨天晚上抽出时间来细读了一遍觉得很有翻译的价值，于是试着翻译一下：</p><h2 id=introduction>Introduction</h2><p>This tutorial contains only one view of the salient points of TCP/IP,
and therefore it is the &ldquo;bare bones&rdquo; of TCP/IP technology. It omits
the history of development and funding, the business case for its
use, and its future as compared to ISO OSI. Indeed, a great deal of
technical information is also omitted. What remains is a minimum of
information that must be understood by the professional working in a
TCP/IP environment. These professionals include the systems
administrator, the systems programmer, and the network manager.</p><p>This tutorial uses examples from the UNIX TCP/IP environment, however
the main points apply across all implementations of TCP/IP.</p><p>Note that the purpose of this memo is explanation, not definition.
If any question arises about the correct specification of a protocol,
please refer to the actual standards defining RFC.</p><p>The next section is an overview of TCP/IP, followed by detailed
descriptions of individual components.</p><ol><li>序言</li></ol><p>这篇教程只是对 TCP/IP 协议中一些最重要的要点做描述性的介绍，因此可以把这篇教程看作是TCP/IP 技术的骨架。
这篇教程<strong>不涉及</strong> TCP/IP 的发展历史，资金/资助来源，商业用途以及和ISO OSI的对比来看TCP/IP的未来会怎样。而且很多详细的技术细节也不会在本文中得到介绍。
这篇教程所<strong>涉及</strong>的内容，恰恰是一个日常工作在TCP/IP 环境的专业人士<strong>必须</strong>理解的<strong>最少</strong>TCP/IP技术信息量，不能再少了。这些专业人士包括了系统管理员，系统程序员，和网络管理员。
这篇教程使用的例子都是在 UNIX TCP/IP 环境，但是这些例子所表达的主要意思对所有实现了TCP/IP协议的环境来说都是同样试用的。</p><p><strong>注意</strong>⚠️ 这篇教程的目的是解释/介绍 TCP/IP技术，并不是给TCP/IP 技术下定义。</p><p>如果读者对这篇教程描述的某个协议的规格/规范产生了疑问，请参考这个协议的RFC具体的规范定义。
下个小节是对 TCP/IP技术的概览，然后是单独的对每个TCP/IP组件详细的描述。</p><h2 id=tcpip-overview>TCP/IP Overview</h2><p>The generic term &ldquo;TCP/IP&rdquo; usually means anything and everything
related to the specific protocols of TCP and IP. It can include
other protocols, applications, and even the network medium. A sample
of these protocols are: UDP, ARP, and ICMP. A sample of these
applications are: TELNET, FTP, and rcp. A more accurate term is
&ldquo;internet technology&rdquo;. A network that uses internet technology is
called an &ldquo;internet&rdquo;.</p><ol start=2><li>TCP/IP 概览</li></ol><p>术语“TCP/IP”一般意义上来说，通常是指 任何以及所有和 ‘TCP 协议’，与 ‘IP 协议’有关的技术。 “TCP/IP”术语可以指 其它的网络协议，网络应用，甚至是物理网络媒介。这些网络协议可以是：UDP, ARP, 和 ICMP； 网络应用可以是：TELNET，FTP，和 RCP。</p><p>“TCP/IP”更准确的术语应该是“互联网技术”。当一个网络使用了互联网技术，我们就可以把这个网络叫“互联网”。</p><h3 id=basic-structure>Basic Structure</h3><p>To understand this technology you must first understand the following
logical structure:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>             </span>----------------------------<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|    network applications  |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|                          |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|...  \ | /  ..  \ | /  ...|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|     -----      -----     |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|     |TCP|      |UDP|     |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|     -----      -----     |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|         \      /         |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|         --------         |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|         |  IP  |         |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|  -----  -*------         |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|  |ARP|   |               |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|  -----   |               |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|      \   |               |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|      ------              |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|      |ENET|              |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span><span class=l>|      ---@--              |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>             </span>----------<span class=l>|-----------------</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                       </span><span class=p>|</span><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd> ----------------------o---------
</span></span></span><span class=line><span class=cl><span class=sd>     Ethernet Cable
</span></span></span><span class=line><span class=cl><span class=sd>
</span></span></span><span class=line><span class=cl><span class=sd>          Figure 1.  Basic TCP/IP Network Node</span><span class=w> 
</span></span></span></code></pre></div><p>This is the logical structure of the layered protocols inside a
computer on an internet. Each computer that can communicate using
internet technology has such a logical structure. It is this logical
structure that determines the behavior of the computer on the
internet. The boxes represent processing of the data as it passes
through the computer, and the lines connecting boxes show the path
of data. The horizontal line at the bottom represents the Ethernet
cable; the &ldquo;o&rdquo; is the transceiver. The &ldquo;*&rdquo; is the IP address and the
&ldquo;@&rdquo; is the Ethernet address. Understanding this logical structure is
essential to understanding internet technology; it is referred to
throughout this tutorial.</p><p>2.1 基础结构</p><p>要想理解TCP/IP技术，首先你<strong>必须</strong>要理解下面图表展示的网络节点逻辑结构：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-yaml data-lang=yaml><span class=line><span class=cl><span class=w>            </span>----------------------------<span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|         网络应用          |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|                          |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|...  \ | /  ..  \ | /  ...|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|     -----      -----     |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|     |TCP|      |UDP|     |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|     -----      -----     |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|         \      /         |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|         --------         |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|         |  IP  |         |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|  -----  -*------         |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|  |ARP|   |               |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|  -----   |               |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|      \   |               |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|      ------              |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|      |ENET|              |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span><span class=l>|      ---@--              |</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>            </span>----------<span class=l>|-----------------</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>                      </span><span class=l>|</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w></span><span class=nn>---</span>-------------------<span class=l>o---------</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>        </span><span class=l>以太网网线</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>         </span><span class=l>图1.  基础TCP/IP网络节点逻辑结构</span><span class=w>
</span></span></span><span class=line><span class=cl><span class=w>  
</span></span></span></code></pre></div><p>上图（图1）描绘的是互联网上某台计算机节点内部网络协议的逻辑分层架构。每一台能使用互联网技术和其它计算机通信的计算机都有图1描述的逻辑结构。图1描述的逻辑结构也决定了互联网上计算机的行为。</p><p>图1中的 虚线框 表示当数据在计算机内部传输时 对数据的某种处理， 连接虚线框的虚线表示数据在计算机内部传输的路径。最下面的那条虚线表示以太网线；“o”表示接收发送器， “*”表示IP 地址，“@”表示 以太（MAC）地址。</p><p>理解图1所描述的逻辑结构的对理解整个互联网技术起着关键性作用；而且对图1的引用贯穿了整篇教程。</p><h3 id=terminology>Terminology</h3><p>The name of a unit of data that flows through an internet is
dependent upon where it exists in the protocol stack. In summary: if
it is on an Ethernet it is called an Ethernet frame; if it is between
the Ethernet driver and the IP module it is called a IP packet; if it
is between the IP module and the UDP module it is called a UDP
datagram; if it is between the IP module and the TCP module it is
called a TCP segment (more generally, a transport message); and if it
is in a network application it is called a application message.</p><p>These definitions are imperfect. Actual definitions vary from one
publication to the next. More specific definitions can be found in
RFC 1122, section 1.3.3.</p><p>A driver is software that communicates directly with the network
interface hardware. A module is software that communicates with a
driver, with network applications, or with another module.</p><p>The terms driver, module, Ethernet frame, IP packet, UDP datagram,
TCP message, and application message are used where appropriate
throughout this tutorial</p><p>2.2 术语</p><p>根据数据在图1中被哪一层逻辑层处理，我们给每层的数据块起了不同的名字加以区分。</p><p>总的来说，如果数据块在以太网上，那么这个数据块就被称为 &lsquo;Ethernet frame&rsquo;；
如果数据块</p></section><footer class=article-footer><section class=article-tags><a href=/tags/tcp/ip/>tcp/ip</a>
<a href=/tags/tutorial/>tutorial</a>
<a href=/tags/network/>network</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>相关文章</h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/posts/tcl-101/><div class=article-image><img src=/posts/tcl-101/tcl-tk.a3003bd49e805d2f22c34d31891dcd4e_huac390069c03572eabeb0f3110525b1ed_71932_250x150_fill_q75_box_smart1.jpeg width=250 height=150 loading=lazy data-key data-hash="md5-owA71J6AXS8iw00xiR3NTg=="></div><div class=article-details><h2 class=article-title>tcl入门</h2></div></a></article><article class=has-image><a href=/posts/neutron-port/><div class=article-image><img src=/posts/neutron-port/_huba0c25ee44e1cb025e6838f746b91615_235376_0f8519d2522d80b6fc5afae2a6d5e9f8.png width=250 height=150 loading=lazy data-key data-hash="md5-MkCaJenF4NruQ1BFKjxBGA=="></div><div class=article-details><h2 class=article-title>Neutron小记</h2></div></a></article><article class=has-image><a href=/posts/tx-flannel/><div class=article-image><img src=/posts/tx-flannel/flannel-vpc.70b121c6d4931e45681e621f37edafd2_hue54105a7a72eb92cf36c8a151067b0c3_60319_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy data-key data-hash="md5-cLEhxtSTHkVoHmIfN+2v0g=="></div><div class=article-details><h2 class=article-title>flannel vpc</h2></div></a></article><article class=has-image><a href=/posts/makefile-tutorial/><div class=article-image><img src=/posts/makefile-tutorial/gnu-make.8d9b09033109344b50f42b4542487e53_hu77bd53dd3603ba1d9252afbf71dec2d7_87202_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy data-key data-hash="md5-jZsJAzEJNEtQ9CtFQkh+Uw=="></div><div class=article-details><h2 class=article-title>Makefile简介</h2></div></a></article><article class=has-image><a href=/posts/cast-befor-opreate/><div class=article-image><img src=/posts/cast-befor-opreate/overflow.ab65bed62260013a011fab3287d99ec9_hu6c6c088e192a628d570732aae3a06660_2744_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy data-key data-hash="md5-q2W+1iJgAToBH6syh9meyQ=="></div><div class=article-details><h2 class=article-title>记一次overflow</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2006 -
2023 鬼画桃符</section><section class=powerby>豆腐炒糖</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#introduction>Introduction</a></li><li><a href=#tcpip-overview>TCP/IP Overview</a><ol><li><a href=#basic-structure>Basic Structure</a></li><li><a href=#terminology>Terminology</a></li></ol></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>