<!doctype html><html lang=en-us><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="版本有风险，升级请谨慎"><title>React 17.0.2</title><link rel=canonical href=https://tab.deoops.com/posts/react-17.0.2/><link rel=stylesheet href=/scss/style.min.css><meta property="og:title" content="React 17.0.2"><meta property="og:description" content="版本有风险，升级请谨慎"><meta property="og:url" content="https://tab.deoops.com/posts/react-17.0.2/"><meta property="og:site_name" content="鬼画桃符"><meta property="og:type" content="article"><meta property="article:section" content="Posts"><meta property="article:tag" content="reactjs"><meta property="article:tag" content="babel/core"><meta property="article:published_time" content="2021-03-29T17:02:01+08:00"><meta property="article:modified_time" content="2021-03-29T17:02:01+08:00"><meta property="og:image" content="https://tab.deoops.com/posts/react-17.0.2/react-17.jpeg"><meta name=twitter:title content="React 17.0.2"><meta name=twitter:description content="版本有风险，升级请谨慎"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://tab.deoops.com/posts/react-17.0.2/react-17.jpeg"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex
on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header class=site-info><figure class=site-avatar><img src=/bad_dog.gif width=300 height=300 class=site-logo loading=lazy alt=Avatar>
<span class=emoji>😀</span></figure><h1 class=site-name><a href=/>鬼画桃符</a></h1><h2 class=site-description>Dance with the DOG</h2><ol class=social-menu><li><a href=https://github.com/datewu/datewu.github.io target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li></ol></header><ol class=menu id=main-menu><li><a href=/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg><span>首页</span></a></li><li><a href=/page/%E5%85%B3%E4%BA%8E/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-user" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="7" r="4"/><path d="M6 21v-2a4 4 0 014-4h4a4 4 0 014 4v2"/></svg><span>关于</span></a></li><li><a href=/page/%E5%BD%92%E6%A1%A3/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg><span>归档</span></a></li><li><a href=/page/%E6%90%9C%E7%B4%A2/><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg><span>搜索</span></a></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></ol></aside><main class="main full-width"><article class="has-image main-article"><header class=article-header><div class=article-image><a href=/posts/react-17.0.2/><img src=/posts/react-17.0.2/react-17_hu425bf1317c9ffe0d093e8348c0548d14_154119_800x0_resize_q75_box.jpeg srcset="/posts/react-17.0.2/react-17_hu425bf1317c9ffe0d093e8348c0548d14_154119_800x0_resize_q75_box.jpeg 800w, /posts/react-17.0.2/react-17_hu425bf1317c9ffe0d093e8348c0548d14_154119_1600x0_resize_q75_box.jpeg 1600w" width=800 height=450 loading=lazy alt="Featured image of post React 17.0.2"></a></div><div class=article-details><header class=article-category><a href=/categories/%E5%BC%80%E5%8F%91/ style=background-color:#2a9d8f;color:#fff>开发</a></header><h2 class=article-title><a href=/posts/react-17.0.2/>React 17.0.2</a></h2><h3 class=article-subtitle>版本有风险，升级请谨慎</h3><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Mar 29, 2021</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 2 分钟</time></div></footer></div></header><section class=article-content><p>今天看到react 17.0.2 发布一个礼拜了(快有1年没大的更新了），想升级试一试，在项目下执行 <code>npm update</code>指令，结果报错如下：</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>✗ npm update
</span></span><span class=line><span class=cl>npm ERR! code ERESOLVE
</span></span><span class=line><span class=cl>npm ERR! ERESOLVE unable to resolve dependency tree
</span></span><span class=line><span class=cl>npm ERR! 
</span></span><span class=line><span class=cl>npm ERR! Found: @babel/core@7.12.3
</span></span><span class=line><span class=cl>npm ERR! node_modules/@babel/core
</span></span><span class=line><span class=cl>npm ERR!   @babel/core@<span class=s2>&#34;7.12.3&#34;</span> from the root project
</span></span><span class=line><span class=cl>npm ERR!   @babel/core@<span class=s2>&#34;^7.9.0&#34;</span> from @svgr/webpack@5.4.0
</span></span><span class=line><span class=cl>npm ERR!   node_modules/@svgr/webpack
</span></span><span class=line><span class=cl>npm ERR!     @svgr/webpack@<span class=s2>&#34;5.4.0&#34;</span> from the root project
</span></span><span class=line><span class=cl>npm ERR!   <span class=m>9</span> more <span class=o>(</span>babel-jest, babel-loader, ...<span class=o>)</span>
</span></span><span class=line><span class=cl>npm ERR! 
</span></span><span class=line><span class=cl>npm ERR! Could not resolve dependency:
</span></span><span class=line><span class=cl>npm ERR! peer @babel/core@<span class=s2>&#34;^7.13.0&#34;</span> from @babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@7.13.12
</span></span><span class=line><span class=cl>npm ERR! node_modules/@babel/preset-env/node_modules/@babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining
</span></span><span class=line><span class=cl>npm ERR!   @babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining@<span class=s2>&#34;^7.13.12&#34;</span> from @babel/preset-env@7.13.12
</span></span><span class=line><span class=cl>npm ERR!   node_modules/@babel/preset-env
</span></span><span class=line><span class=cl>npm ERR!     @babel/preset-env@<span class=s2>&#34;^7.9.5&#34;</span> from @svgr/webpack@5.4.0
</span></span><span class=line><span class=cl>npm ERR!     node_modules/@svgr/webpack
</span></span><span class=line><span class=cl>npm ERR!       @svgr/webpack@<span class=s2>&#34;5.4.0&#34;</span> from the root project
</span></span><span class=line><span class=cl>npm ERR! 
</span></span><span class=line><span class=cl>npm ERR! Fix the upstream dependency conflict, or retry
</span></span><span class=line><span class=cl>npm ERR! this <span class=nb>command</span> with --force, or --legacy-peer-deps
</span></span><span class=line><span class=cl>npm ERR! to accept an incorrect <span class=o>(</span>and potentially broken<span class=o>)</span> dependency resolution.
</span></span><span class=line><span class=cl>npm ERR! 
</span></span><span class=line><span class=cl>npm ERR! See /Users/r/.npm/eresolve-report.txt <span class=k>for</span> a full report.
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>npm ERR! A <span class=nb>complete</span> log of this run can be found in:
</span></span><span class=line><span class=cl>npm ERR!     /Users/r/.npm/_logs/2021-03-30T08_44_22_160Z-debug.log
</span></span></code></pre></div><p>这个项目运行过 <code>npm run eject</code>，所以担心是eject造成的。</p><p>于是在另外一个目录执行<code>npx create-react-app abc</code>命令做来一个对照组。</p><p>把<code>abc</code>项目eject后发现npm install依然会失败。</p><p>google发现有类似的<a class=link href=https://www.gitmemory.com/issue/facebook/create-react-app/10738/807720421 target=_blank rel=noopener>遭遇</a></p><blockquote><p>Humm, if I see things correctly, the resolving dependency error occurs because create-react-app has the &ldquo;@babel/core&rdquo;: dependency fixed to &ldquo;7.12.3&rdquo; in its &ldquo;packages.json&rdquo; file. 3 days ago, @babel/plugin-bugfix-v8-spread-parameters-in-optional-chaining was merged to Babe master branch that requires &ldquo;@babel/core&rdquo; dependency to be &ldquo;7.13.0&rdquo; or greater. I don&rsquo;t know create-react-app too well, but would perhaps relaxing the &ldquo;@babel/core&rdquo; dependency to &ldquo;^7.12.3&rdquo; be a proper way to fix this issue?</p></blockquote><p>修改package.json文件，添加"@babel/core": &ldquo;7.13.14&rdquo;, 依赖，重新npm install 恢复正常。</p><p>一下是完整的package.json文件，供参考:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-json data-lang=json><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;name&#34;</span><span class=p>:</span> <span class=s2>&#34;abc&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;version&#34;</span><span class=p>:</span> <span class=s2>&#34;0.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;private&#34;</span><span class=p>:</span> <span class=kc>true</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;proxy&#34;</span><span class=p>:</span> <span class=s2>&#34;http://localhost:8080&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;dependencies&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@babel/core&#34;</span><span class=p>:</span> <span class=s2>&#34;7.13.14&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@material-ui/core&#34;</span><span class=p>:</span> <span class=s2>&#34;^4.11.3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@material-ui/icons&#34;</span><span class=p>:</span> <span class=s2>&#34;^4.11.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@pmmmwh/react-refresh-webpack-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;0.4.3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@svgr/webpack&#34;</span><span class=p>:</span> <span class=s2>&#34;5.5.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@testing-library/jest-dom&#34;</span><span class=p>:</span> <span class=s2>&#34;^5.11.10&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@testing-library/react&#34;</span><span class=p>:</span> <span class=s2>&#34;^11.2.5&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@testing-library/user-event&#34;</span><span class=p>:</span> <span class=s2>&#34;^12.8.3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@tinymce/tinymce-react&#34;</span><span class=p>:</span> <span class=s2>&#34;^3.12.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@typescript-eslint/eslint-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;^4.5.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;@typescript-eslint/parser&#34;</span><span class=p>:</span> <span class=s2>&#34;^4.5.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;babel-eslint&#34;</span><span class=p>:</span> <span class=s2>&#34;^10.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;babel-jest&#34;</span><span class=p>:</span> <span class=s2>&#34;^26.6.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;babel-loader&#34;</span><span class=p>:</span> <span class=s2>&#34;8.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;babel-plugin-named-asset-import&#34;</span><span class=p>:</span> <span class=s2>&#34;^0.3.7&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;babel-preset-react-app&#34;</span><span class=p>:</span> <span class=s2>&#34;^10.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;bfj&#34;</span><span class=p>:</span> <span class=s2>&#34;^7.0.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;camelcase&#34;</span><span class=p>:</span> <span class=s2>&#34;^6.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;case-sensitive-paths-webpack-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;2.3.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;css-loader&#34;</span><span class=p>:</span> <span class=s2>&#34;4.3.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;dotenv&#34;</span><span class=p>:</span> <span class=s2>&#34;8.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;dotenv-expand&#34;</span><span class=p>:</span> <span class=s2>&#34;5.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint&#34;</span><span class=p>:</span> <span class=s2>&#34;^7.11.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-config-react-app&#34;</span><span class=p>:</span> <span class=s2>&#34;^6.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-plugin-flowtype&#34;</span><span class=p>:</span> <span class=s2>&#34;^5.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-plugin-import&#34;</span><span class=p>:</span> <span class=s2>&#34;^2.22.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-plugin-jest&#34;</span><span class=p>:</span> <span class=s2>&#34;^24.1.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-plugin-jsx-a11y&#34;</span><span class=p>:</span> <span class=s2>&#34;^6.3.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-plugin-react&#34;</span><span class=p>:</span> <span class=s2>&#34;^7.21.5&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-plugin-react-hooks&#34;</span><span class=p>:</span> <span class=s2>&#34;^4.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-plugin-testing-library&#34;</span><span class=p>:</span> <span class=s2>&#34;^3.9.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;eslint-webpack-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;^2.5.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;file-loader&#34;</span><span class=p>:</span> <span class=s2>&#34;6.1.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;fs-extra&#34;</span><span class=p>:</span> <span class=s2>&#34;^9.0.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;html-react-parser&#34;</span><span class=p>:</span> <span class=s2>&#34;^1.2.4&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;html-webpack-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;4.5.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;identity-obj-proxy&#34;</span><span class=p>:</span> <span class=s2>&#34;3.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;jest&#34;</span><span class=p>:</span> <span class=s2>&#34;26.6.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;jest-circus&#34;</span><span class=p>:</span> <span class=s2>&#34;26.6.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;jest-resolve&#34;</span><span class=p>:</span> <span class=s2>&#34;26.6.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;jest-watch-typeahead&#34;</span><span class=p>:</span> <span class=s2>&#34;0.6.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;js-base64&#34;</span><span class=p>:</span> <span class=s2>&#34;^3.6.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;mini-css-extract-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;0.11.3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;optimize-css-assets-webpack-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;5.0.4&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;pnp-webpack-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;1.6.4&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;postcss-flexbugs-fixes&#34;</span><span class=p>:</span> <span class=s2>&#34;4.2.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;postcss-loader&#34;</span><span class=p>:</span> <span class=s2>&#34;3.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;postcss-normalize&#34;</span><span class=p>:</span> <span class=s2>&#34;8.0.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;postcss-preset-env&#34;</span><span class=p>:</span> <span class=s2>&#34;6.7.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;postcss-safe-parser&#34;</span><span class=p>:</span> <span class=s2>&#34;5.0.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;prismjs&#34;</span><span class=p>:</span> <span class=s2>&#34;^1.23.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;prompts&#34;</span><span class=p>:</span> <span class=s2>&#34;2.4.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;react&#34;</span><span class=p>:</span> <span class=s2>&#34;^17.0.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;react-app-polyfill&#34;</span><span class=p>:</span> <span class=s2>&#34;^2.0.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;react-dev-utils&#34;</span><span class=p>:</span> <span class=s2>&#34;^11.0.3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;react-dom&#34;</span><span class=p>:</span> <span class=s2>&#34;^17.0.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;react-hook-form&#34;</span><span class=p>:</span> <span class=s2>&#34;^6.15.5&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;react-refresh&#34;</span><span class=p>:</span> <span class=s2>&#34;^0.8.3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;react-router-dom&#34;</span><span class=p>:</span> <span class=s2>&#34;^5.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;resolve&#34;</span><span class=p>:</span> <span class=s2>&#34;1.18.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;resolve-url-loader&#34;</span><span class=p>:</span> <span class=s2>&#34;^3.1.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;sass-loader&#34;</span><span class=p>:</span> <span class=s2>&#34;^10.0.5&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;semver&#34;</span><span class=p>:</span> <span class=s2>&#34;7.3.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;style-loader&#34;</span><span class=p>:</span> <span class=s2>&#34;1.3.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;terser-webpack-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;4.2.3&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;tinymce&#34;</span><span class=p>:</span> <span class=s2>&#34;^5.7.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;ts-pnp&#34;</span><span class=p>:</span> <span class=s2>&#34;1.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;url-loader&#34;</span><span class=p>:</span> <span class=s2>&#34;4.1.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;web-vitals&#34;</span><span class=p>:</span> <span class=s2>&#34;^1.1.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;webpack&#34;</span><span class=p>:</span> <span class=s2>&#34;4.44.2&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;webpack-dev-server&#34;</span><span class=p>:</span> <span class=s2>&#34;3.11.1&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;webpack-manifest-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;2.2.0&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;workbox-webpack-plugin&#34;</span><span class=p>:</span> <span class=s2>&#34;5.1.4&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;scripts&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;start&#34;</span><span class=p>:</span> <span class=s2>&#34;node scripts/start.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;build&#34;</span><span class=p>:</span> <span class=s2>&#34;node scripts/build.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;test&#34;</span><span class=p>:</span> <span class=s2>&#34;node scripts/test.js&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;eslintConfig&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;extends&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;react-app&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;react-app/jest&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;browserslist&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;production&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;&gt;0.2%&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;not dead&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;not op_mini all&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;development&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;last 1 chrome version&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;last 1 firefox version&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;last 1 safari version&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;jest&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;roots&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;&lt;rootDir&gt;/src&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;collectCoverageFrom&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;src/**/*.{js,jsx,ts,tsx}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;!src/**/*.d.ts&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;setupFiles&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;react-app-polyfill/jsdom&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;setupFilesAfterEnv&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;&lt;rootDir&gt;/src/setupTests.js&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;testMatch&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;&lt;rootDir&gt;/src/**/__tests__/**/*.{js,jsx,ts,tsx}&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;&lt;rootDir&gt;/src/**/*.{spec,test}.{js,jsx,ts,tsx}&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;testEnvironment&#34;</span><span class=p>:</span> <span class=s2>&#34;jsdom&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;testRunner&#34;</span><span class=p>:</span> <span class=s2>&#34;/Users/r/repo/github/blog-fn/node_modules/jest-circus/runner.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;transform&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;^.+\\.(js|jsx|mjs|cjs|ts|tsx)$&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;rootDir&gt;/config/jest/babelTransform.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;^.+\\.css$&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;rootDir&gt;/config/jest/cssTransform.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;^(?!.*\\.(js|jsx|mjs|cjs|ts|tsx|css|json)$)&#34;</span><span class=p>:</span> <span class=s2>&#34;&lt;rootDir&gt;/config/jest/fileTransform.js&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;transformIgnorePatterns&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;[/\\\\]node_modules[/\\\\].+\\.(js|jsx|mjs|cjs|ts|tsx)$&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;^.+\\.module\\.(css|sass|scss)$&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;modulePaths&#34;</span><span class=p>:</span> <span class=p>[],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;moduleNameMapper&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;^react-native$&#34;</span><span class=p>:</span> <span class=s2>&#34;react-native-web&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=nt>&#34;^.+\\.module\\.(css|sass|scss)$&#34;</span><span class=p>:</span> <span class=s2>&#34;identity-obj-proxy&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>},</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;moduleFileExtensions&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;web.js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;js&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;web.ts&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;ts&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;web.tsx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;tsx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;json&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;web.jsx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;jsx&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;node&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;watchPlugins&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;jest-watch-typeahead/filename&#34;</span><span class=p>,</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;jest-watch-typeahead/testname&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>],</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;resetMocks&#34;</span><span class=p>:</span> <span class=kc>true</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;babel&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;presets&#34;</span><span class=p>:</span> <span class=p>[</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;react-app&#34;</span>
</span></span><span class=line><span class=cl>    <span class=p>]</span>
</span></span><span class=line><span class=cl>  <span class=p>},</span>
</span></span><span class=line><span class=cl>  <span class=nt>&#34;devDependencies&#34;</span><span class=p>:</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=nt>&#34;babel-plugin-prismjs&#34;</span><span class=p>:</span> <span class=s2>&#34;^2.0.1&#34;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span></code></pre></div></section><footer class=article-footer><section class=article-tags><a href=/tags/reactjs/>reactjs</a>
<a href=/tags/babel/core/>babel/core</a></section><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-contents--wrapper><h2 class=section-title>相关文章</h2><div class=related-contents><div class="flex article-list--tile"><article class=has-image><a href=/posts/cast-befor-opreate/><div class=article-image><img src=/posts/cast-befor-opreate/overflow.ab65bed62260013a011fab3287d99ec9_hu6c6c088e192a628d570732aae3a06660_2744_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy data-key data-hash="md5-q2W+1iJgAToBH6syh9meyQ=="></div><div class=article-details><h2 class=article-title>记一次overflow</h2></div></a></article><article class=has-image><a href=/posts/sql-default-values/><div class=article-image><img src=/posts/sql-default-values/_hueb0f0ff71845d44a9edbf9f55122b60f_17351_538837d82237add674fd159599d9a2e0.png width=250 height=150 loading=lazy data-key data-hash="md5-eKawJ48Tli9PIhcIQBBENw=="></div><div class=article-details><h2 class=article-title>SQL插入默认值</h2></div></a></article><article class=has-image><a href=/posts/css-position/><div class=article-image><img src=/posts/css-position/css-position-all.42b9a5d01f59988105a3193d68d648a6_hud1efeacf8fd95f5d9f6d9fb2a7cbafd8_14155_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy data-key data-hash="md5-Qrml0B9ZmIEFoxk9aNZIpg=="></div><div class=article-details><h2 class=article-title>css Position</h2></div></a></article><article class=has-image><a href=/posts/rand-perm/><div class=article-image><img src=/posts/rand-perm/permutation.aa97a1086ccc396697d1155d9cb2786b_hu807c4137de06b4a20a479ce4481e6a73_266543_250x150_fill_box_smart1_3.png width=250 height=150 loading=lazy data-key data-hash="md5-qpehCGzMOWaX0RVdnLJ4aw=="></div><div class=article-details><h2 class=article-title>perm函数</h2></div></a></article><article class=has-image><a href=/posts/permutation-combination/><div class=article-image><img src=/posts/permutation-combination/_hu4d888928ba67d202c9c16f8f815f1495_34652_b2a254b9a0b5a9edca3dd2c50bd3ddc4.webp width=250 height=150 loading=lazy data-key data-hash="md5-bM2Fa2qgVWdh2fVupKMj4Q=="></div><div class=article-details><h2 class=article-title>排列组合</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2006 -
2023 鬼画桃符</section><section class=powerby>豆腐炒糖</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous defer></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>